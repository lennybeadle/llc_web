"use strict";(self.webpackChunkllc_frontend=self.webpackChunkllc_frontend||[]).push([[791],{1791:(e,t,i)=>{i.r(t),i.d(t,{FirstLoadListeners:()=>h.F,GenerateSecureID:()=>h.G,Highlight:()=>Cu,HighlightWarning:()=>wu,MetricCategory:()=>h.n,getPreviousSessionData:()=>h.f,getTracer:()=>h.x,setupBrowserTracing:()=>h.y});var s,n,o,r,l,a,c,d,u=i(7528),h=i(16),p=Object.defineProperty,m=Object.defineProperties,b=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,Z=(e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,G=(e,t)=>{for(var i in t||(t={}))f.call(t,i)&&Z(e,i,t[i]);if(y)for(var i of y(t))g.call(t,i)&&Z(e,i,t[i]);return e},I=(e,t)=>m(e,b(t)),V=(e,t)=>{var i={};for(var s in e)f.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&y)for(var s of y(e))t.indexOf(s)<0&&g.call(e,s)&&(i[s]=e[s]);return i},S=(e,t,i)=>Z(e,"symbol"!=typeof t?t+"":t,i),W=(e,t,i)=>new Promise(((s,n)=>{var o=e=>{try{l(i.next(e))}catch(t){n(t)}},r=e=>{try{l(i.throw(e))}catch(t){n(t)}},l=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,r);l((i=i.apply(e,t)).next())}));function X(e,t){for(var i=0;i<t.length;i++){const s=t[i];if("string"!=typeof s&&!Array.isArray(s))for(const t in s)if("default"!==t&&!(t in e)){const i=Object.getOwnPropertyDescriptor(s,t);i&&Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:()=>s[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const R=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function w(e){return v[e.charCodeAt(0)]}const v=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],C=Object.freeze({});function k(e,t){const i=e[t];return"object"==typeof i?i:"function"==typeof i?{enter:i,leave:void 0}:{enter:e.enter,leave:e.leave}}function x(e){return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.Q;const s=new Map;for(const g of Object.values(h.K))s.set(g,k(t,g));let n,o,r,l=Array.isArray(e),a=[e],c=-1,d=[],u=e;const p=[],m=[];do{c++;const e=c===a.length,g=e&&0!==d.length;if(e){if(o=0===m.length?void 0:p[p.length-1],u=r,r=m.pop(),g)if(l){u=u.slice();let e=0;for(const[t,i]of d){const s=t-e;null===i?(u.splice(s,1),e++):u[s]=i}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[e,t]of d)u[e]=t}c=n.index,a=n.keys,d=n.edits,l=n.inArray,n=n.prev}else if(r){if(o=l?c:a[c],u=r[o],null==u)continue;p.push(o)}let Z;if(!Array.isArray(u)){var b,y;(0,h.i)(u)||(0,h.d)(!1,"Invalid AST Node: ".concat((0,h.a)(u),"."));const i=e?null===(b=s.get(u.kind))||void 0===b?void 0:b.leave:null===(y=s.get(u.kind))||void 0===y?void 0:y.enter;if(Z=null==i?void 0:i.call(t,u,o,r,p,m),Z===C)break;if(!1===Z){if(!e){p.pop();continue}}else if(void 0!==Z&&(d.push([o,Z]),!e)){if(!(0,h.i)(Z)){p.pop();continue}u=Z}}var f;void 0===Z&&g&&d.push([o,u]),e?p.pop():(n={inArray:l,index:c,keys:a,edits:d,prev:n},l=Array.isArray(u),a=l?u:null!==(f=i[u.kind])&&void 0!==f?f:[],c=-1,d=[],r&&m.push(r),r=u)}while(void 0!==n);return 0!==d.length?d[d.length-1][1]:e}(e,L)}const L={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Y(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=J("(",Y(e.variableDefinitions,", "),")"),i=Y([e.operation,Y([e.name,t]),Y(e.directives," ")]," ");return("query"===i?"":i+" ")+e.selectionSet}},VariableDefinition:{leave:e=>{let{variable:t,type:i,defaultValue:s,directives:n}=e;return t+": "+i+J(" = ",s)+J(" ",Y(n," "))}},SelectionSet:{leave:e=>{let{selections:t}=e;return T(t)}},Field:{leave(e){let{alias:t,name:i,arguments:s,directives:n,selectionSet:o}=e;const r=J("",t,": ")+i;let l=r+J("(",Y(s,", "),")");return l.length>80&&(l=r+J("(\n",N(Y(s,"\n")),"\n)")),Y([l,Y(n," "),o]," ")}},Argument:{leave:e=>{let{name:t,value:i}=e;return t+": "+i}},FragmentSpread:{leave:e=>{let{name:t,directives:i}=e;return"..."+t+J(" ",Y(i," "))}},InlineFragment:{leave:e=>{let{typeCondition:t,directives:i,selectionSet:s}=e;return Y(["...",J("on ",t),Y(i," "),s]," ")}},FragmentDefinition:{leave:e=>{let{name:t,typeCondition:i,variableDefinitions:s,directives:n,selectionSet:o}=e;return"fragment ".concat(t).concat(J("(",Y(s,", "),")")," on ").concat(i," ").concat(J("",Y(n," ")," "))+o}},IntValue:{leave:e=>{let{value:t}=e;return t}},FloatValue:{leave:e=>{let{value:t}=e;return t}},StringValue:{leave:e=>{let{value:t,block:i}=e;return i?(0,h.p)(t):function(e){return'"'.concat(e.replace(R,w),'"')}(t)}},BooleanValue:{leave:e=>{let{value:t}=e;return t?"true":"false"}},NullValue:{leave:()=>"null"},EnumValue:{leave:e=>{let{value:t}=e;return t}},ListValue:{leave:e=>{let{values:t}=e;return"["+Y(t,", ")+"]"}},ObjectValue:{leave:e=>{let{fields:t}=e;return"{"+Y(t,", ")+"}"}},ObjectField:{leave:e=>{let{name:t,value:i}=e;return t+": "+i}},Directive:{leave:e=>{let{name:t,arguments:i}=e;return"@"+t+J("(",Y(i,", "),")")}},NamedType:{leave:e=>{let{name:t}=e;return t}},ListType:{leave:e=>{let{type:t}=e;return"["+t+"]"}},NonNullType:{leave:e=>{let{type:t}=e;return t+"!"}},SchemaDefinition:{leave:e=>{let{description:t,directives:i,operationTypes:s}=e;return J("",t,"\n")+Y(["schema",Y(i," "),T(s)]," ")}},OperationTypeDefinition:{leave:e=>{let{operation:t,type:i}=e;return t+": "+i}},ScalarTypeDefinition:{leave:e=>{let{description:t,name:i,directives:s}=e;return J("",t,"\n")+Y(["scalar",i,Y(s," ")]," ")}},ObjectTypeDefinition:{leave:e=>{let{description:t,name:i,interfaces:s,directives:n,fields:o}=e;return J("",t,"\n")+Y(["type",i,J("implements ",Y(s," & ")),Y(n," "),T(o)]," ")}},FieldDefinition:{leave:e=>{let{description:t,name:i,arguments:s,type:n,directives:o}=e;return J("",t,"\n")+i+(U(s)?J("(\n",N(Y(s,"\n")),"\n)"):J("(",Y(s,", "),")"))+": "+n+J(" ",Y(o," "))}},InputValueDefinition:{leave:e=>{let{description:t,name:i,type:s,defaultValue:n,directives:o}=e;return J("",t,"\n")+Y([i+": "+s,J("= ",n),Y(o," ")]," ")}},InterfaceTypeDefinition:{leave:e=>{let{description:t,name:i,interfaces:s,directives:n,fields:o}=e;return J("",t,"\n")+Y(["interface",i,J("implements ",Y(s," & ")),Y(n," "),T(o)]," ")}},UnionTypeDefinition:{leave:e=>{let{description:t,name:i,directives:s,types:n}=e;return J("",t,"\n")+Y(["union",i,Y(s," "),J("= ",Y(n," | "))]," ")}},EnumTypeDefinition:{leave:e=>{let{description:t,name:i,directives:s,values:n}=e;return J("",t,"\n")+Y(["enum",i,Y(s," "),T(n)]," ")}},EnumValueDefinition:{leave:e=>{let{description:t,name:i,directives:s}=e;return J("",t,"\n")+Y([i,Y(s," ")]," ")}},InputObjectTypeDefinition:{leave:e=>{let{description:t,name:i,directives:s,fields:n}=e;return J("",t,"\n")+Y(["input",i,Y(s," "),T(n)]," ")}},DirectiveDefinition:{leave:e=>{let{description:t,name:i,arguments:s,repeatable:n,locations:o}=e;return J("",t,"\n")+"directive @"+i+(U(s)?J("(\n",N(Y(s,"\n")),"\n)"):J("(",Y(s,", "),")"))+(n?" repeatable":"")+" on "+Y(o," | ")}},SchemaExtension:{leave:e=>{let{directives:t,operationTypes:i}=e;return Y(["extend schema",Y(t," "),T(i)]," ")}},ScalarTypeExtension:{leave:e=>{let{name:t,directives:i}=e;return Y(["extend scalar",t,Y(i," ")]," ")}},ObjectTypeExtension:{leave:e=>{let{name:t,interfaces:i,directives:s,fields:n}=e;return Y(["extend type",t,J("implements ",Y(i," & ")),Y(s," "),T(n)]," ")}},InterfaceTypeExtension:{leave:e=>{let{name:t,interfaces:i,directives:s,fields:n}=e;return Y(["extend interface",t,J("implements ",Y(i," & ")),Y(s," "),T(n)]," ")}},UnionTypeExtension:{leave:e=>{let{name:t,directives:i,types:s}=e;return Y(["extend union",t,Y(i," "),J("= ",Y(s," | "))]," ")}},EnumTypeExtension:{leave:e=>{let{name:t,directives:i,values:s}=e;return Y(["extend enum",t,Y(i," "),T(s)]," ")}},InputObjectTypeExtension:{leave:e=>{let{name:t,directives:i,fields:s}=e;return Y(["extend input",t,Y(i," "),T(s)]," ")}}};function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var i;return null!==(i=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==i?i:""}function T(e){return J("{\n",N(Y(e,"\n")),"\n}")}function J(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function N(e){return J("  ",e.replace(/\n/g,"\n  "))}function U(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}const K={key:"_sid"},F=e=>{const t=e?Object.assign({},K,e):K;let i=0;return{name:"rrweb/sequential-id@1",eventProcessor:e=>(Object.assign(e,{[t.key]:++i}),e),options:t}},M=JSON,H=e=>{var t,i;let s;const n=e.definitions.filter((e=>"OperationDefinition"===e.kind));return 1===n.length&&(s=null==(i=null==(t=n[0])?void 0:t.name)?void 0:i.value),s},z=e=>{if("string"==typeof e){let t;try{const i=(0,h.b)(e);t=H(i)}catch(i){}return{query:e,operationName:t}}const t=H(e);return{query:x(e),operationName:t}};class O extends Error{constructor(e,t){super("".concat(O.extractMessage(e),": ").concat(JSON.stringify({response:e,request:t}))),Object.setPrototypeOf(this,O.prototype),this.response=e,this.request=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,O)}static extractMessage(e){var t,i,s;return null!=(s=null==(i=null==(t=e.errors)?void 0:t[0])?void 0:i.message)?s:"GraphQL Error (Code: ".concat(e.status,")")}}var P={exports:{}};!function(e,t){var i,s="undefined"!=typeof self?self:h.c,n=function(){function e(){this.fetch=!1,this.DOMException=s.DOMException}return e.prototype=s,new e}();i=n,function(e){var t="URLSearchParams"in i,s="Symbol"in i&&"iterator"in Symbol,n="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in i,r="ArrayBuffer"in i;if(r)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function b(e){var t=new FileReader,i=m(t);return t.readAsArrayBuffer(e),i}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r&&n&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,i=m(t);return t.readAsText(e),i}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),s=0;s<t.length;s++)i[s]=String.fromCharCode(t[s]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=d(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),u(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),u(e)},s&&(h.prototype[Symbol.iterator]=h.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Z(e,t){var i=(t=t||{}).body;if(e instanceof Z){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!i&&null!=e._bodyInit&&(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function G(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var i=e.split("="),s=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(s),decodeURIComponent(n))}})),t}function I(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var i=e.split(":"),s=i.shift().trim();if(s){var n=i.join(":").trim();t.append(s,n)}})),t}function V(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}Z.prototype.clone=function(){return new Z(this,{body:this._bodyInit})},f.call(Z.prototype),f.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},V.error=function(){var e=new V(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];V.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new V(null,{status:t,headers:{location:e}})},e.DOMException=i.DOMException;try{new e.DOMException}catch(X){e.DOMException=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function W(t,i){return new Promise((function(s,o){var r=new Z(t,i);if(r.signal&&r.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function a(){l.abort()}l.onload=function(){var e={status:l.status,statusText:l.statusText,headers:I(l.getAllResponseHeaders()||"")};e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;s(new V(t,e))},l.onerror=function(){o(new TypeError("Network request failed"))},l.ontimeout=function(){o(new TypeError("Network request failed"))},l.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},l.open(r.method,r.url,!0),"include"===r.credentials?l.withCredentials=!0:"omit"===r.credentials&&(l.withCredentials=!1),"responseType"in l&&n&&(l.responseType="blob"),r.headers.forEach((function(e,t){l.setRequestHeader(t,e)})),r.signal&&(r.signal.addEventListener("abort",a),l.onreadystatechange=function(){4===l.readyState&&r.signal.removeEventListener("abort",a)}),l.send("undefined"==typeof r._bodyInit?null:r._bodyInit)}))}W.polyfill=!0,i.fetch||(i.fetch=W,i.Headers=h,i.Request=Z,i.Response=V),e.Headers=h,e.Request=Z,e.Response=V,e.fetch=W,Object.defineProperty(e,"__esModule",{value:!0})}({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t}(P,P.exports);var E=P.exports;const B=(0,h.g)(E),j=X({__proto__:null,default:B},[E]),D=e=>{let t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||j&&E.Headers&&e instanceof E.Headers?t=(e=>{const t={};return e.forEach(((e,i)=>{t[i]=e})),t})(e):Array.isArray(e)?e.forEach((e=>{let[i,s]=e;i&&void 0!==s&&(t[i]=s)})):t=e),t},Q=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),A=e=>t=>W(void 0,null,(function*(){var i;const{url:s,query:n,variables:o,operationName:r,fetch:l,fetchOptions:a,middleware:c}=t,d=G({},t.headers);let u,h="";"POST"===e?(u=$(n,o,r,a.jsonSerializer),"string"==typeof u&&(d["Content-Type"]="application/json")):h=(e=>{if(!Array.isArray(e.query)){const t=e,i=["query=".concat(encodeURIComponent(Q(t.query)))];return e.variables&&i.push("variables=".concat(encodeURIComponent(t.jsonSerializer.stringify(t.variables)))),t.operationName&&i.push("operationName=".concat(encodeURIComponent(t.operationName))),i.join("&")}if("undefined"!=typeof e.variables&&!Array.isArray(e.variables))throw new Error("Cannot create query with given variable type, array expected");const t=e,i=e.query.reduce(((e,i,s)=>(e.push({query:Q(i),variables:t.variables?t.jsonSerializer.stringify(t.variables[s]):void 0}),e)),[]);return"query=".concat(encodeURIComponent(t.jsonSerializer.stringify(i)))})({query:n,variables:o,operationName:r,jsonSerializer:null!=(i=a.jsonSerializer)?i:M});const p=G({method:e,headers:d,body:u},a);let m=s,b=p;if(c){const e=yield Promise.resolve(c(I(G({},p),{url:s,operationName:r,variables:o}))),{url:t}=e;m=t,b=V(e,["url"])}return h&&(m="".concat(m,"?").concat(h)),yield l(m,b)}));class _{constructor(e){var t=this;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.requestConfig=i,this.rawRequest=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return W(t,null,(function*(){const[e,t,s]=i,n=((e,t,i)=>e.query?e:{query:e,variables:t,requestHeaders:i,signal:void 0})(e,t,s),o=this.requestConfig,{headers:r,fetch:l=B,method:a="POST",requestMiddleware:c,responseMiddleware:d}=o,u=V(o,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:h}=this;void 0!==n.signal&&(u.signal=n.signal);const{operationName:p}=z(n.query);return q({url:h,query:n.query,variables:n.variables,headers:G(G({},D(te(r))),D(n.requestHeaders)),operationName:p,fetch:l,method:a,fetchOptions:u,middleware:c}).then((e=>(d&&d(e),e))).catch((e=>{throw d&&d(e),e}))}))}}request(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return W(this,null,(function*(){const[t,s]=i,n=((e,t,i)=>e.document?e:{document:e,variables:t,requestHeaders:i,signal:void 0})(e,t,s),o=this.requestConfig,{headers:r,fetch:l=B,method:a="POST",requestMiddleware:c,responseMiddleware:d}=o,u=V(o,["headers","fetch","method","requestMiddleware","responseMiddleware"]),{url:h}=this;void 0!==n.signal&&(u.signal=n.signal);const{query:p,operationName:m}=z(n.document);return q({url:h,query:p,variables:n.variables,headers:G(G({},D(te(r))),D(n.requestHeaders)),operationName:m,fetch:l,method:a,fetchOptions:u,middleware:c}).then((e=>(d&&d(e),e.data))).catch((e=>{throw d&&d(e),e}))}))}batchRequests(e,t){var i;const s=((e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0})(e,t),n=this.requestConfig,{headers:o}=n,r=V(n,["headers"]);void 0!==s.signal&&(r.signal=s.signal);const l=s.documents.map((e=>{let{document:t}=e;return z(t).query})),a=s.documents.map((e=>{let{variables:t}=e;return t}));return q({url:this.url,query:l,variables:a,headers:G(G({},D(te(o))),D(s.requestHeaders)),operationName:void 0,fetch:null!=(i=this.requestConfig.fetch)?i:B,method:this.requestConfig.method||"POST",fetchOptions:r,middleware:this.requestConfig.requestMiddleware}).then((e=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e.data))).catch((e=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e}))}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){const{headers:i}=this.requestConfig;return i?i[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}const q=e=>W(void 0,null,(function*(){var t,i;const{query:s,variables:n,fetchOptions:o}=e,r=A((e=>e.toUpperCase())(null!=(t=e.method)?t:"post")),l=Array.isArray(e.query),a=yield r(e),c=yield ee(a,null!=(i=o.jsonSerializer)?i:M),d=Array.isArray(c)?!c.some((e=>{let{data:t}=e;return!t})):!!c.data,u=Array.isArray(c)||!c.errors||Array.isArray(c.errors)&&!c.errors.length||"all"===o.errorPolicy||"ignore"===o.errorPolicy;if(a.ok&&u&&d){const e=(Array.isArray(c),c),{errors:t}=e,i=V(e,["errors"]),s="ignore"===o.errorPolicy?i:c;return I(G({},l?{data:s}:s),{headers:a.headers,status:a.status})}throw new O(I(G({},"string"==typeof c?{error:c}:c),{status:a.status,headers:a.headers}),{query:s,variables:n})})),$=(e,t,i,s)=>{const n=null!=s?s:M;if(!Array.isArray(e))return n.stringify({query:e,variables:t,operationName:i});if("undefined"!=typeof t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");const o=e.reduce(((e,i,s)=>(e.push({query:i,variables:t?t[s]:void 0}),e)),[]);return n.stringify(o)},ee=(e,t)=>W(void 0,null,(function*(){let i;return e.headers.forEach(((e,t)=>{"content-type"===t.toLowerCase()&&(i=e)})),i&&(i.toLowerCase().startsWith("application/json")||i.toLowerCase().startsWith("application/graphql+json")||i.toLowerCase().startsWith("application/graphql-response+json"))?t.parse(yield e.text()):e.text()})),te=e=>"function"==typeof e?e():e;var ie,se=Object.defineProperty,ne=(e,t,i)=>((e,t,i)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i),oe=Object.defineProperty,re=(e,t,i)=>((e,t,i)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i),le=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(le||{});const ae={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},ce={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},de={};function ue(e){if(de[e])return de[e];const t=globalThis[e],i=t.prototype,s=e in ae?ae[e]:void 0,n=!(!s||!s.every((e=>{var t,s;return!(null==(s=null==(t=Object.getOwnPropertyDescriptor(i,e))?void 0:t.get)||!s.toString().includes("[native code]"))}))),o=e in ce?ce[e]:void 0,r=!(!o||!o.every((e=>{var t;return"function"==typeof i[e]&&(null==(t=i[e])?void 0:t.toString().includes("[native code]"))})));if(n&&r)return de[e]=t.prototype,t.prototype;try{const s=document.createElement("iframe");document.body.appendChild(s);const n=s.contentWindow;if(!n)return t.prototype;const o=n[e].prototype;return document.body.removeChild(s),o?de[e]=o:i}catch(l){return i}}const he={};function pe(e,t,i){var s;const n="".concat(e,".").concat(String(i));if(he[n])return he[n].call(t);const o=ue(e),r=null==(s=Object.getOwnPropertyDescriptor(o,i))?void 0:s.get;return r?(he[n]=r,r.call(t)):t[i]}const me={};function be(e,t,i){const s="".concat(e,".").concat(String(i));if(me[s])return me[s].bind(t);const n=ue(e)[i];return"function"!=typeof n?t[i]:(me[s]=n,n.bind(t))}const ye={childNodes:function(e){return pe("Node",e,"childNodes")},parentNode:function(e){return pe("Node",e,"parentNode")},parentElement:function(e){return pe("Node",e,"parentElement")},textContent:function(e){return pe("Node",e,"textContent")},contains:function(e,t){return be("Node",e,"contains")(t)},getRootNode:function(e){return be("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?pe("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?pe("Element",e,"shadowRoot"):null},querySelector:function(e,t){return pe("Element",e,"querySelector")(t)},querySelectorAll:function(e,t){return pe("Element",e,"querySelectorAll")(t)},mutationObserver:function(){return ue("MutationObserver").constructor}};function fe(e){return e.nodeType===e.ELEMENT_NODE}function ge(e){const t=e&&"host"in e&&"mode"in e&&ye.host(e)||null;return!(!t||!("shadowRoot"in t)||ye.shadowRoot(t)!==e)}function Ze(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Ge(e){try{const t=e.rules||e.cssRules;if(!t)return null;return function(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}(Array.from(t,(t=>Ie(t,e.href))).join(""))}catch(t){return null}}function Ie(e,t){if(function(e){return"styleSheet"in e}(e)){let t;try{t=Ge(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const i=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?i.push("layer"):e.layerName&&i.push("layer(".concat(e.layerName,")")),e.supportsText&&i.push("supports(".concat(e.supportsText,")")),e.media.length&&i.push(e.media.mediaText),i.join(" ")+";"}(e)}catch(i){t=e.cssText}return e.styleSheet.href?Le(t,e.styleSheet.href):t}{let i=e.cssText;return function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":")&&(i=function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(i)),t?Le(i,t):i}}class Ve{constructor(){re(this,"idNodeMap",new Map),re(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const i=null==(t=this.getMeta(e))?void 0:t.id;return null!=i?i:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const i=t.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,t)}replace(e,t){const i=this.getNode(e);if(i){const e=this.nodeMetaMap.get(i);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Se(e){let{element:t,maskInputOptions:i,tagName:s,type:n,value:o,overwriteRecord:r,maskInputFn:l}=e,a=o||"";return Ue({maskInputOptions:i,tagName:s,type:n,overwriteRecord:r})&&(a=l?l(a,t):"*".repeat(a.length)),a}function We(e){return e.toLowerCase()}const Xe="__rrweb_original__";function Re(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?We(t):null}function we(e,t){var i;let s;try{s=new URL(e,window.location.href)}catch(o){return null}const n=s.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!=(i=null==n?void 0:n[1])?i:null}const ve=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ce=/^(?:[a-z+]+:)?\/\//i,ke=/^www\..*/i,xe=/^(data:)([^,]*),(.*)/i;function Le(e,t){return(e||"").replace(ve,((e,i,s,n,o,r)=>{const l=s||o||r,a=i||n||"";if(!l)return e;if(Ce.test(l)||ke.test(l))return"url(".concat(a).concat(l).concat(a,")");if(xe.test(l))return"url(".concat(a).concat(l).concat(a,")");if("/"===l[0])return"url(".concat(a).concat(function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+l).concat(a,")");const c=t.split("/"),d=l.split("/");c.pop();for(const t of d)"."!==t&&(".."===t?c.pop():c.push(t));return"url(".concat(a).concat(c.join("/")).concat(a,")")}))}function Ye(e){return e=(null==(e=e.replace(/[^ -~]+/g,""))?void 0:e.split(" ").map((e=>Math.random().toString(20).substring(2,e.length))).join(" "))||""}function Te(e){return"img"===e||"video"===e||"audio"===e||"source"===e}const Je=[new RegExp(/[a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*/),new RegExp(/[0-9]{9,16}/),new RegExp(/[0-9]{3}-?[0-9]{2}-?[0-9]{4}/),new RegExp(/[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}/),new RegExp(/[0-9]{4}-?[0-9]{4}-?[0-9]{4}-?[0-9]{4}/),new RegExp(/[0-9]{1,5}.?[0-9]{0,3}\s[a-zA-Z]{2,30}\s[a-zA-Z]{2,15}/),new RegExp(/(?:[0-9]{1,3}.){3}[0-9]{1,3}/)];function Ne(e){return!!e&&Je.some((t=>t.test(e)))}const Ue=e=>{let{maskInputOptions:t,tagName:i,type:s,overwriteRecord:n}=e;const o=s&&s.toLowerCase();return"true"!==n&&(!!t[i.toLowerCase()]||!(!o||!t[o]))};let Ke=1;const Fe=new RegExp("[^a-z0-9-_:]");function Me(){return Ke++}let He,ze;const Oe=/^[^ \t\n\r\u000c]+/,Pe=/^[, \t\n\r\u000c]+/;const Ee=new WeakMap;function Be(e,t){return t&&""!==t.trim()?De(e,t):t}function je(e){return!("svg"!==e.tagName&&!e.ownerSVGElement)}function De(e,t){let i=Ee.get(e);if(i||(i=e.createElement("a"),Ee.set(e,i)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return i.setAttribute("href",t),i.href}function Qe(e,t,i,s){return s&&("src"===i||"href"===i&&("use"!==t||"#"!==s[0])||"xlink:href"===i&&"#"!==s[0]||"background"===i&&("table"===t||"td"===t||"th"===t)?Be(e,s):"srcset"===i?function(e,t){if(""===t.trim())return t;let i=0;function s(e){let s;const n=e.exec(t.substring(i));return n?(s=n[0],i+=s.length,s):""}const n=[];for(;s(Pe),!(i>=t.length);){let o=s(Oe);if(","===o.slice(-1))o=Be(e,o.substring(0,o.length-1)),n.push(o);else{let s="";o=Be(e,o);let r=!1;for(;;){const e=t.charAt(i);if(""===e){n.push((o+s).trim());break}if(r)")"===e&&(r=!1);else{if(","===e){i+=1,n.push((o+s).trim());break}"("===e&&(r=!0)}s+=e,i+=1}}}return n.join(", ")}(e,s):"style"===i?Le(s,De(e)):"object"===t&&"data"===i?Be(e,s):s)}function Ae(e,t,i){return("video"===e||"audio"===e)&&"autoplay"===t}function _e(e,t,i){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(i)return e.matches(i)}catch(s){}return!1}function qe(e,t,i){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!i&&qe(ye.parentNode(e),t,i);for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}return!!i&&qe(ye.parentNode(e),t,i)}function $e(e,t,i,s){let n;if(fe(e)){if(n=e,!ye.childNodes(n).length)return!1}else{if(null===ye.parentElement(e))return!1;n=ye.parentElement(e)}try{if("string"==typeof t){if(s){if(n.closest(".".concat(t)))return!0}else if(n.classList.contains(t))return!0}else if(qe(n,t,s))return!0;if(i)if(s){if(n.closest(i))return!0}else if(n.matches(i))return!0}catch(o){}return!1}function et(e,t){const{doc:i,mirror:s,blockClass:n,blockSelector:o,needsMask:r,inlineStylesheet:l,maskInputOptions:a={},maskTextClass:c,maskTextFn:d,maskInputFn:u,dataURLOptions:h={},inlineImages:p,recordCanvas:m,keepIframeSrcFn:b,newlyAddedElement:y=!1,privacySetting:f}=t,g=function(e,t){if(!t.hasNode(e))return;const i=t.getId(e);return 1===i?void 0:i}(i,s);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:le.Document,childNodes:[],compatMode:e.compatMode}:{type:le.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:le.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:g};case e.ELEMENT_NODE:return function(e,t){const{doc:i,blockClass:s,blockSelector:n,inlineStylesheet:o,maskInputOptions:r={},maskInputFn:l,maskTextClass:a,dataURLOptions:c={},inlineImages:d,recordCanvas:u,keepIframeSrcFn:h,newlyAddedElement:p=!1,privacySetting:m,rootId:b}=t;let y=_e(e,s,n);const f=_e(e,a,null),g="strict"===m;let Z=function(e){if(e instanceof HTMLFormElement)return"form";const t=We(e.tagName);return Fe.test(t)?"div":t}(e),G={};const I=e.attributes.length;for(let W=0;W<I;W++){const t=e.attributes[W];Ae(Z,t.name)||(G[t.name]=Qe(i,Z,We(t.name),t.value))}if("link"===Z&&o){const t=Array.from(i.styleSheets).find((t=>t.href===e.href));let s=null;t&&(s=Ge(t)),s&&(delete G.rel,delete G.href,G._cssText=s)}if("style"===Z&&e.sheet&&!(e.innerText||ye.textContent(e)||"").trim().length){const t=Ge(e.sheet);t&&(G._cssText=t)}if("input"===Z||"textarea"===Z||"select"===Z){const t=e.value,i=e.checked;"radio"!==G.type&&"checkbox"!==G.type&&"submit"!==G.type&&"button"!==G.type&&t?G.value=Se({element:e,type:Re(e),tagName:Z,value:t,overwriteRecord:e.getAttribute("data-hl-record"),maskInputOptions:r,maskInputFn:l}):i&&(G.checked=i)}if("option"===Z&&(e.selected&&!r.select?G.selected=!0:delete G.selected),"dialog"===Z&&e.open&&(G.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),"canvas"===Z&&u)if("2d"===e.__context)!function(e){const t=e.getContext("2d");if(!t)return!0;for(let i=0;i<e.width;i+=50)for(let s=0;s<e.height;s+=50){const n=t.getImageData,o=Xe in n?n[Xe]:n;if(new Uint32Array(o.call(t,i,s,Math.min(50,e.width-i),Math.min(50,e.height-s)).data.buffer).some((e=>0!==e)))return!1}}(e);else if(!("__context"in e)){const t=e.toDataURL(c.type,c.quality),s=i.createElement("canvas");s.width=e.width,s.height=e.height;t!==s.toDataURL(c.type,c.quality)&&(G.rr_dataURL=t)}if("img"===Z&&d&&!y&&!f&&!g){He||(He=i.createElement("canvas"),ze=He.getContext("2d"));const t=e,s=t.currentSrc||t.getAttribute("src")||"<unknown-src>",n=t.crossOrigin,o=()=>{t.removeEventListener("load",o);try{He.width=t.naturalWidth,He.height=t.naturalHeight,ze.drawImage(t,0,0),G.rr_dataURL=He.toDataURL(c.type,c.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o));console.warn("Cannot inline img src=".concat(s,"! Error: ").concat(e))}"anonymous"===t.crossOrigin&&(n?G.crossOrigin=n:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}if("audio"===Z||"video"===Z){const t=G;t.rr_mediaState=e.paused?"paused":"played",t.rr_mediaCurrentTime=e.currentTime,t.rr_mediaPlaybackRate=e.playbackRate,t.rr_mediaMuted=e.muted,t.rr_mediaLoop=e.loop,t.rr_mediaVolume=e.volume}if(p||(e.scrollLeft&&(G.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(G.rr_scrollTop=e.scrollTop)),y||f||g&&Te(Z)){const{width:t,height:i}=e.getBoundingClientRect();G={class:G.class,rr_width:"".concat(t,"px"),rr_height:"".concat(i,"px")}}let V;g&&Te(Z)&&(y=!0),"iframe"===Z&&!h(G.src)&&(e.contentDocument||(G.rr_src=G.src),delete G.src);try{customElements.get(Z)&&(V=!0)}catch(S){}if(d&&"video"===Z){const t=e;if(""===t.src||-1!==t.src.indexOf("blob:")){const{width:t,height:s}=e.getBoundingClientRect();G={width:t,height:s,rr_width:"".concat(t,"px"),rr_height:"".concat(s,"px"),rr_inlined_video:!0,class:G.class,style:G.style},Z="canvas";const n=i.createElement("canvas");n.width=e.width,n.height=e.height,G.rr_dataURL=n.toDataURL(c.type,c.quality)}}return{type:le.Element,tagName:Z,attributes:G,childNodes:[],isSVG:je(e)||void 0,needBlock:y,needMask:f,rootId:b,isCustom:V}}(e,{doc:i,blockClass:n,blockSelector:o,inlineStylesheet:l,maskInputOptions:a,maskInputFn:u,maskTextClass:c,dataURLOptions:h,inlineImages:p,recordCanvas:m,keepIframeSrcFn:b,newlyAddedElement:y,privacySetting:f,rootId:g});case e.TEXT_NODE:return function(e,t){var i,s;const{needsMask:n,maskTextFn:o,privacySetting:r,rootId:l}=t,a=ye.parentNode(e),c=a&&a.tagName;let d=ye.textContent(e);const u="STYLE"===c||void 0,h="SCRIPT"===c||void 0;if(u&&d){try{e.nextSibling||e.previousSibling||null!=(i=a.sheet)&&i.cssRules&&(d=Ge(a.sheet))}catch(y){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(y),e)}d=Le(d,De(t.doc))}h&&(d="SCRIPT_PLACEHOLDER"),!u&&!h&&d&&n&&(d=o?o(d,ye.parentElement(e)):d.replace(/[\S]/g,"*"));const p="strict"===r,m=null==(s=e.parentElement)?void 0:s.getAttribute("data-hl-record"),b="default"===r&&Ne(d);return(p||b)&&!m&&c&&!new Set(["HEAD","TITLE","STYLE","SCRIPT","HTML","BODY","NOSCRIPT"]).has(c)&&d&&(d=Ye(d)),{type:le.Text,textContent:d||"",isStyle:u,rootId:l}}(e,{doc:i,needsMask:r,maskTextFn:d,privacySetting:f,rootId:g});case e.CDATA_SECTION_NODE:return{type:le.CDATA,textContent:"",rootId:g};case e.COMMENT_NODE:return{type:le.Comment,textContent:ye.textContent(e)||"",rootId:g};default:return!1}}function tt(e){return null==e?"":e.toLowerCase()}function it(e,t){const{doc:i,mirror:s,blockClass:n,blockSelector:o,maskTextClass:r,maskTextSelector:l,skipChild:a=!1,inlineStylesheet:c=!0,maskInputOptions:d={},maskTextFn:u,maskInputFn:h,slimDOMOptions:p,dataURLOptions:m={},inlineImages:b=!1,recordCanvas:y=!1,onSerialize:f,onIframeLoad:g,iframeLoadTimeout:Z=5e3,onStylesheetLoad:G,stylesheetLoadTimeout:I=5e3,keepIframeSrcFn:V=()=>!1,newlyAddedElement:S=!1,privacySetting:W}=t;let{needsMask:X}=t,{preserveWhiteSpace:R=!0}=t;X||(X=$e(e,r,l,void 0===X));const w=et(e,{doc:i,mirror:s,blockClass:n,blockSelector:o,needsMask:X,inlineStylesheet:c,maskInputOptions:d,maskTextClass:r,maskTextFn:u,maskInputFn:h,dataURLOptions:m,inlineImages:b,recordCanvas:y,keepIframeSrcFn:V,newlyAddedElement:S,privacySetting:W});if(!w)return console.warn(e,"not serialized"),null;let v;v=s.hasNode(e)?s.getId(e):function(e,t){if(t.comment&&e.type===le.Comment)return!0;if(e.type===le.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===we(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(tt(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===tt(e.attributes.name)||"icon"===tt(e.attributes.rel)||"apple-touch-icon"===tt(e.attributes.rel)||"shortcut icon"===tt(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&tt(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(tt(e.attributes.property).match(/^(og|twitter|fb):/)||tt(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===tt(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===tt(e.attributes.name)||"googlebot"===tt(e.attributes.name)||"bingbot"===tt(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===tt(e.attributes.name)||"generator"===tt(e.attributes.name)||"framework"===tt(e.attributes.name)||"publisher"===tt(e.attributes.name)||"progid"===tt(e.attributes.name)||tt(e.attributes.property).match(/^article:/)||tt(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===tt(e.attributes.name)||"yandex-verification"===tt(e.attributes.name)||"csrf-token"===tt(e.attributes.name)||"p:domain_verify"===tt(e.attributes.name)||"verify-v1"===tt(e.attributes.name)||"verification"===tt(e.attributes.name)||"shopify-checkout-api-token"===tt(e.attributes.name)))return!0}}return!1}(w,p)||!R&&w.type===le.Text&&!w.isStyle&&!w.textContent.replace(/^\s+|\s+$/gm,"").length?-2:Me();const C=Object.assign(w,{id:v});if(s.add(e,C),-2===v)return null;f&&f(e);let k=!a,x=W,L="strict"===W;if(C.type===le.Element){if(k=k&&!C.needBlock,L||(L=!!C.needBlock||!!C.needMask),x=L?"strict":x,L&&Te(C.tagName)){const t=e.cloneNode();t.src="",s.add(t,C)}delete C.needBlock,delete C.needMask;const t=ye.shadowRoot(e);t&&Ze(t)&&(C.isShadowHost=!0)}if((C.type===le.Document||C.type===le.Element)&&k){p.headWhitespace&&C.type===le.Element&&"head"===C.tagName&&(R=!1);const t={doc:i,mirror:s,blockClass:n,blockSelector:o,needsMask:X,maskTextClass:r,maskTextSelector:l,skipChild:a,inlineStylesheet:c,maskInputOptions:d,maskTextFn:u,maskInputFn:h,slimDOMOptions:p,dataURLOptions:m,inlineImages:b,recordCanvas:y,preserveWhiteSpace:R,onSerialize:f,onIframeLoad:g,iframeLoadTimeout:Z,onStylesheetLoad:G,stylesheetLoadTimeout:I,keepIframeSrcFn:V,privacySetting:x};if(C.type!==le.Element||"textarea"!==C.tagName||void 0===C.attributes.value)for(const i of Array.from(ye.childNodes(e))){const e=it(i,t);e&&C.childNodes.push(e)}let S=null;if(fe(e)&&(S=ye.shadowRoot(e)))for(const e of Array.from(ye.childNodes(S))){const i=it(e,t);i&&(Ze(S)&&(i.isShadow=!0),C.childNodes.push(i))}}const Y=ye.parentNode(e);return Y&&ge(Y)&&Ze(Y)&&(C.isShadow=!0),C.type===le.Element&&"iframe"===C.tagName&&function(e,t,i){const s=e.contentWindow;if(!s)return;let n,o=!1;try{n=s.document.readyState}catch(l){return}if("complete"!==n){const s=setTimeout((()=>{o||(t(),o=!0)}),i);return void e.addEventListener("load",(()=>{clearTimeout(s),o=!0,t()}))}const r="about:blank";if(s.location.href!==r||e.src===r||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&g){const i=it(t,{doc:t,mirror:s,blockClass:n,blockSelector:o,needsMask:X,maskTextClass:r,maskTextSelector:l,skipChild:!1,inlineStylesheet:c,maskInputOptions:d,maskTextFn:u,maskInputFn:h,slimDOMOptions:p,dataURLOptions:m,inlineImages:b,recordCanvas:y,preserveWhiteSpace:R,onSerialize:f,onIframeLoad:g,iframeLoadTimeout:Z,onStylesheetLoad:G,stylesheetLoadTimeout:I,keepIframeSrcFn:V,privacySetting:W});i&&g(e,i)}}),Z),C.type===le.Element&&"link"===C.tagName&&"string"==typeof C.attributes.rel&&("stylesheet"===C.attributes.rel||"preload"===C.attributes.rel&&"string"==typeof C.attributes.href&&"css"===we(C.attributes.href))&&function(e,t,i){let s,n=!1;try{s=e.sheet}catch(r){return}if(s)return;const o=setTimeout((()=>{n||(t(),n=!0)}),i);e.addEventListener("load",(()=>{clearTimeout(o),n=!0,t()}))}(e,(()=>{if(G){const t=it(e,{doc:i,mirror:s,blockClass:n,blockSelector:o,needsMask:X,maskTextClass:r,maskTextSelector:l,skipChild:!1,inlineStylesheet:c,maskInputOptions:d,maskTextFn:u,maskInputFn:h,slimDOMOptions:p,dataURLOptions:m,inlineImages:b,recordCanvas:y,preserveWhiteSpace:R,onSerialize:f,onIframeLoad:g,iframeLoadTimeout:Z,onStylesheetLoad:G,stylesheetLoadTimeout:I,keepIframeSrcFn:V,privacySetting:W});t&&G(e,t)}}),I),C}function st(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var i=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var s=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,s.get?s:{enumerable:!0,get:function(){return e[t]}})})),i}var nt={exports:{}},ot=String,rt=function(){return{isColorSupported:!1,reset:ot,bold:ot,dim:ot,italic:ot,underline:ot,inverse:ot,hidden:ot,strikethrough:ot,black:ot,red:ot,green:ot,yellow:ot,blue:ot,magenta:ot,cyan:ot,white:ot,gray:ot,bgBlack:ot,bgRed:ot,bgGreen:ot,bgYellow:ot,bgBlue:ot,bgMagenta:ot,bgCyan:ot,bgWhite:ot,blackBright:ot,redBright:ot,greenBright:ot,yellowBright:ot,blueBright:ot,magentaBright:ot,cyanBright:ot,whiteBright:ot,bgBlackBright:ot,bgRedBright:ot,bgGreenBright:ot,bgYellowBright:ot,bgBlueBright:ot,bgMagentaBright:ot,bgCyanBright:ot,bgWhiteBright:ot}};nt.exports=rt(),nt.exports.createColors=rt;var lt=nt.exports;const at=st(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let ct=lt,dt=at,ut=class e extends Error{constructor(t,i,s,n,o,r){super(t),this.name="CssSyntaxError",this.reason=t,o&&(this.file=o),n&&(this.source=n),r&&(this.plugin=r),"undefined"!=typeof i&&"undefined"!=typeof s&&("number"==typeof i?(this.line=i,this.column=s):(this.line=i.line,this.column=i.column,this.endLine=s.line,this.endColumn=s.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>","undefined"!=typeof this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=ct.isColorSupported);let i=e=>e,s=e=>e,n=e=>e;if(e){let{bold:e,gray:t,red:o}=ct.createColors(!0);s=t=>e(o(t)),i=e=>t(e),dt&&(n=e=>dt(e))}let o=t.split(/\r?\n/),r=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),a=String(l).length;return o.slice(r,l).map(((e,t)=>{let o=r+1+t,l=" "+(" "+o).slice(-a)+" | ";if(o===this.line){if(e.length>160){let t=20,o=Math.max(0,this.column-t),r=Math.max(this.column+t,this.endColumn+t),a=e.slice(o,r),c=i(l.replace(/\d/g," "))+e.slice(0,Math.min(this.column-1,t-1)).replace(/[^\t]/g," ");return s(">")+i(l)+n(a)+"\n "+c+s("^")}let t=i(l.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return s(">")+i(l)+n(e)+"\n "+t+s("^")}return" "+i(l)+n(e)})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};var ht=ut;ut.default=ut;const pt={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let mt=class{constructor(e){this.builder=e}atrule(e,t){let i="@"+e.name,s=e.params?this.rawValue(e,"params"):"";if("undefined"!=typeof e.raws.afterName?i+=e.raws.afterName:s&&(i+=" "),e.nodes)this.block(e,i+s);else{let n=(e.raws.between||"")+(t?";":"");this.builder(i+s+n,e)}}beforeAfter(e,t){let i;i="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let s=e.parent,n=0;for(;s&&"root"!==s.type;)n+=1,s=s.parent;if(i.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<n;e++)i+=t}return i}block(e,t){let i,s=this.raw(e,"between","beforeOpen");this.builder(t+s+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let i=this.raw(e,"semicolon");for(let s=0;s<e.nodes.length;s++){let n=e.nodes[s],o=this.raw(n,"before");o&&this.builder(o),this.stringify(n,t!==s||i)}}comment(e){let t=this.raw(e,"left","commentLeft"),i=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+i+"*/",e)}decl(e,t){let i=this.raw(e,"between","colon"),s=e.prop+i+this.rawValue(e,"value");e.important&&(s+=e.raws.important||" !important"),t&&(s+=";"),this.builder(s,e)}document(e){this.body(e)}raw(e,t,i){let s;if(i||(i=t),t&&(s=e.raws[t],"undefined"!=typeof s))return s;let n=e.parent;if("before"===i&&(!n||"root"===n.type&&n.first===e||n&&"document"===n.type))return"";if(!n)return pt[i];let o=e.root();if(o.rawCache||(o.rawCache={}),"undefined"!=typeof o.rawCache[i])return o.rawCache[i];if("before"===i||"after"===i)return this.beforeAfter(e,i);{let n="raw"+((r=i)[0].toUpperCase()+r.slice(1));this[n]?s=this[n](o,e):o.walk((e=>{if(s=e.raws[t],"undefined"!=typeof s)return!1}))}var r;return"undefined"==typeof s&&(s=pt[i]),o.rawCache[i]=s,s}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&"undefined"!=typeof e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let i;return e.walkComments((e=>{if("undefined"!=typeof e.raws.before)return i=e.raws.before,i.includes("\n")&&(i=i.replace(/[^\n]+$/,"")),!1})),"undefined"==typeof i?i=this.raw(t,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeDecl(e,t){let i;return e.walkDecls((e=>{if("undefined"!=typeof e.raws.before)return i=e.raws.before,i.includes("\n")&&(i=i.replace(/[^\n]+$/,"")),!1})),"undefined"==typeof i?i=this.raw(t,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,"undefined"!=typeof t))return!1})),t}rawBeforeRule(e){let t;return e.walk((i=>{if(i.nodes&&(i.parent!==e||e.first!==i)&&"undefined"!=typeof i.raws.before)return t=i.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if("undefined"!=typeof e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,"undefined"!=typeof t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((i=>{let s=i.parent;if(s&&s!==e&&s.parent&&s.parent===e&&"undefined"!=typeof i.raws.before){let e=i.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,"undefined"!=typeof t))return!1})),t}rawValue(e,t){let i=e[t],s=e.raws[t];return s&&s.value===i?s.raw:i}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var bt=mt;mt.default=mt;let yt=bt;function ft(e,t){new yt(t).stringify(e)}var gt=ft;ft.default=ft;var Zt={};Zt.isClean=Symbol("isClean"),Zt.my=Symbol("my");let Gt=ht,It=bt,Vt=gt,{isClean:St,my:Wt}=Zt;function Xt(e,t){let i=new e.constructor;for(let s in e){if(!Object.prototype.hasOwnProperty.call(e,s)||"proxyCache"===s)continue;let n=e[s],o=typeof n;"parent"===s&&"object"===o?t&&(i[s]=t):"source"===s?i[s]=n:Array.isArray(n)?i[s]=n.map((e=>Xt(e,i))):("object"===o&&null!==n&&(n=Xt(n)),i[s]=n)}return i}let Rt=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.raws={},this[St]=!1,this[Wt]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let i of e[t])"function"==typeof i.clone?this.append(i.clone()):this.append(i)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}after(e){return this.parent.insertAfter(this,e),this}assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Xt(this);for(let i in e)t[i]=e[i];return t}cloneAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){let{end:i,start:s}=this.rangeBy(t);return this.source.input.error(e,{column:s.column,line:s.line},{column:i.column,line:i.line},t)}return new Gt(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,i)=>(e[t]===i||(e[t]=i,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty()),!0)}}markClean(){this[St]=!0}markDirty(){if(this[St]){this[St]=!1;let e=this;for(;e=e.parent;)e[St]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let i=this.source.start;if(e.index)i=this.positionInside(e.index,t);else if(e.word){let s=(t=this.toString()).indexOf(e.word);-1!==s&&(i=this.positionInside(s,t))}return i}positionInside(e,t){let i=t||this.toString(),s=this.source.start.column,n=this.source.start.line;for(let o=0;o<e;o++)"\n"===i[o]?(s=1,n+=1):s+=1;return{column:s,line:n}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let s=this.toString(),n=s.indexOf(e.word);-1!==n&&(t=this.positionInside(n,s),i=this.positionInside(n+e.word.length,s))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<t.line||i.line===t.line&&i.column<=t.column)&&(i={column:t.column+1,line:t.line}),{end:i,start:t}}raw(e,t){return(new It).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(){if(this.parent){let s=this,n=!1;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(let e of t)e===this?n=!0:n?(this.parent.insertAfter(s,e),s=e):this.parent.insertBefore(s,e);n||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let i={},s=null==t;t=t||new Map;let n=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||"parent"===o||"proxyCache"===o)continue;let e=this[o];if(Array.isArray(e))i[o]=e.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof e&&e.toJSON)i[o]=e.toJSON(null,t);else if("source"===o){let s=t.get(e.input);null==s&&(s=n,t.set(e.input,n),n++),i[o]={end:e.end,inputId:s,start:e.start}}else i[o]=e}return s&&(i.inputs=[...t.keys()].map((e=>e.toJSON()))),i}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,i){let s={node:this};for(let n in i)s[n]=i[n];return e.warn(t,s)}get proxyOf(){return this}};var wt=Rt;Rt.default=Rt;let vt=wt,Ct=class extends vt{constructor(e){super(e),this.type="comment"}};var kt=Ct;Ct.default=Ct;let xt=wt,Lt=class extends xt{constructor(e){e&&"undefined"!=typeof e.value&&"string"!=typeof e.value&&(e=I(G({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var Yt=Lt;Lt.default=Lt;let Tt,Jt,Nt,Ut,Kt=kt,Ft=Yt,Mt=wt,{isClean:Ht,my:zt}=Zt;function Ot(e){return e.map((e=>(e.nodes&&(e.nodes=Ot(e.nodes)),delete e.source,e)))}function Pt(e){if(e[Ht]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)Pt(t)}let Et=class e extends Mt{append(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(let s of t){let e=this.normalize(s,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,i,s=this.getIterator();for(;this.indexes[s]<this.proxyOf.nodes.length&&(t=this.indexes[s],i=e(this.proxyOf.nodes[t],t),!1!==i);)this.indexes[s]+=1;return delete this.indexes[s],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?function(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return e[t](...s.map((e=>"function"==typeof e?(t,i)=>e(t.toProxy(),i):e)))}:"every"===t||"some"===t?i=>e[t]((function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return i(e.toProxy(),...s)})):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,i)=>(e[t]===i||(e[t]=i,("name"===t||"params"===t||"selector"===t)&&e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let i,s=this.index(e),n=this.normalize(t,this.proxyOf.nodes[s]).reverse();s=this.index(e);for(let o of n)this.proxyOf.nodes.splice(s+1,0,o);for(let o in this.indexes)i=this.indexes[o],s<i&&(this.indexes[o]=i+n.length);return this.markDirty(),this}insertBefore(e,t){let i,s=this.index(e),n=0===s&&"prepend",o=this.normalize(t,this.proxyOf.nodes[s],n).reverse();s=this.index(e);for(let r of o)this.proxyOf.nodes.splice(s,0,r);for(let r in this.indexes)i=this.indexes[r],s<=i&&(this.indexes[r]=i+o.length);return this.markDirty(),this}normalize(t,i){if("string"==typeof t)t=Ot(Jt(t).nodes);else if("undefined"==typeof t)t=[];else if(Array.isArray(t)){t=t.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if("root"===t.type&&"document"!==this.type){t=t.nodes.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if(t.type)t=[t];else if(t.prop){if("undefined"==typeof t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new Ft(t)]}else if(t.selector||t.selectors)t=[new Ut(t)];else if(t.name)t=[new Tt(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new Kt(t)]}return t.map((t=>(t[zt]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[Ht]&&Pt(t),t.raws||(t.raws={}),"undefined"==typeof t.raws.before&&i&&"undefined"!=typeof i.raws.before&&(t.raws.before=i.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t)))}prepend(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t=t.reverse();for(let s of t){let e=this.normalize(s,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let i in this.indexes)t=this.indexes[i],t>=e&&(this.indexes[i]=t-1);return this.markDirty(),this}replaceValues(e,t,i){return i||(i=t,t={}),this.walkDecls((s=>{t.props&&!t.props.includes(s.prop)||t.fast&&!s.value.includes(t.fast)||(s.value=s.value.replace(e,i))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,i)=>{let s;try{s=e(t,i)}catch(n){throw t.addToError(n)}return!1!==s&&t.walk&&(s=t.walk(e)),s}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((i,s)=>{if("atrule"===i.type&&e.test(i.name))return t(i,s)})):this.walk(((i,s)=>{if("atrule"===i.type&&i.name===e)return t(i,s)})):(t=e,this.walk(((e,i)=>{if("atrule"===e.type)return t(e,i)})))}walkComments(e){return this.walk(((t,i)=>{if("comment"===t.type)return e(t,i)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((i,s)=>{if("decl"===i.type&&e.test(i.prop))return t(i,s)})):this.walk(((i,s)=>{if("decl"===i.type&&i.prop===e)return t(i,s)})):(t=e,this.walk(((e,i)=>{if("decl"===e.type)return t(e,i)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((i,s)=>{if("rule"===i.type&&e.test(i.selector))return t(i,s)})):this.walk(((i,s)=>{if("rule"===i.type&&i.selector===e)return t(i,s)})):(t=e,this.walk(((e,i)=>{if("rule"===e.type)return t(e,i)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Et.registerParse=e=>{Jt=e},Et.registerRule=e=>{Ut=e},Et.registerAtRule=e=>{Tt=e},Et.registerRoot=e=>{Nt=e};var Bt=Et;Et.default=Et,Et.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,Tt.prototype):"rule"===e.type?Object.setPrototypeOf(e,Ut.prototype):"decl"===e.type?Object.setPrototypeOf(e,Ft.prototype):"comment"===e.type?Object.setPrototypeOf(e,Kt.prototype):"root"===e.type&&Object.setPrototypeOf(e,Nt.prototype),e[zt]=!0,e.nodes&&e.nodes.forEach((e=>{Et.rebuild(e)}))};let jt=Bt,Dt=class extends jt{constructor(e){super(e),this.type="atrule"}append(){return this.proxyOf.nodes||(this.nodes=[]),super.append(...arguments)}prepend(){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...arguments)}};var Qt=Dt;Dt.default=Dt,jt.registerAtRule(Dt);let At,_t,qt=Bt,$t=class extends qt{constructor(e){super(G({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new At(new _t,this,e).stringify()}};$t.registerLazyResult=e=>{At=e},$t.registerProcessor=e=>{_t=e};var ei=$t;$t.default=$t;var ti={nanoid:function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},customAlphabet:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){let i="",s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;for(;s--;)i+=e[Math.random()*e.length|0];return i}}};let{existsSync:ii,readFileSync:si}=at,{dirname:ni,join:oi}=at,{SourceMapConsumer:ri,SourceMapGenerator:li}=at;let ai=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let i=t.map?t.map.prev:void 0,s=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=ni(this.mapFile)),s&&(this.text=s)}consumer(){return this.consumerCache||(this.consumerCache=new ri(this.text)),this.consumerCache}decodeInline(e){let t=e.match(/^data:application\/json;charset=utf-?8,/)||e.match(/^data:application\/json,/);if(t)return decodeURIComponent(e.substr(t[0].length));let i=e.match(/^data:application\/json;charset=utf-?8;base64,/)||e.match(/^data:application\/json;base64,/);if(i)return s=e.substr(i[0].length),Buffer?Buffer.from(s,"base64").toString():window.atob(s);var s;let n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let i=e.lastIndexOf(t.pop()),s=e.indexOf("*/",i);i>-1&&s>-1&&(this.annotation=this.getAnnotationURL(e.substring(i,s)))}loadFile(e){if(this.root=ni(e),ii(e))return this.mapFile=e,si(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof ri)return li.fromSourceMap(t).toString();if(t instanceof li)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let i=t(e);if(i){let e=this.loadFile(i);if(!e)throw new Error("Unable to load previous source map: "+i.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=oi(ni(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var ci=ai;ai.default=ai;let{nanoid:di}=ti,{isAbsolute:ui,resolve:hi}=at,{SourceMapConsumer:pi,SourceMapGenerator:mi}=at,{fileURLToPath:bi,pathToFileURL:yi}=at,fi=ht,gi=ci,Zi=at,Gi=Symbol("fromOffsetCache"),Ii=!(!pi||!mi),Vi=!(!hi||!ui),Si=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||"undefined"==typeof e||"object"==typeof e&&!e.toString)throw new Error("PostCSS received ".concat(e," instead of CSS string"));if(this.css=e.toString(),"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Vi||/^\w+:\/\//.test(t.from)||ui(t.from)?this.file=t.from:this.file=hi(t.from)),Vi&&Ii){let e=new gi(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+di(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,i){let s,n,o,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&"object"==typeof t){let e=t,o=i;if("number"==typeof e.offset){let s=this.fromOffset(e.offset);t=s.line,i=s.col}else t=e.line,i=e.column;if("number"==typeof o.offset){let e=this.fromOffset(o.offset);n=e.line,s=e.col}else n=o.line,s=o.column}else if(!i){let e=this.fromOffset(t);t=e.line,i=e.col}let l=this.origin(t,i,n,s);return o=l?new fi(e,void 0===l.endLine?l.line:{column:l.column,line:l.line},void 0===l.endLine?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,r.plugin):new fi(e,void 0===n?t:{column:i,line:t},void 0===n?i:{column:s,line:n},this.css,this.file,r.plugin),o.input={column:i,endColumn:s,endLine:n,line:t,source:this.css},this.file&&(yi&&(o.input.url=yi(this.file).toString()),o.input.file=this.file),o}fromOffset(e){let t,i;if(this[Gi])i=this[Gi];else{let e=this.css.split("\n");i=new Array(e.length);let t=0;for(let s=0,n=e.length;s<n;s++)i[s]=t,t+=e[s].length+1;this[Gi]=i}t=i[i.length-1];let s=0;if(e>=t)s=i.length-1;else{let t,n=i.length-2;for(;s<n;)if(t=s+(n-s>>1),e<i[t])n=t-1;else{if(!(e>=i[t+1])){s=t;break}s=t+1}}return{col:e-i[s]+1,line:s+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:hi(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,i,s){if(!this.map)return!1;let n,o,r=this.map.consumer(),l=r.originalPositionFor({column:t,line:e});if(!l.source)return!1;"number"==typeof i&&(n=r.originalPositionFor({column:s,line:i})),o=ui(l.source)?yi(l.source):new URL(l.source,this.map.consumer().sourceRoot||yi(this.map.mapFile));let a={column:l.column,endColumn:n&&n.column,endLine:n&&n.line,line:l.line,url:o.toString()};if("file:"===o.protocol){if(!bi)throw new Error("file: protocol is not available in this PostCSS build");a.file=bi(o)}let c=r.sourceContentFor(l.source);return c&&(a.source=c),a}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map=G({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Wi=Si;Si.default=Si,Zi&&Zi.registerInput&&Zi.registerInput(Si);let Xi,Ri,wi=Bt,vi=class extends wi{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,i){let s=super.normalize(e);if(t)if("prepend"===i)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let n of s)n.raws.before=t.raws.before;return s}removeChild(e,t){let i=this.index(e);return!t&&0===i&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),super.removeChild(e)}toResult(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Xi(new Ri,this,e).stringify()}};vi.registerLazyResult=e=>{Xi=e},vi.registerProcessor=e=>{Ri=e};var Ci=vi;vi.default=vi,wi.registerRoot(vi);let ki={comma:e=>ki.split(e,[","],!0),space:e=>ki.split(e,[" ","\n","\t"]),split(e,t,i){let s=[],n="",o=!1,r=0,l=!1,a="",c=!1;for(let d of e)c?c=!1:"\\"===d?c=!0:l?d===a&&(l=!1):'"'===d||"'"===d?(l=!0,a=d):"("===d?r+=1:")"===d?r>0&&(r-=1):0===r&&t.includes(d)&&(o=!0),o?(""!==n&&s.push(n.trim()),n="",o=!1):n+=d;return(i||""!==n)&&s.push(n.trim()),s}};var xi=ki;ki.default=ki;let Li=Bt,Yi=xi,Ti=class extends Li{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Yi.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,i=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(i)}};var Ji=Ti;Ti.default=Ti,Li.registerRule(Ti);let Ni=Qt,Ui=kt,Ki=Yt,Fi=Wi,Mi=ci,Hi=Ci,zi=Ji;function Oi(e,t){if(Array.isArray(e))return e.map((e=>Oi(e)));let i=e,{inputs:s}=i,n=V(i,["inputs"]);if(s){t=[];for(let e of s){let i=I(G({},e),{__proto__:Fi.prototype});i.map&&(i.map=I(G({},i.map),{__proto__:Mi.prototype})),t.push(i)}}if(n.nodes&&(n.nodes=e.nodes.map((e=>Oi(e,t)))),n.source){let e=n.source,{inputId:i}=e,s=V(e,["inputId"]);n.source=s,null!=i&&(n.source.input=t[i])}if("root"===n.type)return new Hi(n);if("decl"===n.type)return new Ki(n);if("rule"===n.type)return new zi(n);if("comment"===n.type)return new Ui(n);if("atrule"===n.type)return new Ni(n);throw new Error("Unknown node type: "+e.type)}var Pi=Oi;Oi.default=Oi;let{dirname:Ei,relative:Bi,resolve:ji,sep:Di}=at,{SourceMapConsumer:Qi,SourceMapGenerator:Ai}=at,{pathToFileURL:_i}=at,qi=Wi,$i=!(!Qi||!Ai),es=!!(Ei&&ji&&Bi&&Di);var ts=class{constructor(e,t,i,s){this.stringify=e,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=s,this.originalCSS=s,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,i=this.toUrl(this.path(e.file)),s=e.root||Ei(e.file);!1===this.mapOpts.sourcesContent?(t=new Qi(e.text),t.sourcesContent&&(t.sourcesContent=null)):t=e.consumer(),this.map.applySourceMap(t,i,this.toUrl(this.path(s)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),es&&$i&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Ai.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Ai({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Ai({file:this.outputFile(),ignoreInvalidMapping:!0});let e,t,i=1,s=1,n="<no source>",o={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((r,l,a)=>{if(this.css+=r,l&&"end"!==a&&(o.generated.line=i,o.generated.column=s-1,l.source&&l.source.start?(o.source=this.sourcePath(l),o.original.line=l.source.start.line,o.original.column=l.source.start.column-1,this.map.addMapping(o)):(o.source=n,o.original.line=1,o.original.column=0,this.map.addMapping(o))),t=r.match(/\n/g),t?(i+=t.length,e=r.lastIndexOf("\n"),s=r.length-e):s+=r.length,l&&"start"!==a){let e=l.parent||{raws:{}};("decl"!==l.type&&("atrule"!==l.type||l.nodes)||l!==e.last||e.raws.semicolon)&&(l.source&&l.source.end?(o.source=this.sourcePath(l),o.original.line=l.source.end.line,o.original.column=l.source.end.column-1,o.generated.line=i,o.generated.column=s-2,this.map.addMapping(o)):(o.source=n,o.original.line=1,o.original.column=0,o.generated.line=i,o.generated.column=s-1,this.map.addMapping(o)))}}))}isAnnotation(){return!!this.isInline()||("undefined"!=typeof this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if("undefined"!=typeof this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return("undefined"==typeof e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return"undefined"!=typeof this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return"undefined"!=typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let i=this.opts.to?Ei(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(i=Ei(ji(i,this.mapOpts.annotation)));let s=Bi(i,e);return this.memoizedPaths.set(e,s),s}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new qi(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let i=t.source.input.from;if(i&&!e[i]){e[i]=!0;let s=this.usesFileUrls?this.toFileUrl(i):this.toUrl(this.path(i));this.map.setSourceContent(s,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(_i){let t=_i(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===Di&&(e=e.replace(/\\/g,"/"));let i=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,i),i}};const is=/[\t\n\f\r "#'()/;[\\\]{}]/g,ss=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,ns=/.[\r\n"'(/\\]/,os=/[\da-f]/i;let rs=Qt,ls=kt,as=Yt,cs=Ci,ds=Ji,us=function(e){let t,i,s,n,o,r,l,a,c,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=e.css.valueOf(),p=u.ignoreErrors,m=h.length,b=0,y=[],f=[];function g(t){throw e.error("Unclosed "+t,b)}return{back:function(e){f.push(e)},endOfFile:function(){return 0===f.length&&b>=m},nextToken:function(e){if(f.length)return f.pop();if(b>=m)return;let u=!!e&&e.ignoreUnclosed;switch(t=h.charCodeAt(b),t){case 10:case 32:case 9:case 13:case 12:n=b;do{n+=1,t=h.charCodeAt(n)}while(32===t||10===t||9===t||13===t||12===t);r=["space",h.slice(b,n)],b=n-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let e=String.fromCharCode(t);r=[e,e,b];break}case 40:if(d=y.length?y.pop()[1]:"",c=h.charCodeAt(b+1),"url"===d&&39!==c&&34!==c&&32!==c&&10!==c&&9!==c&&12!==c&&13!==c){n=b;do{if(l=!1,n=h.indexOf(")",n+1),-1===n){if(p||u){n=b;break}g("bracket")}for(a=n;92===h.charCodeAt(a-1);)a-=1,l=!l}while(l);r=["brackets",h.slice(b,n+1),b,n],b=n}else n=h.indexOf(")",b+1),i=h.slice(b,n+1),-1===n||ns.test(i)?r=["(","(",b]:(r=["brackets",i,b,n],b=n);break;case 39:case 34:o=39===t?"'":'"',n=b;do{if(l=!1,n=h.indexOf(o,n+1),-1===n){if(p||u){n=b+1;break}g("string")}for(a=n;92===h.charCodeAt(a-1);)a-=1,l=!l}while(l);r=["string",h.slice(b,n+1),b,n],b=n;break;case 64:is.lastIndex=b+1,is.test(h),n=0===is.lastIndex?h.length-1:is.lastIndex-2,r=["at-word",h.slice(b,n+1),b,n],b=n;break;case 92:for(n=b,s=!0;92===h.charCodeAt(n+1);)n+=1,s=!s;if(t=h.charCodeAt(n+1),s&&47!==t&&32!==t&&10!==t&&9!==t&&13!==t&&12!==t&&(n+=1,os.test(h.charAt(n)))){for(;os.test(h.charAt(n+1));)n+=1;32===h.charCodeAt(n+1)&&(n+=1)}r=["word",h.slice(b,n+1),b,n],b=n;break;default:47===t&&42===h.charCodeAt(b+1)?(n=h.indexOf("*/",b+2)+1,0===n&&(p||u?n=h.length:g("comment")),r=["comment",h.slice(b,n+1),b,n],b=n):(ss.lastIndex=b+1,ss.test(h),n=0===ss.lastIndex?h.length-1:ss.lastIndex-2,r=["word",h.slice(b,n+1),b,n],y.push(r),b=n)}return b++,r},position:function(){return b}}};const hs={empty:!0,space:!0};var ps=class{constructor(e){this.input=e,this.root=new cs,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new rs;t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2]);let i,s,n,o=!1,r=!1,l=[],a=[];for(;!this.tokenizer.endOfFile();){if(i=(e=this.tokenizer.nextToken())[0],"("===i||"["===i?a.push("("===i?")":"]"):"{"===i&&a.length>0?a.push("}"):i===a[a.length-1]&&a.pop(),0===a.length){if(";"===i){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}if("{"===i){r=!0;break}if("}"===i){if(l.length>0){for(n=l.length-1,s=l[n];s&&"space"===s[0];)s=l[--n];s&&(t.source.end=this.getPosition(s[3]||s[2]),t.source.end.offset++)}this.end(e);break}l.push(e)}else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(t.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(t,"params",l),o&&(e=l[l.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),r&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let i,s=0;for(let n=t-1;n>=0&&(i=e[n],"space"===i[0]||(s+=1,2!==s));n--);throw this.input.error("Missed semicolon","word"===i[0]?i[3]+1:i[2])}colon(e){let t,i,s,n=0;for(let[o,r]of e.entries()){if(i=r,s=i[0],"("===s&&(n+=1),")"===s&&(n-=1),0===n&&":"===s){if(t){if("word"===t[0]&&"progid"===t[1])continue;return o}this.doubleColon(i)}t=i}return!1}comment(e){let t=new ls;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let i=e[1].slice(2,-2);if(/^\s*$/.test(i))t.text="",t.raws.left=i,t.raws.right="";else{let e=i.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=us(this.input)}decl(e,t){let i=new as;this.init(i,e[0][2]);let s,n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(n[3]||n[2]||function(e){for(let t=e.length-1;t>=0;t--){let i=e[t],s=i[3]||i[2];if(s)return s}}(e)),i.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;i.prop+=e.shift()[1]}for(i.raws.between="";e.length;){if(s=e.shift(),":"===s[0]){i.raws.between+=s[1];break}"word"===s[0]&&/\w/.test(s[1])&&this.unknownWord([s]),i.raws.between+=s[1]}("_"===i.prop[0]||"*"===i.prop[0])&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let o,r=[];for(;e.length&&(o=e[0][0],"space"===o||"comment"===o);)r.push(e.shift());this.precheckMissedSemicolon(e);for(let l=e.length-1;l>=0;l--){if(s=e[l],"!important"===s[1].toLowerCase()){i.important=!0;let t=this.stringFrom(e,l);t=this.spacesFromEnd(e)+t," !important"!==t&&(i.raws.important=t);break}if("important"===s[1].toLowerCase()){let t=e.slice(0),s="";for(let e=l;e>0;e--){let i=t[e][0];if(s.trim().startsWith("!")&&"space"!==i)break;s=t.pop()[1]+s}s.trim().startsWith("!")&&(i.important=!0,i.raws.important=s,e=t)}if("space"!==s[0]&&"comment"!==s[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(i.raws.between+=r.map((e=>e[1])).join(""),r=[]),this.raw(i,"value",r.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new ds;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,i=null,s=!1,n=null,o=[],r=e[1].startsWith("--"),l=[],a=e;for(;a;){if(i=a[0],l.push(a),"("===i||"["===i)n||(n=a),o.push("("===i?")":"]");else if(r&&s&&"{"===i)n||(n=a),o.push("}");else if(0===o.length){if(";"===i){if(s)return void this.decl(l,r);break}if("{"===i)return void this.rule(l);if("}"===i){this.tokenizer.back(l.pop()),t=!0;break}":"===i&&(s=!0)}else i===o[o.length-1]&&(o.pop(),0===o.length&&(n=null));a=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(n),t&&s){if(!r)for(;l.length&&(a=l[l.length-1][0],"space"===a||"comment"===a);)this.tokenizer.back(l.pop());this.decl(l,r)}else this.unknownWord(l)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,i,s){let n,o,r,l,a=i.length,c="",d=!0;for(let u=0;u<a;u+=1)n=i[u],o=n[0],"space"!==o||u!==a-1||s?"comment"===o?(l=i[u-1]?i[u-1][0]:"empty",r=i[u+1]?i[u+1][0]:"empty",hs[l]||hs[r]||","===c.slice(-1)?d=!1:c+=n[1]):c+=n[1]:d=!1;if(!d){let s=i.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:s,value:c}}e[t]=c}rule(e){e.pop();let t=new ds;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)i=e.pop()[1]+i;return i}spacesAndCommentsFromStart(e){let t,i="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)i+=e.shift()[1];return i}spacesFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)i=e.pop()[1]+i;return i}stringFrom(e,t){let i="";for(let s=t;s<e.length;s++)i+=e[s][1];return e.splice(t,e.length-t),i}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};let ms=Bt,bs=Wi,ys=ps;function fs(e,t){let i=new bs(e,t),s=new ys(i);try{s.parse()}catch(n){throw n}return s.root}var gs=fs;fs.default=fs,ms.registerParse(fs);let Zs=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let i in t)this[i]=t[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Gs=Zs;Zs.default=Zs;let Is=Gs,Vs=class{constructor(e,t,i){this.processor=e,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let i=new Is(e,t);return this.messages.push(i),i}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}};var Ss=Vs;Vs.default=Vs;let Ws=Bt,Xs=ei,Rs=ts,ws=gs,vs=Ss,Cs=Ci,ks=gt,{isClean:xs,my:Ls}=Zt;const Ys={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Ts={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Js={Once:!0,postcssPlugin:!0,prepare:!0};function Ns(e){return"object"==typeof e&&"function"==typeof e.then}function Us(e){let t=!1,i=Ys[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[i,i+"-"+t,0,i+"Exit",i+"Exit-"+t]:t?[i,i+"-"+t,i+"Exit",i+"Exit-"+t]:e.append?[i,0,i+"Exit"]:[i,i+"Exit"]}function Ks(e){let t;return t="document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:Us(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Fs(e){return e[xs]=!1,e.nodes&&e.nodes.forEach((e=>Fs(e))),e}let Ms={},Hs=class e{constructor(t,i,s){let n;if(this.stringified=!1,this.processed=!1,"object"!=typeof i||null===i||"root"!==i.type&&"document"!==i.type)if(i instanceof e||i instanceof vs)n=Fs(i.root),i.map&&("undefined"==typeof s.map&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=i.map);else{let e=ws;s.syntax&&(e=s.syntax.parse),s.parser&&(e=s.parser),e.parse&&(e=e.parse);try{n=e(i,s)}catch(o){this.processed=!0,this.error=o}n&&!n[Ls]&&Ws.rebuild(n)}else n=Fs(i);this.result=new vs(t,n,s),this.helpers=I(G({},Ms),{postcss:Ms,result:this.result}),this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?G(G({},e),e.prepare(this.result)):e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let i=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?i.postcssVersion:(e.plugin=i.postcssPlugin,e.setMessage())}catch(s){console&&console.error&&console.error(s)}return e}prepareVisitors(){this.listeners={};let e=(e,t,i)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,i])};for(let t of this.plugins)if("object"==typeof t)for(let i in t){if(!Ts[i]&&/^[A-Z]/.test(i))throw new Error("Unknown event ".concat(i," in ").concat(t.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!Js[i])if("object"==typeof t[i])for(let s in t[i])e(t,"*"===s?i:i+"-"+s.toLowerCase(),t[i][s]);else"function"==typeof t[i]&&e(t,i,t[i])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return W(this,null,(function*(){this.plugin=0;for(let t=0;t<this.plugins.length;t++){let i=this.plugins[t],s=this.runOnRoot(i);if(Ns(s))try{yield s}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[xs];){t[xs]=!0;let i=[Ks(t)];for(;i.length>0;){let t=this.visitTick(i);if(Ns(t))try{yield t}catch(e){let t=i[i.length-1].node;throw this.handleError(e,t)}}}if(this.listeners.OnceExit)for(let[i,s]of this.listeners.OnceExit){this.result.lastPlugin=i;try{if("document"===t.type){let e=t.nodes.map((e=>s(e,this.helpers)));yield Promise.all(e)}else yield s(t,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}))}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return Ns(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=ks;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new Rs(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(Ns(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[xs];)e[xs]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[s,n]of e){let e;this.result.lastPlugin=s;try{e=n(t,this.helpers)}catch(i){throw this.handleError(i,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(Ns(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:i,visitors:s}=t;if("root"!==i.type&&"document"!==i.type&&!i.parent)return void e.pop();if(s.length>0&&t.visitorIndex<s.length){let[e,n]=s[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===s.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return n(i.toProxy(),this.helpers)}catch(o){throw this.handleError(o,i)}}if(0!==t.iterator){let s,n=t.iterator;for(;s=i.nodes[i.indexes[n]];)if(i.indexes[n]+=1,!s[xs])return s[xs]=!0,void e.push(Ks(s));t.iterator=0,delete i.indexes[n]}let n=t.events;for(;t.eventIndex<n.length;){let e=n[t.eventIndex];if(t.eventIndex+=1,0===e)return void(i.nodes&&i.nodes.length&&(i[xs]=!0,t.iterator=i.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[xs]=!0;let t=Us(e);for(let i of t)if(0===i)e.nodes&&e.each((e=>{e[xs]||this.walkSync(e)}));else{let t=this.listeners[i];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Hs.registerPostcss=e=>{Ms=e};var zs=Hs;Hs.default=Hs,Cs.registerLazyResult(Hs),Xs.registerLazyResult(Hs);let Os=ts,Ps=gs;const Es=Ss;let Bs=gt,js=class{constructor(e,t,i){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=i,this._map=void 0;let s,n=Bs;this.result=new Es(this._processor,s,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get:()=>o.root});let r=new Os(n,s,this._opts,t);if(r.isMap()){let[e,t]=r.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else r.clearAnnotation(),this.result.css=r.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=Ps;try{e=t(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var Ds=js;js.default=js;let Qs=ei,As=zs,_s=Ds,qs=Ci,$s=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.version="8.4.47",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let i of e)if(!0===i.postcss?i=i():i.postcss&&(i=i.postcss),"object"==typeof i&&Array.isArray(i.plugins))t=t.concat(i.plugins);else if("object"==typeof i&&i.postcssPlugin)t.push(i);else if("function"==typeof i)t.push(i);else{if("object"!=typeof i||!i.parse&&!i.stringify)throw new Error(i+" is not a PostCSS plugin")}return t}process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||t.parser||t.stringifier||t.syntax?new As(this,e,t):new _s(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var en=$s;$s.default=$s,qs.registerProcessor($s),Qs.registerProcessor($s);let tn=Qt,sn=kt,nn=Bt,on=ht,rn=Yt,ln=ei,an=Pi,cn=Wi,dn=zs,un=xi,hn=wt,pn=gs,mn=en,bn=Ss,yn=Ci,fn=Ji,gn=gt,Zn=Gs;function Gn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new mn(t)}Gn.plugin=function(e,t){let i,s=!1;function n(){console&&console.warn&&!s&&(s=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"Production"}.LANG&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"Production"}.LANG.startsWith("cn")&&console.warn(e+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));let i=t(...arguments);return i.postcssPlugin=e,i.postcssVersion=(new mn).version,i}return Object.defineProperty(n,"postcss",{get:()=>(i||(i=n()),i)}),n.process=function(e,t,i){return Gn([n(i)]).process(e,t)},n},Gn.stringify=gn,Gn.parse=pn,Gn.fromJSON=an,Gn.list=un,Gn.comment=e=>new sn(e),Gn.atRule=e=>new tn(e),Gn.decl=e=>new rn(e),Gn.rule=e=>new fn(e),Gn.root=e=>new yn(e),Gn.document=e=>new ln(e),Gn.CssSyntaxError=on,Gn.Declaration=rn,Gn.Container=nn,Gn.Processor=mn,Gn.Document=ln,Gn.Comment=sn,Gn.Warning=Zn,Gn.AtRule=tn,Gn.Result=bn,Gn.Input=cn,Gn.Rule=fn,Gn.Root=yn,Gn.Node=hn,dn.registerPostcss(Gn),Gn.default=Gn;var In=Object.defineProperty,Vn=(e,t,i)=>((e,t,i)=>t in e?In(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i);function Sn(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var i=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var s=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,s.get?s:{enumerable:!0,get:function(){return e[t]}})})),i}var Wn={exports:{}},Xn=String,Rn=function(){return{isColorSupported:!1,reset:Xn,bold:Xn,dim:Xn,italic:Xn,underline:Xn,inverse:Xn,hidden:Xn,strikethrough:Xn,black:Xn,red:Xn,green:Xn,yellow:Xn,blue:Xn,magenta:Xn,cyan:Xn,white:Xn,gray:Xn,bgBlack:Xn,bgRed:Xn,bgGreen:Xn,bgYellow:Xn,bgBlue:Xn,bgMagenta:Xn,bgCyan:Xn,bgWhite:Xn,blackBright:Xn,redBright:Xn,greenBright:Xn,yellowBright:Xn,blueBright:Xn,magentaBright:Xn,cyanBright:Xn,whiteBright:Xn,bgBlackBright:Xn,bgRedBright:Xn,bgGreenBright:Xn,bgYellowBright:Xn,bgBlueBright:Xn,bgMagentaBright:Xn,bgCyanBright:Xn,bgWhiteBright:Xn}};Wn.exports=Rn(),Wn.exports.createColors=Rn;var wn=Wn.exports;const vn=Sn(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let Cn=wn,kn=vn,xn=class e extends Error{constructor(t,i,s,n,o,r){super(t),this.name="CssSyntaxError",this.reason=t,o&&(this.file=o),n&&(this.source=n),r&&(this.plugin=r),"undefined"!=typeof i&&"undefined"!=typeof s&&("number"==typeof i?(this.line=i,this.column=s):(this.line=i.line,this.column=i.column,this.endLine=s.line,this.endColumn=s.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>","undefined"!=typeof this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=Cn.isColorSupported);let i=e=>e,s=e=>e,n=e=>e;if(e){let{bold:e,gray:t,red:o}=Cn.createColors(!0);s=t=>e(o(t)),i=e=>t(e),kn&&(n=e=>kn(e))}let o=t.split(/\r?\n/),r=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),a=String(l).length;return o.slice(r,l).map(((e,t)=>{let o=r+1+t,l=" "+(" "+o).slice(-a)+" | ";if(o===this.line){if(e.length>160){let t=20,o=Math.max(0,this.column-t),r=Math.max(this.column+t,this.endColumn+t),a=e.slice(o,r),c=i(l.replace(/\d/g," "))+e.slice(0,Math.min(this.column-1,t-1)).replace(/[^\t]/g," ");return s(">")+i(l)+n(a)+"\n "+c+s("^")}let t=i(l.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return s(">")+i(l)+n(e)+"\n "+t+s("^")}return" "+i(l)+n(e)})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};var Ln=xn;xn.default=xn;const Yn={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let Tn=class{constructor(e){this.builder=e}atrule(e,t){let i="@"+e.name,s=e.params?this.rawValue(e,"params"):"";if("undefined"!=typeof e.raws.afterName?i+=e.raws.afterName:s&&(i+=" "),e.nodes)this.block(e,i+s);else{let n=(e.raws.between||"")+(t?";":"");this.builder(i+s+n,e)}}beforeAfter(e,t){let i;i="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let s=e.parent,n=0;for(;s&&"root"!==s.type;)n+=1,s=s.parent;if(i.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<n;e++)i+=t}return i}block(e,t){let i,s=this.raw(e,"between","beforeOpen");this.builder(t+s+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let i=this.raw(e,"semicolon");for(let s=0;s<e.nodes.length;s++){let n=e.nodes[s],o=this.raw(n,"before");o&&this.builder(o),this.stringify(n,t!==s||i)}}comment(e){let t=this.raw(e,"left","commentLeft"),i=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+i+"*/",e)}decl(e,t){let i=this.raw(e,"between","colon"),s=e.prop+i+this.rawValue(e,"value");e.important&&(s+=e.raws.important||" !important"),t&&(s+=";"),this.builder(s,e)}document(e){this.body(e)}raw(e,t,i){let s;if(i||(i=t),t&&(s=e.raws[t],"undefined"!=typeof s))return s;let n=e.parent;if("before"===i&&(!n||"root"===n.type&&n.first===e||n&&"document"===n.type))return"";if(!n)return Yn[i];let o=e.root();if(o.rawCache||(o.rawCache={}),"undefined"!=typeof o.rawCache[i])return o.rawCache[i];if("before"===i||"after"===i)return this.beforeAfter(e,i);{let n="raw"+((r=i)[0].toUpperCase()+r.slice(1));this[n]?s=this[n](o,e):o.walk((e=>{if(s=e.raws[t],"undefined"!=typeof s)return!1}))}var r;return"undefined"==typeof s&&(s=Yn[i]),o.rawCache[i]=s,s}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&"undefined"!=typeof e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let i;return e.walkComments((e=>{if("undefined"!=typeof e.raws.before)return i=e.raws.before,i.includes("\n")&&(i=i.replace(/[^\n]+$/,"")),!1})),"undefined"==typeof i?i=this.raw(t,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeDecl(e,t){let i;return e.walkDecls((e=>{if("undefined"!=typeof e.raws.before)return i=e.raws.before,i.includes("\n")&&(i=i.replace(/[^\n]+$/,"")),!1})),"undefined"==typeof i?i=this.raw(t,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,"undefined"!=typeof t))return!1})),t}rawBeforeRule(e){let t;return e.walk((i=>{if(i.nodes&&(i.parent!==e||e.first!==i)&&"undefined"!=typeof i.raws.before)return t=i.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if("undefined"!=typeof e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,"undefined"!=typeof t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((i=>{let s=i.parent;if(s&&s!==e&&s.parent&&s.parent===e&&"undefined"!=typeof i.raws.before){let e=i.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,"undefined"!=typeof t))return!1})),t}rawValue(e,t){let i=e[t],s=e.raws[t];return s&&s.value===i?s.raw:i}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var Jn=Tn;Tn.default=Tn;let Nn=Jn;function Un(e,t){new Nn(t).stringify(e)}var Kn=Un;Un.default=Un;var Fn={};Fn.isClean=Symbol("isClean"),Fn.my=Symbol("my");let Mn=Ln,Hn=Jn,zn=Kn,{isClean:On,my:Pn}=Fn;function En(e,t){let i=new e.constructor;for(let s in e){if(!Object.prototype.hasOwnProperty.call(e,s)||"proxyCache"===s)continue;let n=e[s],o=typeof n;"parent"===s&&"object"===o?t&&(i[s]=t):"source"===s?i[s]=n:Array.isArray(n)?i[s]=n.map((e=>En(e,i))):("object"===o&&null!==n&&(n=En(n)),i[s]=n)}return i}let Bn=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.raws={},this[On]=!1,this[Pn]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let i of e[t])"function"==typeof i.clone?this.append(i.clone()):this.append(i)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}after(e){return this.parent.insertAfter(this,e),this}assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=En(this);for(let i in e)t[i]=e[i];return t}cloneAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){let{end:i,start:s}=this.rangeBy(t);return this.source.input.error(e,{column:s.column,line:s.line},{column:i.column,line:i.line},t)}return new Mn(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,i)=>(e[t]===i||(e[t]=i,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty()),!0)}}markClean(){this[On]=!0}markDirty(){if(this[On]){this[On]=!1;let e=this;for(;e=e.parent;)e[On]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let i=this.source.start;if(e.index)i=this.positionInside(e.index,t);else if(e.word){let s=(t=this.toString()).indexOf(e.word);-1!==s&&(i=this.positionInside(s,t))}return i}positionInside(e,t){let i=t||this.toString(),s=this.source.start.column,n=this.source.start.line;for(let o=0;o<e;o++)"\n"===i[o]?(s=1,n+=1):s+=1;return{column:s,line:n}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let s=this.toString(),n=s.indexOf(e.word);-1!==n&&(t=this.positionInside(n,s),i=this.positionInside(n+e.word.length,s))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<t.line||i.line===t.line&&i.column<=t.column)&&(i={column:t.column+1,line:t.line}),{end:i,start:t}}raw(e,t){return(new Hn).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(){if(this.parent){let s=this,n=!1;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(let e of t)e===this?n=!0:n?(this.parent.insertAfter(s,e),s=e):this.parent.insertBefore(s,e);n||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let i={},s=null==t;t=t||new Map;let n=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||"parent"===o||"proxyCache"===o)continue;let e=this[o];if(Array.isArray(e))i[o]=e.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof e&&e.toJSON)i[o]=e.toJSON(null,t);else if("source"===o){let s=t.get(e.input);null==s&&(s=n,t.set(e.input,n),n++),i[o]={end:e.end,inputId:s,start:e.start}}else i[o]=e}return s&&(i.inputs=[...t.keys()].map((e=>e.toJSON()))),i}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn;e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,i){let s={node:this};for(let n in i)s[n]=i[n];return e.warn(t,s)}get proxyOf(){return this}};var jn=Bn;Bn.default=Bn;let Dn=jn,Qn=class extends Dn{constructor(e){super(e),this.type="comment"}};var An=Qn;Qn.default=Qn;let _n=jn,qn=class extends _n{constructor(e){e&&"undefined"!=typeof e.value&&"string"!=typeof e.value&&(e=I(G({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var $n=qn;qn.default=qn;let eo,to,io,so,no=An,oo=$n,ro=jn,{isClean:lo,my:ao}=Fn;function co(e){return e.map((e=>(e.nodes&&(e.nodes=co(e.nodes)),delete e.source,e)))}function uo(e){if(e[lo]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)uo(t)}let ho=class e extends ro{append(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(let s of t){let e=this.normalize(s,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,i,s=this.getIterator();for(;this.indexes[s]<this.proxyOf.nodes.length&&(t=this.indexes[s],i=e(this.proxyOf.nodes[t],t),!1!==i);)this.indexes[s]+=1;return delete this.indexes[s],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?function(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return e[t](...s.map((e=>"function"==typeof e?(t,i)=>e(t.toProxy(),i):e)))}:"every"===t||"some"===t?i=>e[t]((function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return i(e.toProxy(),...s)})):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,i)=>(e[t]===i||(e[t]=i,("name"===t||"params"===t||"selector"===t)&&e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let i,s=this.index(e),n=this.normalize(t,this.proxyOf.nodes[s]).reverse();s=this.index(e);for(let o of n)this.proxyOf.nodes.splice(s+1,0,o);for(let o in this.indexes)i=this.indexes[o],s<i&&(this.indexes[o]=i+n.length);return this.markDirty(),this}insertBefore(e,t){let i,s=this.index(e),n=0===s&&"prepend",o=this.normalize(t,this.proxyOf.nodes[s],n).reverse();s=this.index(e);for(let r of o)this.proxyOf.nodes.splice(s,0,r);for(let r in this.indexes)i=this.indexes[r],s<=i&&(this.indexes[r]=i+o.length);return this.markDirty(),this}normalize(t,i){if("string"==typeof t)t=co(to(t).nodes);else if("undefined"==typeof t)t=[];else if(Array.isArray(t)){t=t.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if("root"===t.type&&"document"!==this.type){t=t.nodes.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if(t.type)t=[t];else if(t.prop){if("undefined"==typeof t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new oo(t)]}else if(t.selector||t.selectors)t=[new so(t)];else if(t.name)t=[new eo(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new no(t)]}return t.map((t=>(t[ao]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[lo]&&uo(t),t.raws||(t.raws={}),"undefined"==typeof t.raws.before&&i&&"undefined"!=typeof i.raws.before&&(t.raws.before=i.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t)))}prepend(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t=t.reverse();for(let s of t){let e=this.normalize(s,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let i in this.indexes)t=this.indexes[i],t>=e&&(this.indexes[i]=t-1);return this.markDirty(),this}replaceValues(e,t,i){return i||(i=t,t={}),this.walkDecls((s=>{t.props&&!t.props.includes(s.prop)||t.fast&&!s.value.includes(t.fast)||(s.value=s.value.replace(e,i))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,i)=>{let s;try{s=e(t,i)}catch(n){throw t.addToError(n)}return!1!==s&&t.walk&&(s=t.walk(e)),s}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((i,s)=>{if("atrule"===i.type&&e.test(i.name))return t(i,s)})):this.walk(((i,s)=>{if("atrule"===i.type&&i.name===e)return t(i,s)})):(t=e,this.walk(((e,i)=>{if("atrule"===e.type)return t(e,i)})))}walkComments(e){return this.walk(((t,i)=>{if("comment"===t.type)return e(t,i)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((i,s)=>{if("decl"===i.type&&e.test(i.prop))return t(i,s)})):this.walk(((i,s)=>{if("decl"===i.type&&i.prop===e)return t(i,s)})):(t=e,this.walk(((e,i)=>{if("decl"===e.type)return t(e,i)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((i,s)=>{if("rule"===i.type&&e.test(i.selector))return t(i,s)})):this.walk(((i,s)=>{if("rule"===i.type&&i.selector===e)return t(i,s)})):(t=e,this.walk(((e,i)=>{if("rule"===e.type)return t(e,i)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};ho.registerParse=e=>{to=e},ho.registerRule=e=>{so=e},ho.registerAtRule=e=>{eo=e},ho.registerRoot=e=>{io=e};var po=ho;ho.default=ho,ho.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,eo.prototype):"rule"===e.type?Object.setPrototypeOf(e,so.prototype):"decl"===e.type?Object.setPrototypeOf(e,oo.prototype):"comment"===e.type?Object.setPrototypeOf(e,no.prototype):"root"===e.type&&Object.setPrototypeOf(e,io.prototype),e[ao]=!0,e.nodes&&e.nodes.forEach((e=>{ho.rebuild(e)}))};let mo=po,bo=class extends mo{constructor(e){super(e),this.type="atrule"}append(){return this.proxyOf.nodes||(this.nodes=[]),super.append(...arguments)}prepend(){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...arguments)}};var yo=bo;bo.default=bo,mo.registerAtRule(bo);let fo,go,Zo=po,Go=class extends Zo{constructor(e){super(G({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new fo(new go,this,e).stringify()}};Go.registerLazyResult=e=>{fo=e},Go.registerProcessor=e=>{go=e};var Io=Go;Go.default=Go;var Vo={nanoid:function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},customAlphabet:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){let i="",s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;for(;s--;)i+=e[Math.random()*e.length|0];return i}}};let{existsSync:So,readFileSync:Wo}=vn,{dirname:Xo,join:Ro}=vn,{SourceMapConsumer:wo,SourceMapGenerator:vo}=vn;let Co=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let i=t.map?t.map.prev:void 0,s=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Xo(this.mapFile)),s&&(this.text=s)}consumer(){return this.consumerCache||(this.consumerCache=new wo(this.text)),this.consumerCache}decodeInline(e){let t=e.match(/^data:application\/json;charset=utf-?8,/)||e.match(/^data:application\/json,/);if(t)return decodeURIComponent(e.substr(t[0].length));let i=e.match(/^data:application\/json;charset=utf-?8;base64,/)||e.match(/^data:application\/json;base64,/);if(i)return s=e.substr(i[0].length),Buffer?Buffer.from(s,"base64").toString():window.atob(s);var s;let n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let i=e.lastIndexOf(t.pop()),s=e.indexOf("*/",i);i>-1&&s>-1&&(this.annotation=this.getAnnotationURL(e.substring(i,s)))}loadFile(e){if(this.root=Xo(e),So(e))return this.mapFile=e,Wo(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof wo)return vo.fromSourceMap(t).toString();if(t instanceof vo)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let i=t(e);if(i){let e=this.loadFile(i);if(!e)throw new Error("Unable to load previous source map: "+i.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=Ro(Xo(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var ko=Co;Co.default=Co;let{nanoid:xo}=Vo,{isAbsolute:Lo,resolve:Yo}=vn,{SourceMapConsumer:To,SourceMapGenerator:Jo}=vn,{fileURLToPath:No,pathToFileURL:Uo}=vn,Ko=Ln,Fo=ko,Mo=vn,Ho=Symbol("fromOffsetCache"),zo=!(!To||!Jo),Oo=!(!Yo||!Lo),Po=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e||"undefined"==typeof e||"object"==typeof e&&!e.toString)throw new Error("PostCSS received ".concat(e," instead of CSS string"));if(this.css=e.toString(),"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Oo||/^\w+:\/\//.test(t.from)||Lo(t.from)?this.file=t.from:this.file=Yo(t.from)),Oo&&zo){let e=new Fo(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+xo(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,i){let s,n,o,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&"object"==typeof t){let e=t,o=i;if("number"==typeof e.offset){let s=this.fromOffset(e.offset);t=s.line,i=s.col}else t=e.line,i=e.column;if("number"==typeof o.offset){let e=this.fromOffset(o.offset);n=e.line,s=e.col}else n=o.line,s=o.column}else if(!i){let e=this.fromOffset(t);t=e.line,i=e.col}let l=this.origin(t,i,n,s);return o=l?new Ko(e,void 0===l.endLine?l.line:{column:l.column,line:l.line},void 0===l.endLine?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,r.plugin):new Ko(e,void 0===n?t:{column:i,line:t},void 0===n?i:{column:s,line:n},this.css,this.file,r.plugin),o.input={column:i,endColumn:s,endLine:n,line:t,source:this.css},this.file&&(Uo&&(o.input.url=Uo(this.file).toString()),o.input.file=this.file),o}fromOffset(e){let t,i;if(this[Ho])i=this[Ho];else{let e=this.css.split("\n");i=new Array(e.length);let t=0;for(let s=0,n=e.length;s<n;s++)i[s]=t,t+=e[s].length+1;this[Ho]=i}t=i[i.length-1];let s=0;if(e>=t)s=i.length-1;else{let t,n=i.length-2;for(;s<n;)if(t=s+(n-s>>1),e<i[t])n=t-1;else{if(!(e>=i[t+1])){s=t;break}s=t+1}}return{col:e-i[s]+1,line:s+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Yo(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,i,s){if(!this.map)return!1;let n,o,r=this.map.consumer(),l=r.originalPositionFor({column:t,line:e});if(!l.source)return!1;"number"==typeof i&&(n=r.originalPositionFor({column:s,line:i})),o=Lo(l.source)?Uo(l.source):new URL(l.source,this.map.consumer().sourceRoot||Uo(this.map.mapFile));let a={column:l.column,endColumn:n&&n.column,endLine:n&&n.line,line:l.line,url:o.toString()};if("file:"===o.protocol){if(!No)throw new Error("file: protocol is not available in this PostCSS build");a.file=No(o)}let c=r.sourceContentFor(l.source);return c&&(a.source=c),a}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map=G({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Eo=Po;Po.default=Po,Mo&&Mo.registerInput&&Mo.registerInput(Po);let Bo,jo,Do=po,Qo=class extends Do{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,i){let s=super.normalize(e);if(t)if("prepend"===i)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let n of s)n.raws.before=t.raws.before;return s}removeChild(e,t){let i=this.index(e);return!t&&0===i&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),super.removeChild(e)}toResult(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bo(new jo,this,e).stringify()}};Qo.registerLazyResult=e=>{Bo=e},Qo.registerProcessor=e=>{jo=e};var Ao=Qo;Qo.default=Qo,Do.registerRoot(Qo);let _o={comma:e=>_o.split(e,[","],!0),space:e=>_o.split(e,[" ","\n","\t"]),split(e,t,i){let s=[],n="",o=!1,r=0,l=!1,a="",c=!1;for(let d of e)c?c=!1:"\\"===d?c=!0:l?d===a&&(l=!1):'"'===d||"'"===d?(l=!0,a=d):"("===d?r+=1:")"===d?r>0&&(r-=1):0===r&&t.includes(d)&&(o=!0),o?(""!==n&&s.push(n.trim()),n="",o=!1):n+=d;return(i||""!==n)&&s.push(n.trim()),s}};var qo=_o;_o.default=_o;let $o=po,er=qo,tr=class extends $o{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return er.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,i=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(i)}};var ir=tr;tr.default=tr,$o.registerRule(tr);let sr=yo,nr=An,or=$n,rr=Eo,lr=ko,ar=Ao,cr=ir;function dr(e,t){if(Array.isArray(e))return e.map((e=>dr(e)));let i=e,{inputs:s}=i,n=V(i,["inputs"]);if(s){t=[];for(let e of s){let i=I(G({},e),{__proto__:rr.prototype});i.map&&(i.map=I(G({},i.map),{__proto__:lr.prototype})),t.push(i)}}if(n.nodes&&(n.nodes=e.nodes.map((e=>dr(e,t)))),n.source){let e=n.source,{inputId:i}=e,s=V(e,["inputId"]);n.source=s,null!=i&&(n.source.input=t[i])}if("root"===n.type)return new ar(n);if("decl"===n.type)return new or(n);if("rule"===n.type)return new cr(n);if("comment"===n.type)return new nr(n);if("atrule"===n.type)return new sr(n);throw new Error("Unknown node type: "+e.type)}var ur=dr;dr.default=dr;let{dirname:hr,relative:pr,resolve:mr,sep:br}=vn,{SourceMapConsumer:yr,SourceMapGenerator:fr}=vn,{pathToFileURL:gr}=vn,Zr=Eo,Gr=!(!yr||!fr),Ir=!!(hr&&mr&&pr&&br);var Vr=class{constructor(e,t,i,s){this.stringify=e,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=s,this.originalCSS=s,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,i=this.toUrl(this.path(e.file)),s=e.root||hr(e.file);!1===this.mapOpts.sourcesContent?(t=new yr(e.text),t.sourcesContent&&(t.sourcesContent=null)):t=e.consumer(),this.map.applySourceMap(t,i,this.toUrl(this.path(s)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),Ir&&Gr&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=fr.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new fr({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new fr({file:this.outputFile(),ignoreInvalidMapping:!0});let e,t,i=1,s=1,n="<no source>",o={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((r,l,a)=>{if(this.css+=r,l&&"end"!==a&&(o.generated.line=i,o.generated.column=s-1,l.source&&l.source.start?(o.source=this.sourcePath(l),o.original.line=l.source.start.line,o.original.column=l.source.start.column-1,this.map.addMapping(o)):(o.source=n,o.original.line=1,o.original.column=0,this.map.addMapping(o))),t=r.match(/\n/g),t?(i+=t.length,e=r.lastIndexOf("\n"),s=r.length-e):s+=r.length,l&&"start"!==a){let e=l.parent||{raws:{}};("decl"!==l.type&&("atrule"!==l.type||l.nodes)||l!==e.last||e.raws.semicolon)&&(l.source&&l.source.end?(o.source=this.sourcePath(l),o.original.line=l.source.end.line,o.original.column=l.source.end.column-1,o.generated.line=i,o.generated.column=s-2,this.map.addMapping(o)):(o.source=n,o.original.line=1,o.original.column=0,o.generated.line=i,o.generated.column=s-1,this.map.addMapping(o)))}}))}isAnnotation(){return!!this.isInline()||("undefined"!=typeof this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if("undefined"!=typeof this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return("undefined"==typeof e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return"undefined"!=typeof this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return"undefined"!=typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let i=this.opts.to?hr(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(i=hr(mr(i,this.mapOpts.annotation)));let s=pr(i,e);return this.memoizedPaths.set(e,s),s}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new Zr(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let i=t.source.input.from;if(i&&!e[i]){e[i]=!0;let s=this.usesFileUrls?this.toFileUrl(i):this.toUrl(this.path(i));this.map.setSourceContent(s,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(gr){let t=gr(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===br&&(e=e.replace(/\\/g,"/"));let i=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,i),i}};const Sr=/[\t\n\f\r "#'()/;[\\\]{}]/g,Wr=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Xr=/.[\r\n"'(/\\]/,Rr=/[\da-f]/i;let wr=yo,vr=An,Cr=$n,kr=Ao,xr=ir,Lr=function(e){let t,i,s,n,o,r,l,a,c,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=e.css.valueOf(),p=u.ignoreErrors,m=h.length,b=0,y=[],f=[];function g(t){throw e.error("Unclosed "+t,b)}return{back:function(e){f.push(e)},endOfFile:function(){return 0===f.length&&b>=m},nextToken:function(e){if(f.length)return f.pop();if(b>=m)return;let u=!!e&&e.ignoreUnclosed;switch(t=h.charCodeAt(b),t){case 10:case 32:case 9:case 13:case 12:n=b;do{n+=1,t=h.charCodeAt(n)}while(32===t||10===t||9===t||13===t||12===t);r=["space",h.slice(b,n)],b=n-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let e=String.fromCharCode(t);r=[e,e,b];break}case 40:if(d=y.length?y.pop()[1]:"",c=h.charCodeAt(b+1),"url"===d&&39!==c&&34!==c&&32!==c&&10!==c&&9!==c&&12!==c&&13!==c){n=b;do{if(l=!1,n=h.indexOf(")",n+1),-1===n){if(p||u){n=b;break}g("bracket")}for(a=n;92===h.charCodeAt(a-1);)a-=1,l=!l}while(l);r=["brackets",h.slice(b,n+1),b,n],b=n}else n=h.indexOf(")",b+1),i=h.slice(b,n+1),-1===n||Xr.test(i)?r=["(","(",b]:(r=["brackets",i,b,n],b=n);break;case 39:case 34:o=39===t?"'":'"',n=b;do{if(l=!1,n=h.indexOf(o,n+1),-1===n){if(p||u){n=b+1;break}g("string")}for(a=n;92===h.charCodeAt(a-1);)a-=1,l=!l}while(l);r=["string",h.slice(b,n+1),b,n],b=n;break;case 64:Sr.lastIndex=b+1,Sr.test(h),n=0===Sr.lastIndex?h.length-1:Sr.lastIndex-2,r=["at-word",h.slice(b,n+1),b,n],b=n;break;case 92:for(n=b,s=!0;92===h.charCodeAt(n+1);)n+=1,s=!s;if(t=h.charCodeAt(n+1),s&&47!==t&&32!==t&&10!==t&&9!==t&&13!==t&&12!==t&&(n+=1,Rr.test(h.charAt(n)))){for(;Rr.test(h.charAt(n+1));)n+=1;32===h.charCodeAt(n+1)&&(n+=1)}r=["word",h.slice(b,n+1),b,n],b=n;break;default:47===t&&42===h.charCodeAt(b+1)?(n=h.indexOf("*/",b+2)+1,0===n&&(p||u?n=h.length:g("comment")),r=["comment",h.slice(b,n+1),b,n],b=n):(Wr.lastIndex=b+1,Wr.test(h),n=0===Wr.lastIndex?h.length-1:Wr.lastIndex-2,r=["word",h.slice(b,n+1),b,n],y.push(r),b=n)}return b++,r},position:function(){return b}}};const Yr={empty:!0,space:!0};var Tr=class{constructor(e){this.input=e,this.root=new kr,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new wr;t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2]);let i,s,n,o=!1,r=!1,l=[],a=[];for(;!this.tokenizer.endOfFile();){if(i=(e=this.tokenizer.nextToken())[0],"("===i||"["===i?a.push("("===i?")":"]"):"{"===i&&a.length>0?a.push("}"):i===a[a.length-1]&&a.pop(),0===a.length){if(";"===i){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}if("{"===i){r=!0;break}if("}"===i){if(l.length>0){for(n=l.length-1,s=l[n];s&&"space"===s[0];)s=l[--n];s&&(t.source.end=this.getPosition(s[3]||s[2]),t.source.end.offset++)}this.end(e);break}l.push(e)}else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(t.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(t,"params",l),o&&(e=l[l.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),r&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let i,s=0;for(let n=t-1;n>=0&&(i=e[n],"space"===i[0]||(s+=1,2!==s));n--);throw this.input.error("Missed semicolon","word"===i[0]?i[3]+1:i[2])}colon(e){let t,i,s,n=0;for(let[o,r]of e.entries()){if(i=r,s=i[0],"("===s&&(n+=1),")"===s&&(n-=1),0===n&&":"===s){if(t){if("word"===t[0]&&"progid"===t[1])continue;return o}this.doubleColon(i)}t=i}return!1}comment(e){let t=new vr;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let i=e[1].slice(2,-2);if(/^\s*$/.test(i))t.text="",t.raws.left=i,t.raws.right="";else{let e=i.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=Lr(this.input)}decl(e,t){let i=new Cr;this.init(i,e[0][2]);let s,n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(n[3]||n[2]||function(e){for(let t=e.length-1;t>=0;t--){let i=e[t],s=i[3]||i[2];if(s)return s}}(e)),i.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;i.prop+=e.shift()[1]}for(i.raws.between="";e.length;){if(s=e.shift(),":"===s[0]){i.raws.between+=s[1];break}"word"===s[0]&&/\w/.test(s[1])&&this.unknownWord([s]),i.raws.between+=s[1]}("_"===i.prop[0]||"*"===i.prop[0])&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let o,r=[];for(;e.length&&(o=e[0][0],"space"===o||"comment"===o);)r.push(e.shift());this.precheckMissedSemicolon(e);for(let l=e.length-1;l>=0;l--){if(s=e[l],"!important"===s[1].toLowerCase()){i.important=!0;let t=this.stringFrom(e,l);t=this.spacesFromEnd(e)+t," !important"!==t&&(i.raws.important=t);break}if("important"===s[1].toLowerCase()){let t=e.slice(0),s="";for(let e=l;e>0;e--){let i=t[e][0];if(s.trim().startsWith("!")&&"space"!==i)break;s=t.pop()[1]+s}s.trim().startsWith("!")&&(i.important=!0,i.raws.important=s,e=t)}if("space"!==s[0]&&"comment"!==s[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(i.raws.between+=r.map((e=>e[1])).join(""),r=[]),this.raw(i,"value",r.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new xr;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,i=null,s=!1,n=null,o=[],r=e[1].startsWith("--"),l=[],a=e;for(;a;){if(i=a[0],l.push(a),"("===i||"["===i)n||(n=a),o.push("("===i?")":"]");else if(r&&s&&"{"===i)n||(n=a),o.push("}");else if(0===o.length){if(";"===i){if(s)return void this.decl(l,r);break}if("{"===i)return void this.rule(l);if("}"===i){this.tokenizer.back(l.pop()),t=!0;break}":"===i&&(s=!0)}else i===o[o.length-1]&&(o.pop(),0===o.length&&(n=null));a=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(n),t&&s){if(!r)for(;l.length&&(a=l[l.length-1][0],"space"===a||"comment"===a);)this.tokenizer.back(l.pop());this.decl(l,r)}else this.unknownWord(l)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,i,s){let n,o,r,l,a=i.length,c="",d=!0;for(let u=0;u<a;u+=1)n=i[u],o=n[0],"space"!==o||u!==a-1||s?"comment"===o?(l=i[u-1]?i[u-1][0]:"empty",r=i[u+1]?i[u+1][0]:"empty",Yr[l]||Yr[r]||","===c.slice(-1)?d=!1:c+=n[1]):c+=n[1]:d=!1;if(!d){let s=i.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:s,value:c}}e[t]=c}rule(e){e.pop();let t=new xr;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)i=e.pop()[1]+i;return i}spacesAndCommentsFromStart(e){let t,i="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)i+=e.shift()[1];return i}spacesFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)i=e.pop()[1]+i;return i}stringFrom(e,t){let i="";for(let s=t;s<e.length;s++)i+=e[s][1];return e.splice(t,e.length-t),i}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};let Jr=po,Nr=Eo,Ur=Tr;function Kr(e,t){let i=new Nr(e,t),s=new Ur(i);try{s.parse()}catch(n){throw n}return s.root}var Fr=Kr;Kr.default=Kr,Jr.registerParse(Kr);let Mr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let i in t)this[i]=t[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Hr=Mr;Mr.default=Mr;let zr=Hr,Or=class{constructor(e,t,i){this.processor=e,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let i=new zr(e,t);return this.messages.push(i),i}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}};var Pr=Or;Or.default=Or;let Er=po,Br=Io,jr=Vr,Dr=Fr,Qr=Pr,Ar=Ao,_r=Kn,{isClean:qr,my:$r}=Fn;const el={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},tl={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},il={Once:!0,postcssPlugin:!0,prepare:!0};function sl(e){return"object"==typeof e&&"function"==typeof e.then}function nl(e){let t=!1,i=el[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[i,i+"-"+t,0,i+"Exit",i+"Exit-"+t]:t?[i,i+"-"+t,i+"Exit",i+"Exit-"+t]:e.append?[i,0,i+"Exit"]:[i,i+"Exit"]}function ol(e){let t;return t="document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:nl(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function rl(e){return e[qr]=!1,e.nodes&&e.nodes.forEach((e=>rl(e))),e}let ll={},al=class e{constructor(t,i,s){let n;if(this.stringified=!1,this.processed=!1,"object"!=typeof i||null===i||"root"!==i.type&&"document"!==i.type)if(i instanceof e||i instanceof Qr)n=rl(i.root),i.map&&("undefined"==typeof s.map&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=i.map);else{let e=Dr;s.syntax&&(e=s.syntax.parse),s.parser&&(e=s.parser),e.parse&&(e=e.parse);try{n=e(i,s)}catch(o){this.processed=!0,this.error=o}n&&!n[$r]&&Er.rebuild(n)}else n=rl(i);this.result=new Qr(t,n,s),this.helpers=I(G({},ll),{postcss:ll,result:this.result}),this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?G(G({},e),e.prepare(this.result)):e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let i=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?i.postcssVersion:(e.plugin=i.postcssPlugin,e.setMessage())}catch(s){console&&console.error&&console.error(s)}return e}prepareVisitors(){this.listeners={};let e=(e,t,i)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,i])};for(let t of this.plugins)if("object"==typeof t)for(let i in t){if(!tl[i]&&/^[A-Z]/.test(i))throw new Error("Unknown event ".concat(i," in ").concat(t.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!il[i])if("object"==typeof t[i])for(let s in t[i])e(t,"*"===s?i:i+"-"+s.toLowerCase(),t[i][s]);else"function"==typeof t[i]&&e(t,i,t[i])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return W(this,null,(function*(){this.plugin=0;for(let t=0;t<this.plugins.length;t++){let i=this.plugins[t],s=this.runOnRoot(i);if(sl(s))try{yield s}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let t=this.result.root;for(;!t[qr];){t[qr]=!0;let i=[ol(t)];for(;i.length>0;){let t=this.visitTick(i);if(sl(t))try{yield t}catch(e){let t=i[i.length-1].node;throw this.handleError(e,t)}}}if(this.listeners.OnceExit)for(let[i,s]of this.listeners.OnceExit){this.result.lastPlugin=i;try{if("document"===t.type){let e=t.nodes.map((e=>s(e,this.helpers)));yield Promise.all(e)}else yield s(t,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}))}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return sl(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=_r;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new jr(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(sl(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[qr];)e[qr]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[s,n]of e){let e;this.result.lastPlugin=s;try{e=n(t,this.helpers)}catch(i){throw this.handleError(i,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(sl(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:i,visitors:s}=t;if("root"!==i.type&&"document"!==i.type&&!i.parent)return void e.pop();if(s.length>0&&t.visitorIndex<s.length){let[e,n]=s[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===s.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return n(i.toProxy(),this.helpers)}catch(o){throw this.handleError(o,i)}}if(0!==t.iterator){let s,n=t.iterator;for(;s=i.nodes[i.indexes[n]];)if(i.indexes[n]+=1,!s[qr])return s[qr]=!0,void e.push(ol(s));t.iterator=0,delete i.indexes[n]}let n=t.events;for(;t.eventIndex<n.length;){let e=n[t.eventIndex];if(t.eventIndex+=1,0===e)return void(i.nodes&&i.nodes.length&&(i[qr]=!0,t.iterator=i.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[qr]=!0;let t=nl(e);for(let i of t)if(0===i)e.nodes&&e.each((e=>{e[qr]||this.walkSync(e)}));else{let t=this.listeners[i];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};al.registerPostcss=e=>{ll=e};var cl=al;al.default=al,Ar.registerLazyResult(al),Br.registerLazyResult(al);let dl=Vr,ul=Fr;const hl=Pr;let pl=Kn,ml=class{constructor(e,t,i){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=i,this._map=void 0;let s,n=pl;this.result=new hl(this._processor,s,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get:()=>o.root});let r=new dl(n,s,this._opts,t);if(r.isMap()){let[e,t]=r.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else r.clearAnnotation(),this.result.css=r.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=ul;try{e=t(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var bl=ml;ml.default=ml;let yl=Io,fl=cl,gl=bl,Zl=Ao,Gl=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.version="8.4.47",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let i of e)if(!0===i.postcss?i=i():i.postcss&&(i=i.postcss),"object"==typeof i&&Array.isArray(i.plugins))t=t.concat(i.plugins);else if("object"==typeof i&&i.postcssPlugin)t.push(i);else if("function"==typeof i)t.push(i);else{if("object"!=typeof i||!i.parse&&!i.stringify)throw new Error(i+" is not a PostCSS plugin")}return t}process(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||t.parser||t.stringifier||t.syntax?new fl(this,e,t):new gl(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var Il=Gl;Gl.default=Gl,Zl.registerProcessor(Gl),yl.registerProcessor(Gl);let Vl=yo,Sl=An,Wl=po,Xl=Ln,Rl=$n,wl=Io,vl=ur,Cl=Eo,kl=cl,xl=qo,Ll=jn,Yl=Fr,Tl=Il,Jl=Pr,Nl=Ao,Ul=ir,Kl=Kn,Fl=Hr;function Ml(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new Tl(t)}Ml.plugin=function(e,t){let i,s=!1;function n(){console&&console.warn&&!s&&(s=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"Production"}.LANG&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"Production"}.LANG.startsWith("cn")&&console.warn(e+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));let i=t(...arguments);return i.postcssPlugin=e,i.postcssVersion=(new Tl).version,i}return Object.defineProperty(n,"postcss",{get:()=>(i||(i=n()),i)}),n.process=function(e,t,i){return Ml([n(i)]).process(e,t)},n},Ml.stringify=Kl,Ml.parse=Yl,Ml.fromJSON=vl,Ml.list=xl,Ml.comment=e=>new Sl(e),Ml.atRule=e=>new Vl(e),Ml.decl=e=>new Rl(e),Ml.rule=e=>new Ul(e),Ml.root=e=>new Nl(e),Ml.document=e=>new wl(e),Ml.CssSyntaxError=Xl,Ml.Declaration=Rl,Ml.Container=Wl,Ml.Processor=Tl,Ml.Document=wl,Ml.Comment=Sl,Ml.Warning=Fl,Ml.AtRule=Vl,Ml.Result=Jl,Ml.Input=Cl,Ml.Rule=Ul,Ml.Root=Nl,Ml.Node=Ll,kl.registerPostcss(Ml),Ml.default=Ml;class Hl{constructor(){Vn(this,"parentElement",null),Vn(this,"parentNode",null),Vn(this,"ownerDocument"),Vn(this,"firstChild",null),Vn(this,"lastChild",null),Vn(this,"previousSibling",null),Vn(this,"nextSibling",null),Vn(this,"ELEMENT_NODE",1),Vn(this,"TEXT_NODE",3),Vn(this,"nodeType"),Vn(this,"nodeName"),Vn(this,"RRNodeType")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(!(e instanceof Hl))return!1;if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}const zl={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Ol={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Pl={};function El(e){if(Pl[e])return Pl[e];const t=globalThis[e],i=t.prototype,s=e in zl?zl[e]:void 0,n=!(!s||!s.every((e=>{var t,s;return!(null==(s=null==(t=Object.getOwnPropertyDescriptor(i,e))?void 0:t.get)||!s.toString().includes("[native code]"))}))),o=e in Ol?Ol[e]:void 0,r=!(!o||!o.every((e=>{var t;return"function"==typeof i[e]&&(null==(t=i[e])?void 0:t.toString().includes("[native code]"))})));if(n&&r)return Pl[e]=t.prototype,t.prototype;try{const s=document.createElement("iframe");document.body.appendChild(s);const n=s.contentWindow;if(!n)return t.prototype;const o=n[e].prototype;return document.body.removeChild(s),o?Pl[e]=o:i}catch(l){return i}}const Bl={};function jl(e,t,i){var s;const n="".concat(e,".").concat(String(i));if(Bl[n])return Bl[n].call(t);const o=El(e),r=null==(s=Object.getOwnPropertyDescriptor(o,i))?void 0:s.get;return r?(Bl[n]=r,r.call(t)):t[i]}const Dl={};function Ql(e,t,i){const s="".concat(e,".").concat(String(i));if(Dl[s])return Dl[s].bind(t);const n=El(e)[i];return"function"!=typeof n?t[i]:(Dl[s]=n,n.bind(t))}function Al(){return El("MutationObserver").constructor}const _l={childNodes:function(e){return jl("Node",e,"childNodes")},parentNode:function(e){return jl("Node",e,"parentNode")},parentElement:function(e){return jl("Node",e,"parentElement")},textContent:function(e){return jl("Node",e,"textContent")},contains:function(e,t){return Ql("Node",e,"contains")(t)},getRootNode:function(e){return Ql("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?jl("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?jl("Element",e,"shadowRoot"):null},querySelector:function(e,t){return jl("Element",e,"querySelector")(t)},querySelectorAll:function(e,t){return jl("Element",e,"querySelectorAll")(t)},mutationObserver:Al};function ql(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const s={capture:!0};return i.addEventListener(e,t,s),()=>i.removeEventListener(e,t,s)}const $l="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let ea={map:{},getId:()=>(console.error($l),-1),getNode:()=>(console.error($l),null),removeNodeFromMap(){console.error($l)},has:()=>(console.error($l),!1),reset(){console.error($l)}};function ta(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null,n=0;return function(){for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];const a=Date.now();!n&&!1===i.leading&&(n=a);const c=t-(a-n),d=this;c<=0||c>t?(s&&(clearTimeout(s),s=null),n=a,e.apply(d,r)):!s&&!1!==i.trailing&&(s=setTimeout((()=>{n=!1===i.leading?0:Date.now(),s=null,e.apply(d,r)}),c))}}function ia(e,t,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const o=n.Object.getOwnPropertyDescriptor(e,t);return n.Object.defineProperty(e,t,s?i:{set(e){setTimeout((()=>{i.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>ia(e,t,o||{},!0)}function sa(e,t,i){try{if(!(t in e))return()=>{};const s=e[t],n=i(s);return"function"==typeof n&&(n.prototype=n.prototype||{},Object.defineProperties(n,{__rrweb_original__:{enumerable:!1,value:s}})),e[t]=n,()=>{e[t]=s}}catch(s){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(ea=new Proxy(ea,{get:(e,t,i)=>("map"===t&&console.error($l),Reflect.get(e,t,i))}));let na=Date.now;function oa(e){var t,i,s,n;const o=e.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:o.documentElement.scrollLeft||(null==o?void 0:o.body)&&(null==(t=_l.parentElement(o.body))?void 0:t.scrollLeft)||(null==(i=null==o?void 0:o.body)?void 0:i.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==o?void 0:o.documentElement.scrollTop)||(null==o?void 0:o.body)&&(null==(s=_l.parentElement(o.body))?void 0:s.scrollTop)||(null==(n=null==o?void 0:o.body)?void 0:n.scrollTop)||0}}function ra(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function la(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function aa(e){return e?e.nodeType===e.ELEMENT_NODE?e:_l.parentElement(e):null}/[1-9][0-9]{12}/.test(Date.now().toString())||(na=()=>(new Date).getTime());function ca(e,t,i,s){if(!e)return!1;const n=aa(e);if(!n)return!1;try{if("string"==typeof t){if(n.classList.contains(t)||s&&null!==n.closest("."+t))return!0}else if(qe(n,t,s))return!0}catch(o){}return!(!i||!(n.matches(i)||s&&null!==n.closest(i)))}function da(e,t,i){return!("TITLE"!==e.tagName||!i.headTitleMutations)||-2===t.getId(e)}function ua(e,t){if(ge(e))return!1;const i=t.getId(e);if(!t.has(i))return!0;const s=_l.parentNode(e);return(!s||s.nodeType!==e.DOCUMENT_NODE)&&(!s||ua(s,t))}function ha(e){return!!e.changedTouches}function pa(e,t){return!("IFRAME"!==e.nodeName||!t.getMeta(e))}function ma(e,t){return!("LINK"!==e.nodeName||e.nodeType!==e.ELEMENT_NODE||!e.getAttribute||"stylesheet"!==e.getAttribute("rel")||!t.getMeta(e))}function ba(e){return!!e&&(e instanceof Hl&&"shadowRoot"in e?!!e.shadowRoot:!!_l.shadowRoot(e))}class ya{constructor(){ne(this,"id",1),ne(this,"styleIDMap",new WeakMap),ne(this,"idStyleMap",new Map)}getId(e){var t;return null!=(t=this.styleIDMap.get(e))?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let i;return i=void 0===t?this.id++:t,this.styleIDMap.set(e,i),this.idStyleMap.set(i,e),i}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function fa(e){var t;let i=null;return"getRootNode"in e&&(null==(t=_l.getRootNode(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&_l.host(_l.getRootNode(e))&&(i=_l.host(_l.getRootNode(e))),i}function ga(e){const t=e.ownerDocument;if(!t)return!1;const i=function(e){let t,i=e;for(;t=fa(i);)i=t;return i}(e);return _l.contains(t,i)}function Za(e){const t=e.ownerDocument;return!!t&&(_l.contains(t,e)||ga(e))}var Ga=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ga||{}),Ia=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ia||{}),Va=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Va||{}),Sa=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Sa||{}),Wa=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Wa||{}),Xa=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Xa||{});function Ra(e){return"__ln"in e}class wa{constructor(){ne(this,"length",0),ne(this,"head",null),ne(this,"tail",null)}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let i=0;i<e;i++)t=(null==t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Ra(e.previousSibling)){const i=e.previousSibling.__ln.next;t.next=i,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,i&&(i.previous=t)}else if(e.nextSibling&&Ra(e.nextSibling)&&e.nextSibling.__ln.previous){const i=e.nextSibling.__ln.previous;t.previous=i,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,i&&(i.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const va=(e,t)=>"".concat(e,"@").concat(t);class Ca{constructor(){ne(this,"frozen",!1),ne(this,"locked",!1),ne(this,"texts",[]),ne(this,"attributes",[]),ne(this,"attributeMap",new WeakMap),ne(this,"removes",[]),ne(this,"mapRemoves",[]),ne(this,"movedMap",{}),ne(this,"addedSet",new Set),ne(this,"movedSet",new Set),ne(this,"droppedSet",new Set),ne(this,"removesSubTreeCache",new Set),ne(this,"mutationCb"),ne(this,"blockClass"),ne(this,"blockSelector"),ne(this,"maskTextClass"),ne(this,"maskTextSelector"),ne(this,"inlineStylesheet"),ne(this,"maskInputOptions"),ne(this,"maskTextFn"),ne(this,"maskInputFn"),ne(this,"keepIframeSrcFn"),ne(this,"recordCanvas"),ne(this,"inlineImages"),ne(this,"privacySetting"),ne(this,"slimDOMOptions"),ne(this,"dataURLOptions"),ne(this,"doc"),ne(this,"mirror"),ne(this,"iframeManager"),ne(this,"stylesheetManager"),ne(this,"shadowDomManager"),ne(this,"canvasManager"),ne(this,"processedNodeManager"),ne(this,"unattachedDoc"),ne(this,"processMutations",(e=>{e.forEach(this.processMutation),this.emit()})),ne(this,"emit",(()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,i=new wa,s=e=>{let t=e,i=-2;for(;-2===i;)t=t&&t.nextSibling,i=t&&this.mirror.getId(t);return i},n=n=>{const o=_l.parentNode(n);if(!o||!Za(n)||"TEXTAREA"===o.tagName)return;const r=ge(o)?this.mirror.getId(fa(n)):this.mirror.getId(o),l=s(n);if(-1===r||-1===l)return i.addNode(n);const a=it(n,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,privacySetting:this.privacySetting,onSerialize:e=>{pa(e,this.mirror)&&this.iframeManager.addIframe(e),ma(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),ba(n)&&this.shadowDomManager.addShadowRoot(_l.shadowRoot(n),this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:r,nextId:l,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)xa(this.removesSubTreeCache,l)&&!this.movedSet.has(_l.parentNode(l))||n(l);for(const l of this.addedSet)!La(this.droppedSet,l)&&!xa(this.removesSubTreeCache,l)||La(this.movedSet,l)?n(l):this.droppedSet.add(l);let o=null;for(;i.length;){let e=null;if(o){const t=this.mirror.getId(_l.parentNode(o.value)),i=s(o.value);-1!==t&&-1!==i&&(e=o)}if(!e){let t=i.tail;for(;t;){const i=t;if(t=t.previous,i){const t=this.mirror.getId(_l.parentNode(i.value));if(-1===s(i.value))continue;if(-1!==t){e=i;break}{const t=i.value,s=_l.parentNode(t);if(s&&s.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const t=_l.host(s);if(-1!==this.mirror.getId(t)){e=i;break}}}}}}if(!e){for(;i.head;)i.removeNode(i.head.value);break}o=e.previous,i.removeNode(e.value),n(e.value)}const r={texts:this.texts.map((e=>{var t,i;const s=e.node,n=_l.parentNode(s);n&&"TEXTAREA"===n.tagName&&this.genTextAreaValueMutation(n);let o=e.value;const r="strict"===this.privacySetting,l="default"===this.privacySetting&&Ne(o),a=null==(i=null==(t=e.node)?void 0:t.parentElement)?void 0:i.getAttribute("data-hl-record");return(r||l)&&!a&&o&&(o=Ye(o)),{id:this.mirror.getId(s),value:o}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const i=JSON.stringify(e.styleDiff),s=JSON.stringify(e._unchangedStyles);i.length<t.style.length&&(i+s).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};!r.texts.length&&!r.attributes.length&&!r.removes.length&&!r.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(r))})),ne(this,"genTextAreaValueMutation",(e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(_l.childNodes(e),(e=>_l.textContent(e)||"")).join("")})),ne(this,"processMutation",(e=>{if(!da(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":{const t=_l.textContent(e.target);!ca(e.target,this.blockClass,this.blockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:$e(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,aa(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const i=e.target;let s=e.attributeName,n=e.target.getAttribute(s);if("value"===s){const e=Re(i);n=Se({element:i,maskInputOptions:this.maskInputOptions,tagName:i.tagName,type:e,value:n,overwriteRecord:i.getAttribute("data-hl-record"),maskInputFn:this.maskInputFn})}if(ca(e.target,this.blockClass,this.blockSelector,!1)||n===e.oldValue)return;let o=this.attributeMap.get(e.target);if("IFRAME"===i.tagName&&"src"===s&&!this.keepIframeSrcFn(n)){if(i.contentDocument)return;s="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),"type"===s&&"INPUT"===i.tagName&&"password"===(e.oldValue||"").toLowerCase()&&i.setAttribute("data-rr-is-password","true"),!Ae(i.tagName,s)){if("INPUT"===e.target.tagName){const t=e.target;if("password"===t.type){o.attributes.value="*".repeat(t.value.length);break}}if(o.attributes[s]=Qe(this.doc,We(i.tagName),We(s),n),"style"===s){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const s=this.unattachedDoc.createElement("span");e.oldValue&&s.setAttribute("style",e.oldValue);for(const e of Array.from(i.style)){const t=i.style.getPropertyValue(e),n=i.style.getPropertyPriority(e);t!==s.style.getPropertyValue(e)||n!==s.style.getPropertyPriority(e)?o.styleDiff[e]=""===n?t:[t,n]:o._unchangedStyles[e]=[t,n]}for(const e of Array.from(s.style))""===i.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}else"open"===s&&"DIALOG"===i.tagName&&(i.matches("dialog:modal")?o.attributes.rr_open_mode="modal":o.attributes.rr_open_mode="non-modal")}break}case"childList":if(ca(e.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const i=this.mirror.getId(t),s=ge(e.target)?this.mirror.getId(_l.host(e.target)):this.mirror.getId(e.target);ca(e.target,this.blockClass,this.blockSelector,!1)||da(t,this.mirror,this.slimDOMOptions)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(ka(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===i||ua(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[va(i,s)]?ka(this.movedSet,t):(this.removes.push({parentId:s,id:i,isShadow:!(!ge(e.target)||!Ze(e.target))||void 0}),function(e,t){const i=[e];for(;i.length;){const e=i.pop();t.has(e)||(t.add(e),_l.childNodes(e).forEach((e=>i.push(e))))}}(t,this.removesSubTreeCache))),this.mapRemoves.push(t))}))}})),ne(this,"genAdds",((e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(da(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let i=null;t&&this.mirror.hasNode(t)&&(i=this.mirror.getId(t)),i&&-1!==i&&(this.movedMap[va(this.mirror.getId(e),i)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);ca(e,this.blockClass,this.blockSelector,!1)||(_l.childNodes(e).forEach((e=>this.genAdds(e))),ba(e)&&_l.childNodes(_l.shadowRoot(e)).forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}))}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","privacySetting","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ka(e,t){e.delete(t),_l.childNodes(t).forEach((t=>ka(e,t)))}function xa(e,t,i){return 0!==e.size&&function(e,t){const i=_l.parentNode(t);return!!i&&e.has(i)}(e,t)}function La(e,t){return 0!==e.size&&Ya(e,t)}function Ya(e,t){const i=_l.parentNode(t);return!!i&&(!!e.has(i)||Ya(e,i))}let Ta;const Ja=e=>Ta?function(){try{return e(...arguments)}catch(t){if(Ta&&!0===Ta(t))return;throw t}}:e,Na=[];function Ua(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function Ka(e,t){const i=new Ca;Na.push(i),i.init(e);const s=new(Al())(Ja(i.processMutations.bind(i)));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Fa(e){let{mouseInteractionCb:t,doc:i,mirror:s,blockClass:n,blockSelector:o,sampling:r}=e;if(!1===r.mouseInteraction)return()=>{};const l=!0===r.mouseInteraction||void 0===r.mouseInteraction?{}:r.mouseInteraction,a=[];let c=null;const d=e=>r=>{const l=Ua(r);if(ca(l,n,o,!0)||(e=>{try{if(e instanceof HTMLElement)return"CANVAS"===e.tagName}catch(i){return!1}return!1})(l))return;let a=null,d=e;if("pointerType"in r){switch(r.pointerType){case"mouse":a=Sa.Mouse;break;case"touch":a=Sa.Touch;break;case"pen":a=Sa.Pen}a===Sa.Touch&&(Va[e]===Va.MouseDown?d="TouchStart":Va[e]===Va.MouseUp&&(d="TouchEnd"))}else ha(r)&&(a=Sa.Touch);null!==a?(c=a,(d.startsWith("Touch")&&a===Sa.Touch||d.startsWith("Mouse")&&a===Sa.Mouse)&&(a=null)):Va[e]===Va.Click&&(a=c,c=null);const u=ha(r)?r.changedTouches[0]:r;if(!u)return;const h=s.getId(l),{clientX:p,clientY:m}=u;Ja(t)(G({type:Va[d],id:h,x:p,y:m},null!==a&&{pointerType:a}))};return Object.keys(Va).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==l[e])).forEach((e=>{let t=We(e);const s=d(e);if(window.PointerEvent)switch(Va[e]){case Va.MouseDown:case Va.MouseUp:t=t.replace("mouse","pointer");break;case Va.TouchStart:case Va.TouchEnd:return}a.push(ql(t,s,i))})),Ja((()=>{a.forEach((e=>e()))}))}function Ma(e){let{scrollCb:t,doc:i,mirror:s,blockClass:n,blockSelector:o,sampling:r}=e;return ql("scroll",Ja(ta(Ja((e=>{const r=Ua(e);if(!r||ca(r,n,o,!0))return;const l=s.getId(r);if(r===i&&i.defaultView){const e=oa(i.defaultView);t({id:l,x:e.left,y:e.top})}else t({id:l,x:r.scrollLeft,y:r.scrollTop})})),r.scroll||100)),i)}const Ha=["INPUT","TEXTAREA","SELECT"],za=new WeakMap;function Oa(e){return function(e,t){if(ja("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||ja("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||ja("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||ja("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const i=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(i)}else if(e.parentStyleSheet){const i=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(i)}return t}(e,[])}function Pa(e,t,i){let s,n;return e?(e.ownerNode?s=t.getId(e.ownerNode):n=i.getId(e),{styleId:n,id:s}):{}}function Ea(e,t){let{mirror:i,stylesheetManager:s}=e;var n,o,r;let l=null;l="#document"===t.nodeName?i.getId(t):i.getId(_l.host(t));const a="#document"===t.nodeName?null==(n=t.defaultView)?void 0:n.Document:null==(r=null==(o=t.ownerDocument)?void 0:o.defaultView)?void 0:r.ShadowRoot,c=null!=a&&a.prototype?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==l&&-1!==l&&a&&c?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var e;return null==(e=c.get)?void 0:e.call(this)},set(e){var t;const i=null==(t=c.set)?void 0:t.call(this,e);if(null!==l&&-1!==l)try{s.adoptStyleSheets(e,l)}catch(n){}return i}}),Ja((()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))):()=>{}}function Ba(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=e.doc.defaultView;if(!i)return()=>{};let s;!function(e,t){const{mutationCb:i,mousemoveCb:s,mouseInteractionCb:n,scrollCb:o,viewportResizeCb:r,inputCb:l,mediaInteractionCb:a,styleSheetRuleCb:c,styleDeclarationCb:d,canvasMutationCb:u,fontCb:h,selectionCb:p,customElementCb:m}=e;e.mutationCb=function(){t.mutation&&t.mutation(...arguments),i(...arguments)},e.mousemoveCb=function(){t.mousemove&&t.mousemove(...arguments),s(...arguments)},e.mouseInteractionCb=function(){t.mouseInteraction&&t.mouseInteraction(...arguments),n(...arguments)},e.scrollCb=function(){t.scroll&&t.scroll(...arguments),o(...arguments)},e.viewportResizeCb=function(){t.viewportResize&&t.viewportResize(...arguments),r(...arguments)},e.inputCb=function(){t.input&&t.input(...arguments),l(...arguments)},e.mediaInteractionCb=function(){t.mediaInteaction&&t.mediaInteaction(...arguments),a(...arguments)},e.styleSheetRuleCb=function(){t.styleSheetRule&&t.styleSheetRule(...arguments),c(...arguments)},e.styleDeclarationCb=function(){t.styleDeclaration&&t.styleDeclaration(...arguments),d(...arguments)},e.canvasMutationCb=function(){t.canvasMutation&&t.canvasMutation(...arguments),u(...arguments)},e.fontCb=function(){t.font&&t.font(...arguments),h(...arguments)},e.selectionCb=function(){t.selection&&t.selection(...arguments),p(...arguments)},e.customElementCb=function(){t.customElement&&t.customElement(...arguments),m(...arguments)}}(e,t),e.recordDOM&&(s=Ka(e,e.doc));const n=function(e){let{mousemoveCb:t,sampling:i,doc:s,mirror:n}=e;if(!1===i.mousemove)return()=>{};const o="number"==typeof i.mousemove?i.mousemove:50,r="number"==typeof i.mousemoveCallback?i.mousemoveCallback:500;let l,a=[];const c=ta(Ja((e=>{const i=Date.now()-l;t(a.map((e=>(e.timeOffset-=i,e))),e),a=[],l=null})),r),d=Ja(ta(Ja((e=>{const t=Ua(e),{clientX:i,clientY:s}=ha(e)?e.changedTouches[0]:e;l||(l=na()),a.push({x:i,y:s,id:n.getId(t),timeOffset:na()-l}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?Ia.Drag:e instanceof MouseEvent?Ia.MouseMove:Ia.TouchMove)})),o,{trailing:!1})),u=[ql("mousemove",d,s),ql("touchmove",d,s),ql("drag",d,s)];return Ja((()=>{u.forEach((e=>e()))}))}(e),o=Fa(e),r=Ma(e),l=function(e,t){let{viewportResizeCb:i}=e,{win:s}=t,n=-1,o=-1;return ql("resize",Ja(ta(Ja((()=>{const e=ra(),t=la();(n!==e||o!==t)&&(i({width:Number(t),height:Number(e)}),n=e,o=t)})),200)),s)}(e,{win:i}),a=function(e){let{inputCb:t,doc:i,mirror:s,blockClass:n,blockSelector:o,ignoreClass:r,ignoreSelector:l,maskInputOptions:a,maskInputFn:c,sampling:d,userTriggeredOnInput:u}=e;function h(e){let t=Ua(e);const s=e.isTrusted,d=t&&t.tagName;if(t&&"OPTION"===d&&(t=_l.parentElement(t)),!t||!d||Ha.indexOf(d)<0||ca(t,n,o,!0)||t.classList.contains(r)||l&&t.matches(l))return;let h=t.value,m=!1;const b=Re(t)||"",y=t.getAttribute("data-hl-record");"radio"===b||"checkbox"===b?m=t.checked:Ue({maskInputOptions:a,type:b,tagName:d,overwriteRecord:y})&&(h=Se({element:t,maskInputOptions:a,tagName:d,type:b,value:h,overwriteRecord:y,maskInputFn:c})),p(t,u?{text:h,isChecked:m,userTriggered:s}:{text:h,isChecked:m});const f=t.name;"radio"===b&&f&&m&&i.querySelectorAll('input[type="radio"][name="'.concat(f,'"]')).forEach((e=>{if(e!==t){const t=e.value;p(e,u?{text:t,isChecked:!m,userTriggered:!1}:{text:t,isChecked:!m})}}))}function p(e,i){const n=za.get(e);if(!n||n.text!==i.text||n.isChecked!==i.isChecked){za.set(e,i);const n=s.getId(e);Ja(t)(I(G({},i),{id:n}))}}const m=("last"===d.input?["change"]:["input","change"]).map((e=>ql(e,Ja(h),i))),b=i.defaultView;if(!b)return()=>{m.forEach((e=>e()))};const y=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),f=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return y&&y.set&&m.push(...f.map((e=>ia(e[0],e[1],{set(){Ja(h)({target:this,isTrusted:!1})}},!1,b)))),Ja((()=>{m.forEach((e=>e()))}))}(e),c=function(e){let{mediaInteractionCb:t,blockClass:i,blockSelector:s,mirror:n,sampling:o,doc:r}=e;const l=Ja((e=>ta(Ja((o=>{const r=Ua(o);if(!r||ca(r,i,s,!0))return;const{currentTime:l,volume:a,muted:c,playbackRate:d,loop:u}=r;t({type:e,id:n.getId(r),currentTime:l,volume:a,muted:c,playbackRate:d,loop:u})})),o.media||500))),a=[ql("play",l(Xa.Play),r),ql("pause",l(Xa.Pause),r),ql("seeked",l(Xa.Seeked),r),ql("volumechange",l(Xa.VolumeChange),r),ql("ratechange",l(Xa.RateChange),r)];return Ja((()=>{a.forEach((e=>e()))}))}(e);let d=()=>{},u=()=>{},h=()=>{},p=()=>{};e.recordDOM&&(d=function(e,t){let{styleSheetRuleCb:i,mirror:s,stylesheetManager:n}=e,{win:o}=t;if(!o.CSSStyleSheet||!o.CSSStyleSheet.prototype)return()=>{};const r=o.CSSStyleSheet.prototype.insertRule;o.CSSStyleSheet.prototype.insertRule=new Proxy(r,{apply:Ja(((e,t,o)=>{const[r,l]=o,{id:a,styleId:c}=Pa(t,s,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&i({id:a,styleId:c,adds:[{rule:r,index:l}]}),e.apply(t,o)}))}),o.CSSStyleSheet.prototype.addRule=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cssRules.length;const s="".concat(e," { ").concat(t," }");return o.CSSStyleSheet.prototype.insertRule.apply(this,[s,i])};const l=o.CSSStyleSheet.prototype.deleteRule;let a,c;o.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:Ja(((e,t,o)=>{const[r]=o,{id:l,styleId:a}=Pa(t,s,n.styleMirror);return(l&&-1!==l||a&&-1!==a)&&i({id:l,styleId:a,removes:[{index:r}]}),e.apply(t,o)}))}),o.CSSStyleSheet.prototype.removeRule=function(e){return o.CSSStyleSheet.prototype.deleteRule.apply(this,[e])},o.CSSStyleSheet.prototype.replace&&(a=o.CSSStyleSheet.prototype.replace,o.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:Ja(((e,t,o)=>{const[r]=o,{id:l,styleId:a}=Pa(t,s,n.styleMirror);return(l&&-1!==l||a&&-1!==a)&&i({id:l,styleId:a,replace:r}),e.apply(t,o)}))})),o.CSSStyleSheet.prototype.replaceSync&&(c=o.CSSStyleSheet.prototype.replaceSync,o.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:Ja(((e,t,o)=>{const[r]=o,{id:l,styleId:a}=Pa(t,s,n.styleMirror);return(l&&-1!==l||a&&-1!==a)&&i({id:l,styleId:a,replaceSync:r}),e.apply(t,o)}))}));const d={};Da("CSSGroupingRule")?d.CSSGroupingRule=o.CSSGroupingRule:(Da("CSSMediaRule")&&(d.CSSMediaRule=o.CSSMediaRule),Da("CSSConditionRule")&&(d.CSSConditionRule=o.CSSConditionRule),Da("CSSSupportsRule")&&(d.CSSSupportsRule=o.CSSSupportsRule));const u={};return Object.entries(d).forEach((e=>{let[t,o]=e;u[t]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(u[t].insertRule,{apply:Ja(((e,t,o)=>{const[r,l]=o,{id:a,styleId:c}=Pa(t.parentStyleSheet,s,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&i({id:a,styleId:c,adds:[{rule:r,index:[...Oa(t),l||0]}]}),e.apply(t,o)}))}),o.prototype.deleteRule=new Proxy(u[t].deleteRule,{apply:Ja(((e,t,o)=>{const[r]=o,{id:l,styleId:a}=Pa(t.parentStyleSheet,s,n.styleMirror);return(l&&-1!==l||a&&-1!==a)&&i({id:l,styleId:a,removes:[{index:[...Oa(t),r]}]}),e.apply(t,o)}))})})),Ja((()=>{o.CSSStyleSheet.prototype.insertRule=r,o.CSSStyleSheet.prototype.deleteRule=l,a&&(o.CSSStyleSheet.prototype.replace=a),c&&(o.CSSStyleSheet.prototype.replaceSync=c),Object.entries(d).forEach((e=>{let[t,i]=e;i.prototype.insertRule=u[t].insertRule,i.prototype.deleteRule=u[t].deleteRule}))}))}(e,{win:i}),u=Ea(e,e.doc),h=function(e,t){let{styleDeclarationCb:i,mirror:s,ignoreCSSAttributes:n,stylesheetManager:o}=e,{win:r}=t;const l=r.CSSStyleDeclaration.prototype.setProperty;r.CSSStyleDeclaration.prototype.setProperty=new Proxy(l,{apply:Ja(((e,t,r)=>{var a;const[c,d,u]=r;if(n.has(c))return l.apply(t,[c,d,u]);const{id:h,styleId:p}=Pa(null==(a=t.parentRule)?void 0:a.parentStyleSheet,s,o.styleMirror);return(h&&-1!==h||p&&-1!==p)&&i({id:h,styleId:p,set:{property:c,value:d,priority:u},index:Oa(t.parentRule)}),e.apply(t,r)}))});const a=r.CSSStyleDeclaration.prototype.removeProperty;return r.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:Ja(((e,t,r)=>{var l;const[c]=r;if(n.has(c))return a.apply(t,[c]);const{id:d,styleId:u}=Pa(null==(l=t.parentRule)?void 0:l.parentStyleSheet,s,o.styleMirror);return(d&&-1!==d||u&&-1!==u)&&i({id:d,styleId:u,remove:{property:c},index:Oa(t.parentRule)}),e.apply(t,r)}))}),Ja((()=>{r.CSSStyleDeclaration.prototype.setProperty=l,r.CSSStyleDeclaration.prototype.removeProperty=a}))}(e,{win:i}),e.collectFonts&&(p=function(e){let{fontCb:t,doc:i}=e;const s=i.defaultView;if(!s)return()=>{};const n=[],o=new WeakMap,r=s.FontFace;s.FontFace=function(e,t,i){const s=new r(e,t,i);return o.set(s,{family:e,buffer:"string"!=typeof t,descriptors:i,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),s};const l=sa(i.fonts,"add",(function(e){return function(i){return setTimeout(Ja((()=>{const e=o.get(i);e&&(t(e),o.delete(i))})),0),e.apply(this,[i])}}));return n.push((()=>{s.FontFace=r})),n.push(l),Ja((()=>{n.forEach((e=>e()))}))}(e)));const m=function(e){const{doc:t,mirror:i,blockClass:s,blockSelector:n,selectionCb:o}=e;let r=!0;const l=Ja((()=>{const e=t.getSelection();if(!e||r&&null!=e&&e.isCollapsed)return;r=e.isCollapsed||!1;const l=[],a=e.rangeCount||0;for(let t=0;t<a;t++){const o=e.getRangeAt(t),{startContainer:r,startOffset:a,endContainer:c,endOffset:d}=o;ca(r,s,n,!0)||ca(c,s,n,!0)||l.push({start:i.getId(r),startOffset:a,end:i.getId(c),endOffset:d})}o({ranges:l})}));return l(),ql("selectionchange",l)}(e),b=function(e){let{doc:t,customElementCb:i}=e;const s=t.defaultView;return s&&s.customElements?sa(s.customElements,"define",(function(e){return function(t,s,n){try{i({define:{name:t}})}catch(a){console.warn("Custom element callback failed for ".concat(t))}return e.apply(this,[t,s,n])}})):()=>{}}(e),y=[];for(const f of e.plugins)y.push(f.observer(f.callback,i,f.options));return Ja((()=>{Na.forEach((e=>e.reset())),null==s||s.disconnect(),n(),o(),r(),l(),a(),c(),d(),u(),h(),p(),m(),b(),y.forEach((e=>e()))}))}function ja(e){return"undefined"!=typeof window[e]}function Da(e){return!!("undefined"!=typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Qa{constructor(e){ne(this,"iframeIdToRemoteIdMap",new WeakMap),ne(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,t,i,s){const n=i||this.getIdToRemoteIdMap(e),o=s||this.getRemoteIdToIdMap(e);let r=n.get(t);return r||(r=this.generateIdFn(),n.set(t,r),o.set(r,t)),r}getIds(e,t){const i=this.getIdToRemoteIdMap(e),s=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,i,s)))}getRemoteId(e,t,i){const s=i||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;return s.get(t)||-1}getRemoteIds(e,t){const i=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,i)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class Aa{constructor(e){ne(this,"iframes",new WeakMap),ne(this,"crossOriginIframeMap",new WeakMap),ne(this,"crossOriginIframeMirror",new Qa(Me)),ne(this,"crossOriginIframeStyleMirror"),ne(this,"crossOriginIframeRootIdMap",new WeakMap),ne(this,"mirror"),ne(this,"mutationCb"),ne(this,"wrappedEmit"),ne(this,"loadListener"),ne(this,"stylesheetManager"),ne(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Qa(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var i,s;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(i=e.contentWindow)||i.addEventListener("message",this.handleMessage.bind(this))),null==(s=this.loadListener)||s.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;const i=e.source;if(!i)return;const s=this.crossOriginIframeMap.get(i);if(!s)return;const n=this.transformCrossOriginEvent(s,t.data.event);n&&this.wrappedEmit(n,t.data.isCheckout)}transformCrossOriginEvent(e,t){var i;switch(t.type){case Ga.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const i=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(t.data.node,i),{timestamp:t.timestamp,type:Ga.IncrementalSnapshot,data:{source:Ia.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ga.Meta:case Ga.Load:case Ga.DomContentLoaded:return!1;case Ga.Plugin:return t;case Ga.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Ga.IncrementalSnapshot:switch(t.data.source){case Ia.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const i=this.crossOriginIframeRootIdMap.get(e);i&&this.patchRootIdOnNode(t.node,i)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Ia.Drag:case Ia.TouchMove:case Ia.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Ia.ViewportResize:return!1;case Ia.MediaInteraction:case Ia.MouseInteraction:case Ia.Scroll:case Ia.CanvasMutation:case Ia.Input:return this.replaceIds(t.data,e,["id"]),t;case Ia.StyleSheetRule:case Ia.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Ia.Font:return t;case Ia.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case Ia.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null==(i=t.data.styles)||i.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,i,s){for(const n of s)!Array.isArray(t[n])&&"number"!=typeof t[n]||(Array.isArray(t[n])?t[n]=e.getIds(i,t[n]):t[n]=e.getId(i,t[n]));return t}replaceIds(e,t,i){return this.replace(this.crossOriginIframeMirror,e,t,i)}replaceStyleIds(e,t,i){return this.replace(this.crossOriginIframeStyleMirror,e,t,i)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type!==le.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class _a{constructor(e){ne(this,"shadowDoms",new WeakSet),ne(this,"mutationCb"),ne(this,"scrollCb"),ne(this,"bypassOptions"),ne(this,"mirror"),ne(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Ze(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const i=Ka(I(G({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((()=>i.disconnect())),this.restoreHandlers.push(Ma(I(G({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(_l.host(e))),this.restoreHandlers.push(Ea({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const i=this;this.restoreHandlers.push(sa(e.prototype,"attachShadow",(function(e){return function(s){const n=e.call(this,s),o=_l.shadowRoot(this);return o&&Za(this)&&i.addShadowRoot(o,t),n}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$a="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ec=0;ec<64;ec++)$a[qa.charCodeAt(ec)]=ec;const tc=new Map;const ic=(e,t,i)=>{if(!e||!oc(e,t)&&"object"!=typeof e)return;const s=function(e,t){let i=tc.get(e);return i||(i=new Map,tc.set(e,i)),i.has(t)||i.set(t,[]),i.get(t)}(i,e.constructor.name);let n=s.indexOf(e);return-1===n&&(n=s.length,s.push(e)),n};function sc(e,t,i){if(e instanceof Array)return e.map((e=>sc(e,t,i)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const t=e.constructor.name,i=function(e){var t,i=new Uint8Array(e),s=i.length,n="";for(t=0;t<s;t+=3)n+=qa[i[t]>>2],n+=qa[(3&i[t])<<4|i[t+1]>>4],n+=qa[(15&i[t+1])<<2|i[t+2]>>6],n+=qa[63&i[t+2]];return s%3===2?n=n.substring(0,n.length-1)+"=":s%3===1&&(n=n.substring(0,n.length-2)+"=="),n}(e);return{rr_type:t,base64:i}}if(e instanceof DataView)return{rr_type:e.constructor.name,args:[sc(e.buffer,t,i),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:i}=e;return{rr_type:t,src:i}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[sc(e.data,t,i),e.width,e.height]};if(oc(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:ic(e,t,i)}}return e}const nc=(e,t,i)=>e.map((e=>sc(e,t,i))),oc=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e])).find((i=>e instanceof t[i]));function rc(e,t,i,s){const n=[];try{const o=sa(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),l=1;l<o;l++)r[l-1]=arguments[l];if(!ca(this,t,i,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(n);if("__context"in this||(this.__context=e),s&&["webgl","webgl2"].includes(e))if(r[0]&&"object"==typeof r[0]){const e=r[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else r.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[n,...r])}}));n.push(o)}catch(o){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{n.forEach((e=>e()))}}function lc(e,t,i,s,n,o){const r=[],l=Object.getOwnPropertyNames(e);for(const c of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))try{if("function"!=typeof e[c])continue;const l=sa(e,c,(function(e){return function(){for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];const d=e.apply(this,l);if(ic(d,o,this),"tagName"in this.canvas&&!ca(this.canvas,s,n,!0)){const e=nc(l,o,this),s={type:t,property:c,args:e};i(this.canvas,s)}return d}}));r.push(l)}catch(a){const s=ia(e,c,{set(e){i(this.canvas,{type:t,property:c,args:[e],setter:!0})}});r.push(s)}return r}const ac="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIGxldCBsb2dEZWJ1ZyA9IGZhbHNlOwogIGNvbnN0IGRlYnVnID0gKC4uLmFyZ3MpID0+IHsKICAgIGlmIChsb2dEZWJ1ZykgewogICAgICBjb25zb2xlLmRlYnVnKC4uLmFyZ3MpOwogICAgfQogIH07CiAgd29ya2VyLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgIGxvZ0RlYnVnID0gISFlLmRhdGEubG9nRGVidWc7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGR4LCBkeSwgZHcsIGRoLCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOwogICAgICBjb25zdCB0cmFuc3BhcmVudEJhc2U2NCA9IGdldFRyYW5zcGFyZW50QmxvYkZvcigKICAgICAgICB3aWR0aCwKICAgICAgICBoZWlnaHQsCiAgICAgICAgZGF0YVVSTE9wdGlvbnMKICAgICAgKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgY29uc3QgY3R4ID0gb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgYml0bWFwLmNsb3NlKCk7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgYXdhaXQgdHJhbnNwYXJlbnRCYXNlNjQgPT09IGJhc2U2NCkgewogICAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gY2FudmFzIGJpdG1hcCBpcyB0cmFuc3BhcmVudCIsIHsKICAgICAgICAgIGlkLAogICAgICAgICAgYmFzZTY0CiAgICAgICAgfSk7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCwgc3RhdHVzOiAidHJhbnNwYXJlbnQiIH0pOwogICAgICB9CiAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpIHsKICAgICAgICBkZWJ1ZygiW2hpZ2hsaWdodC13b3JrZXJdIGNhbnZhcyBiaXRtYXAgaXMgdW5jaGFuZ2VkIiwgewogICAgICAgICAgaWQsCiAgICAgICAgICBiYXNlNjQKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQsIHN0YXR1czogInVuY2hhbmdlZCIgfSk7CiAgICAgIH0KICAgICAgY29uc3QgbXNnID0gewogICAgICAgIGlkLAogICAgICAgIHR5cGUsCiAgICAgICAgYmFzZTY0LAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkeCwKICAgICAgICBkeSwKICAgICAgICBkdywKICAgICAgICBkaAogICAgICB9OwogICAgICBkZWJ1ZygiW2hpZ2hsaWdodC13b3JrZXJdIGNhbnZhcyBiaXRtYXAgcHJvY2Vzc2VkIiwgbXNnKTsKICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKG1zZyk7CiAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsKICAgIH0gZWxzZSB7CiAgICAgIGRlYnVnKCJbaGlnaGxpZ2h0LXdvcmtlcl0gbm8gb2Zmc2NyZWVuY2FudmFzIHN1cHBvcnQiLCB7CiAgICAgICAgaWQ6IGUuZGF0YS5pZAogICAgICB9KTsKICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQsIHN0YXR1czogInVuc3VwcG9ydGVkIiB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUJpWEpSZjQ3LmpzLm1hcAo=",cc="undefined"!=typeof self&&self.Blob&&new Blob([(dc=ac,Uint8Array.from(atob(dc),(e=>e.charCodeAt(0))))],{type:"text/javascript;charset=utf-8"});var dc;function uc(e){let t;try{if(t=cc&&(self.URL||self.webkitURL).createObjectURL(cc),!t)throw"";const i=new Worker(t,{name:null==e?void 0:e.name});return i.addEventListener("error",(()=>{(self.URL||self.webkitURL).revokeObjectURL(t)})),i}catch(i){return new Worker("data:text/javascript;base64,"+ac,{name:null==e?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}class hc{constructor(e){ne(this,"pendingCanvasMutations",new Map),ne(this,"rafStamps",{latestId:0,invokeId:null}),ne(this,"mirror"),ne(this,"logger"),ne(this,"worker"),ne(this,"snapshotInProgressMap",new Map),ne(this,"lastSnapshotTime",new Map),ne(this,"options"),ne(this,"mutationCb"),ne(this,"resetObservers"),ne(this,"frozen",!1),ne(this,"locked",!1),ne(this,"processMutation",((e,t)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)}));const{sampling:t,win:i,blockClass:s,blockSelector:n,recordCanvas:o,recordVideos:r,initialSnapshotDelay:l,dataURLOptions:a}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.logger=e.logger,this.worker=new uc,this.worker.onmessage=e=>{const{id:t}=e.data;if(this.snapshotInProgressMap.set(t,!1),!("base64"in e.data))return void this.debug(null,"canvas worker received empty message",{data:e.data,status:e.data.status});const{base64:i,type:s,dx:n,dy:o,dw:r,dh:l}=e.data,a={id:t,type:Wa["2D"],commands:[{property:"clearRect",args:[n,o,r,l]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},n,o,r,l]}]};this.debug(null,"canvas worker recording mutation",a),this.mutationCb(a)},this.options=e,o&&"all"===t?(this.debug(null,"initializing canvas mutation observer",{sampling:t}),this.initCanvasMutationObserver(i,s,n)):o&&"number"==typeof t&&(this.debug(null,"initializing canvas fps observer",{sampling:t}),this.initCanvasFPSObserver(r,t,i,s,n,{initialSnapshotDelay:l,dataURLOptions:a},e.resizeFactor,e.maxSnapshotDimension))}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}debug(e){if(!this.logger)return;const t=this.mirror.getId(e);let i="[highlight-canvas-manager]";for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];e&&(i="[highlight-canvas] [id:".concat(t,"]"),"canvas"===e.tagName.toLowerCase()&&(i+=" [ctx:".concat(e.__context,"]"))),this.logger.debug(i,e,...n)}snapshot(e){return W(this,null,(function*(){var t;const i=this.mirror.getId(e);if(this.snapshotInProgressMap.get(i))return void this.debug(e,"snapshotting already in progress for",i);const s=1e3/("number"==typeof this.options.samplingManual?this.options.samplingManual:1),n=this.lastSnapshotTime.get(i);if(!(n&&(new Date).getTime()-n<s)){if(this.debug(e,"starting snapshotting"),0===e.width||0===e.height)return void this.debug(e,"not yet ready",{width:e.width,height:e.height});this.lastSnapshotTime.set(i,(new Date).getTime()),this.snapshotInProgressMap.set(i,!0);try{if(!1!==this.options.clearWebGLBuffer&&["webgl","webgl2"].includes(e.__context)){const i=e.getContext(e.__context);!1===(null==(t=null==i?void 0:i.getContextAttributes())?void 0:t.preserveDrawingBuffer)&&(i.clear(i.COLOR_BUFFER_BIT),this.debug(e,"cleared webgl canvas to load it into memory",{attributes:null==i?void 0:i.getContextAttributes()}))}if(0===e.width||0===e.height)return void this.debug(e,"not yet ready",{width:e.width,height:e.height});let s=this.options.resizeFactor||1;if(this.options.maxSnapshotDimension){const t=Math.max(e.width,e.height);s=Math.min(s,this.options.maxSnapshotDimension/t)}const n=e.width*s,o=e.height*s,r=yield createImageBitmap(e,{resizeWidth:n,resizeHeight:o});this.debug(e,"created image bitmap",{width:r.width,height:r.height}),this.worker.postMessage({id:i,bitmap:r,width:n,height:o,dx:0,dy:0,dw:e.width,dh:e.height,dataURLOptions:this.options.dataURLOptions,logDebug:!!this.logger},[r]),this.debug(e,"sent message")}catch(o){this.debug(e,"failed to snapshot",o)}finally{this.snapshotInProgressMap.set(i,!1)}}}))}initCanvasFPSObserver(e,t,i,s,n,o,r,l){const a=rc(i,s,n,!0),c=1e3/t;let d,u=0;const h=new Map,p=(e,t)=>{const i=[];e.querySelectorAll(t).forEach((e=>i.push(e)));const s=document.createNodeIterator(e,Node.ELEMENT_NODE);let n;for(;n=s.nextNode();)null!=n&&n.shadowRoot&&i.push(...p(n.shadowRoot,t));return i},m=e=>{const t=[];return p(i.document,"canvas").forEach((i=>{if(!ca(i,s,n,!0)){this.debug(i,"discovered canvas"),t.push(i);const s=this.mirror.getId(i);h.has(s)||h.set(s,e)}})),t},b=t=>{const o=[];return e&&p(i.document,"video").forEach((e=>{if((""===e.src||-1!==e.src.indexOf("blob:"))&&!ca(e,s,n,!0)){o.push(e);const i=this.mirror.getId(e);h.has(i)||h.set(i,t)}})),o},y=e=>W(this,null,(function*(){if(u&&e-u<c)return void(d=requestAnimationFrame(y));u=e;const t=t=>{const i=this.mirror.getId(t),s=h.get(i),n=!o.initialSnapshotDelay||e-s>o.initialSnapshotDelay;return this.debug(t,{delay:o.initialSnapshotDelay,delta:e-s,hadLoadingTime:n}),n},i=[];i.push(...m(e).filter(t).map((e=>this.snapshot(e)))),i.push(...b(e).filter(t).map((e=>W(this,null,(function*(){this.debug(e,"starting video snapshotting");const t=this.mirror.getId(e);if(this.snapshotInProgressMap.get(t))this.debug(e,"video snapshotting already in progress for",t);else{this.snapshotInProgressMap.set(t,!0);try{const{width:i,height:s}=e.getBoundingClientRect(),{actualWidth:n,actualHeight:a}={actualWidth:e.videoWidth,actualHeight:e.videoHeight},c=Math.max(n,a);if(0===c)return void this.debug(e,"not yet ready",{width:e.width,height:e.height,actualWidth:n,actualHeight:a,boxWidth:i,boxHeight:s});let d=r||1;l&&(d=Math.min(d,l/c));const u=n*d,h=a*d,p=yield createImageBitmap(e,{resizeWidth:u,resizeHeight:h}),m=Math.max(i,s)/c,b=n*m,y=a*m,f=(i-b)/2,g=(s-y)/2;this.debug(e,"created image bitmap",{actualWidth:n,actualHeight:a,boxWidth:i,boxHeight:s,outputWidth:b,outputHeight:y,resizeWidth:u,resizeHeight:h,scale:d,outputScale:m,offsetX:f,offsetY:g}),this.worker.postMessage({id:t,bitmap:p,width:u,height:h,dx:f,dy:g,dw:b,dh:y,dataURLOptions:o.dataURLOptions,logDebug:!!this.logger},[p]),this.debug(e,"send message")}catch(i){this.debug(e,"failed to snapshot",i)}finally{this.snapshotInProgressMap.set(t,!1)}}}))))),yield Promise.all(i).catch(console.error),d=requestAnimationFrame(y)}));d=requestAnimationFrame(y),this.resetObservers=()=>{a(),d&&cancelAnimationFrame(d)}}initCanvasMutationObserver(e,t,i){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const s=rc(e,t,i,!1),n=function(e,t,i,s){const n=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const l of o)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[l])continue;const o=sa(t.CanvasRenderingContext2D.prototype,l,(function(n){return function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return ca(this.canvas,i,s,!0)||setTimeout((()=>{const i=nc(r,t,this);e(this.canvas,{type:Wa["2D"],property:l,args:i})}),0),n.apply(this,r)}}));n.push(o)}catch(r){const i=ia(t.CanvasRenderingContext2D.prototype,l,{set(t){e(this.canvas,{type:Wa["2D"],property:l,args:[t],setter:!0})}});n.push(i)}return()=>{n.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,i),o=function(e,t,i,s){const n=[];return n.push(...lc(t.WebGLRenderingContext.prototype,Wa.WebGL,e,i,s,t)),"undefined"!=typeof t.WebGL2RenderingContext&&n.push(...lc(t.WebGL2RenderingContext.prototype,Wa.WebGL2,e,i,s,t)),()=>{n.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,i);this.resetObservers=()=>{s(),n(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const i=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,i)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const i=this.pendingCanvasMutations.get(e);if(!i||-1===t)return;const s=i.map((e=>{const t=e,{type:i}=t;return V(t,["type"])})),{type:n}=i[0];this.mutationCb({id:t,type:n,commands:s}),this.pendingCanvasMutations.delete(e)}}class pc{constructor(e){ne(this,"trackedLinkElements",new WeakSet),ne(this,"mutationCb"),ne(this,"adoptedStyleSheetCb"),ne(this,"styleMirror",new ya),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const i={id:t,styleIds:[]},s=[];for(const n of e){let e;this.styleMirror.has(n)?e=this.styleMirror.getId(n):(e=this.styleMirror.add(n),s.push({styleId:e,rules:Array.from(n.rules||CSSRule,((e,t)=>({rule:Ie(e,n.href),index:t})))})),i.styleIds.push(e)}s.length>0&&(i.styles=s),this.adoptedStyleSheetCb(i)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class mc{constructor(){ne(this,"nodeMap",new WeakMap),ne(this,"active",!1)}inOtherBuffer(e,t){const i=this.nodeMap.get(e);return i&&Array.from(i).some((e=>e!==t))}add(e,t){this.active||(this.active=!0,requestAnimationFrame((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let bc,yc,fc,gc=!1;try{if(2!==Array.from([1],(e=>2*e))[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null==(ie=e.contentWindow)?void 0:ie.Array.from)||Array.from,document.body.removeChild(e)}}catch(dc){console.debug("Unable to override Array.from",dc)}const Zc=new Ve;function Gc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,i,s,n,o,r,l,a;const{emit:c,checkoutEveryNms:d,checkoutEveryNth:u,blockClass:h="highlight-block",blockSelector:p=null,ignoreClass:m="highlight-ignore",ignoreSelector:b=null,maskTextClass:y="highlight-mask",maskTextSelector:f=null,inlineStylesheet:g=!0,maskAllInputs:Z,maskInputOptions:I,slimDOMOptions:V,maskInputFn:S,maskTextFn:W=Ye,hooks:X,packFn:R,sampling:w={},mousemoveWait:v,recordDOM:C=!0,recordCanvas:k=!1,recordCrossOriginIframes:x=!1,recordAfter:L=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:Y=!1,collectFonts:T=!1,inlineImages:J=!1,plugins:N,keepIframeSrcFn:U=()=>!1,privacySetting:K="default",ignoreCSSAttributes:F=new Set([]),errorHandler:M,logger:H}=e,z=G(G({},e.dataURLOptions),null==(i=null==(t=e.sampling)?void 0:t.canvas)?void 0:i.dataURLOptions);!function(e){Ta=e}(M);const O=!x||window.parent===window;let P=!1;if(!O)try{window.parent.document&&(P=!1)}catch(se){P=!0}if(O&&!c)throw new Error("emit function is required");if(!O&&!P)return()=>{};void 0!==v&&void 0===w.mousemove&&(w.mousemove=v),Zc.reset();const E=!0===Z?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==I?I:{password:!0},B=!0===V||"all"===V?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===V,headMetaDescKeywords:"all"===V,headTitleMutations:"all"===V}:V||{};!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();let j,D=0;const Q=e=>{for(const t of N||[])t.eventProcessor&&(e=t.eventProcessor(e));return R&&!P&&(e=R(e)),e};bc=(e,t)=>{var i;const s=e;if(s.timestamp=na(),null!=(i=Na[0])&&i.isFrozen()&&s.type!==Ga.FullSnapshot&&!(s.type===Ga.IncrementalSnapshot&&s.data.source===Ia.Mutation)&&Na.forEach((e=>e.unfreeze())),O)null==c||c(Q(s),t);else if(P){const e={type:"rrweb",event:Q(s),origin:window.location.origin,isCheckout:t};window.parent.postMessage(e,"*")}if(s.type===Ga.FullSnapshot)j=s,D=0;else if(s.type===Ga.IncrementalSnapshot){if(s.data.source===Ia.Mutation&&s.data.isAttachIframe)return;D++;const e=u&&D>=u,t=d&&s.timestamp-j.timestamp>d;(e||t)&&yc(!0)}};const A=e=>{bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.Mutation},e)})},_=e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.Scroll},e)}),q=e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.CanvasMutation},e)}),$=new pc({mutationCb:A,adoptedStyleSheetCb:e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.AdoptedStyleSheet},e)})}),ee=new Aa({mirror:Zc,mutationCb:A,stylesheetManager:$,recordCrossOriginIframes:x,wrappedEmit:bc});for(const G of N||[])G.getMirror&&G.getMirror({nodeMirror:Zc,crossOriginIframeMirror:ee.crossOriginIframeMirror,crossOriginIframeStyleMirror:ee.crossOriginIframeStyleMirror});const te=new mc;fc=new hc({recordCanvas:k,recordVideos:J,mutationCb:q,win:window,blockClass:h,blockSelector:p,mirror:Zc,sampling:null==(s=null==w?void 0:w.canvas)?void 0:s.fps,samplingManual:null==(n=null==w?void 0:w.canvas)?void 0:n.fpsManual,clearWebGLBuffer:null==(o=null==w?void 0:w.canvas)?void 0:o.clearWebGLBuffer,initialSnapshotDelay:null==(r=null==w?void 0:w.canvas)?void 0:r.initialSnapshotDelay,dataURLOptions:z,resizeFactor:null==(l=null==w?void 0:w.canvas)?void 0:l.resizeFactor,maxSnapshotDimension:null==(a=null==w?void 0:w.canvas)?void 0:a.maxSnapshotDimension,logger:H});const ie=new _a({mutationCb:A,scrollCb:_,bypassOptions:{blockClass:h,blockSelector:p,maskTextClass:y,maskTextSelector:f,inlineStylesheet:g,maskInputOptions:E,dataURLOptions:z,maskTextFn:W,maskInputFn:S,recordCanvas:k,inlineImages:J,privacySetting:K,sampling:w,slimDOMOptions:B,iframeManager:ee,stylesheetManager:$,canvasManager:fc,keepIframeSrcFn:U,processedNodeManager:te},mirror:Zc});yc=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!C)return;bc({type:Ga.Meta,data:{href:window.location.href,width:la(),height:ra()}},e),$.reset(),ie.init(),Na.forEach((e=>e.lock()));const t=function(e,t){const{mirror:i=new Ve,blockClass:s="highlight-block",blockSelector:n=null,maskTextClass:o="highlight-mask",maskTextSelector:r=null,inlineStylesheet:l=!0,inlineImages:a=!1,recordCanvas:c=!1,maskAllInputs:d=!1,maskTextFn:u,maskInputFn:h,slimDOM:p=!1,dataURLOptions:m,preserveWhiteSpace:b,onSerialize:y,onIframeLoad:f,iframeLoadTimeout:g,onStylesheetLoad:Z,stylesheetLoadTimeout:G,keepIframeSrcFn:I=()=>!1,privacySetting:V="default"}=t||{};return it(e,{doc:e,mirror:i,blockClass:s,blockSelector:n,maskTextClass:o,maskTextSelector:r,skipChild:!1,inlineStylesheet:l,maskInputOptions:!0===d?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===d?{password:!0}:d,maskTextFn:u,maskInputFn:h,slimDOMOptions:p||"all"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===p,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:p||{},dataURLOptions:m,inlineImages:a,recordCanvas:c,preserveWhiteSpace:b,onSerialize:y,onIframeLoad:f,iframeLoadTimeout:g,onStylesheetLoad:Z,stylesheetLoadTimeout:G,keepIframeSrcFn:I,newlyAddedElement:!1,privacySetting:V})}(document,{mirror:Zc,blockClass:h,blockSelector:p,maskTextClass:y,maskTextSelector:f,inlineStylesheet:g,maskAllInputs:E,maskTextFn:W,maskInputFn:S,slimDOM:B,dataURLOptions:z,recordCanvas:k,inlineImages:J,privacySetting:K,onSerialize:e=>{pa(e,Zc)&&ee.addIframe(e),ma(e,Zc)&&$.trackLinkElement(e),ba(e)&&ie.addShadowRoot(_l.shadowRoot(e),document)},onIframeLoad:(e,t)=>{ee.attachIframe(e,t),ie.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{$.attachLinkElement(e,t)},keepIframeSrcFn:U});if(!t)return console.warn("Failed to snapshot the document");bc({type:Ga.FullSnapshot,data:{node:t,initialOffset:oa(window)}},e),Na.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&$.adoptStyleSheets(document.adoptedStyleSheets,Zc.getId(document))};try{const e=[],t=e=>{var t;return Ja(Ba)({mutationCb:A,mousemoveCb:(e,t)=>bc({type:Ga.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.MouseInteraction},e)}),scrollCb:_,viewportResizeCb:e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.ViewportResize},e)}),inputCb:e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.Input},e)}),mediaInteractionCb:e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.MediaInteraction},e)}),styleSheetRuleCb:e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.StyleSheetRule},e)}),styleDeclarationCb:e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.StyleDeclaration},e)}),canvasMutationCb:q,fontCb:e=>bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.Font},e)}),selectionCb:e=>{bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.Selection},e)})},customElementCb:e=>{bc({type:Ga.IncrementalSnapshot,data:G({source:Ia.CustomElement},e)})},blockClass:h,ignoreClass:m,ignoreSelector:b,maskTextClass:y,maskTextSelector:f,maskInputOptions:E,inlineStylesheet:g,sampling:w,recordDOM:C,recordCanvas:k,inlineImages:J,userTriggeredOnInput:Y,collectFonts:T,doc:e,maskInputFn:S,maskTextFn:W,keepIframeSrcFn:U,blockSelector:p,slimDOMOptions:B,dataURLOptions:z,mirror:Zc,iframeManager:ee,stylesheetManager:$,shadowDomManager:ie,processedNodeManager:te,canvasManager:fc,ignoreCSSAttributes:F,privacySetting:K,plugins:(null==(t=null==N?void 0:N.filter((e=>e.observer)))?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>bc({type:Ga.Plugin,data:{plugin:e.name,payload:t}})}))))||[]},X)};ee.addLoadListener((i=>{try{e.push(t(i.contentDocument))}catch(s){console.warn(s)}}));const i=()=>{yc(),e.push(t(document)),gc=!0};return"interactive"===document.readyState||"complete"===document.readyState?i():(e.push(ql("DOMContentLoaded",(()=>{bc({type:Ga.DomContentLoaded,data:{}}),"DOMContentLoaded"===L&&i()}))),e.push(ql("load",(()=>{bc({type:Ga.Load,data:{}}),"load"===L&&i()}),window))),()=>{e.forEach((e=>e())),te.destroy(),gc=!1,Ta=void 0}}catch(se){console.warn(se)}}var Ic;Gc.addCustomEvent=(e,t)=>{gc&&bc({type:Ga.Custom,data:{tag:e,payload:t}})},Gc.freezePage=()=>{Na.forEach((e=>e.freeze()))},Gc.takeFullSnapshot=e=>{if(!gc)throw new Error("please take full snapshot after start recording");yc(e)},Gc.snapshotCanvas=e=>W(void 0,null,(function*(){if(!fc)throw new Error("canvas manager is not initialized");yield fc.snapshot(e)})),Gc.mirror=Zc,function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(Ic||(Ic={}));const{addCustomEvent:Vc}=Gc;var Sc=function(){return Sc=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Sc.apply(this,arguments)},Wc=new Map,Xc=new Map,Rc=!0,wc=!1;function vc(e){return e.replace(/[\s,]+/g," ").trim()}function Cc(e){var t=new Set,i=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var s=e.name.value,n=function(e){return vc(e.source.body.substring(e.start,e.end))}(e.loc),o=Xc.get(s);o&&!o.has(n)?Rc&&console.warn("Warning: fragment with name "+s+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||Xc.set(s,o=new Set),o.add(n),t.has(n)||(t.add(n),i.push(e))}else i.push(e)})),Sc(Sc({},e),{definitions:i})}function kc(e){var t=vc(e);if(!Wc.has(t)){var i=(0,h.b)(e,{experimentalFragmentVariables:wc,allowLegacyFragmentVariables:wc});if(!i||"Document"!==i.kind)throw new Error("Not a valid GraphQL document.");Wc.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(i){var s=e[i];s&&"object"==typeof s&&t.add(s)}))}));var i=e.loc;return i&&(delete i.startToken,delete i.endToken),e}(Cc(i)))}return Wc.get(t)}function xc(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];"string"==typeof e&&(e=[e]);var s=e[0];return t.forEach((function(t,i){t&&"Document"===t.kind?s+=t.loc.source.body:s+=t,s+=e[i+1]})),kc(s)}var Lc,Yc=xc,Tc=function(){Wc.clear(),Xc.clear()},Jc=function(){Rc=!1},Nc=function(){wc=!0},Uc=function(){wc=!1};!function(e){e.gql=Yc,e.resetCaches=Tc,e.disableFragmentWarnings=Jc,e.enableExperimentalFragmentVariables=Nc,e.disableExperimentalFragmentVariables=Uc}(xc||(xc={})),xc.default=xc,function(e){e.BillingQuotaExceeded="BillingQuotaExceeded"}(Lc||(Lc={}));const Kc=xc(s||(s=(0,u.A)(["\n\tmutation PushPayload(\n\t\t$session_secure_id: String!\n\t\t$payload_id: ID!\n\t\t$events: ReplayEventsInput!\n\t\t$messages: String!\n\t\t$resources: String!\n\t\t$web_socket_events: String!\n\t\t$errors: [ErrorObjectInput]!\n\t\t$is_beacon: Boolean\n\t\t$has_session_unloaded: Boolean\n\t\t$highlight_logs: String\n\t) {\n\t\tpushPayload(\n\t\t\tsession_secure_id: $session_secure_id\n\t\t\tpayload_id: $payload_id\n\t\t\tevents: $events\n\t\t\tmessages: $messages\n\t\t\tresources: $resources\n\t\t\tweb_socket_events: $web_socket_events\n\t\t\terrors: $errors\n\t\t\tis_beacon: $is_beacon\n\t\t\thas_session_unloaded: $has_session_unloaded\n\t\t\thighlight_logs: $highlight_logs\n\t\t)\n\t}\n"]))),Fc=xc(n||(n=(0,u.A)(["\n\tmutation PushPayloadCompressed(\n\t\t$session_secure_id: String!\n\t\t$payload_id: ID!\n\t\t$data: String!\n\t) {\n\t\tpushPayloadCompressed(\n\t\t\tsession_secure_id: $session_secure_id\n\t\t\tpayload_id: $payload_id\n\t\t\tdata: $data\n\t\t)\n\t}\n"]))),Mc=xc(o||(o=(0,u.A)(["\n\tmutation identifySession(\n\t\t$session_secure_id: String!\n\t\t$user_identifier: String!\n\t\t$user_object: Any\n\t) {\n\t\tidentifySession(\n\t\t\tsession_secure_id: $session_secure_id\n\t\t\tuser_identifier: $user_identifier\n\t\t\tuser_object: $user_object\n\t\t)\n\t}\n"]))),Hc=xc(r||(r=(0,u.A)(["\n\tmutation addSessionProperties(\n\t\t$session_secure_id: String!\n\t\t$properties_object: Any\n\t) {\n\t\taddSessionProperties(\n\t\t\tsession_secure_id: $session_secure_id\n\t\t\tproperties_object: $properties_object\n\t\t)\n\t}\n"]))),zc=xc(l||(l=(0,u.A)(["\n\tmutation pushMetrics($metrics: [MetricInput]!) {\n\t\tpushMetrics(metrics: $metrics)\n\t}\n"]))),Oc=xc(a||(a=(0,u.A)(["\n\tmutation addSessionFeedback(\n\t\t$session_secure_id: String!\n\t\t$user_name: String\n\t\t$user_email: String\n\t\t$verbatim: String!\n\t\t$timestamp: Timestamp!\n\t) {\n\t\taddSessionFeedback(\n\t\t\tsession_secure_id: $session_secure_id\n\t\t\tuser_name: $user_name\n\t\t\tuser_email: $user_email\n\t\t\tverbatim: $verbatim\n\t\t\ttimestamp: $timestamp\n\t\t)\n\t}\n"]))),Pc=xc(c||(c=(0,u.A)(["\n\tmutation initializeSession(\n\t\t$session_secure_id: String!\n\t\t$organization_verbose_id: String!\n\t\t$enable_strict_privacy: Boolean!\n\t\t$privacy_setting: String!\n\t\t$enable_recording_network_contents: Boolean!\n\t\t$clientVersion: String!\n\t\t$firstloadVersion: String!\n\t\t$clientConfig: String!\n\t\t$environment: String!\n\t\t$id: String!\n\t\t$appVersion: String\n\t\t$serviceName: String!\n\t\t$client_id: String!\n\t\t$network_recording_domains: [String!]\n\t\t$disable_session_recording: Boolean\n\t) {\n\t\tinitializeSession(\n\t\t\tsession_secure_id: $session_secure_id\n\t\t\torganization_verbose_id: $organization_verbose_id\n\t\t\tenable_strict_privacy: $enable_strict_privacy\n\t\t\tenable_recording_network_contents: $enable_recording_network_contents\n\t\t\tclientVersion: $clientVersion\n\t\t\tfirstloadVersion: $firstloadVersion\n\t\t\tclientConfig: $clientConfig\n\t\t\tenvironment: $environment\n\t\t\tappVersion: $appVersion\n\t\t\tserviceName: $serviceName\n\t\t\tfingerprint: $id\n\t\t\tclient_id: $client_id\n\t\t\tnetwork_recording_domains: $network_recording_domains\n\t\t\tdisable_session_recording: $disable_session_recording\n\t\t\tprivacy_setting: $privacy_setting\n\t\t) {\n\t\t\tsecure_id\n\t\t\tproject_id\n\t\t}\n\t}\n"]))),Ec=xc(d||(d=(0,u.A)(["\n\tquery Ignore($id: ID!) {\n\t\tignore(id: $id)\n\t}\n"]))),Bc=(e,t,i,s)=>e();const jc=e=>{e(window.location.href);const t=history.pushState;history.pushState=(e=>function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),t})(history.pushState);const i=history.replaceState;history.replaceState=(e=>function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t})(history.replaceState);const s=()=>{window.dispatchEvent(new Event("locationchange"))};window.addEventListener("popstate",s);const n=function(){e(window.location.href)};return window.addEventListener("locationchange",n),()=>{window.removeEventListener("popstate",s),window.removeEventListener("locationchange",n),history.pushState=t,history.replaceState=i}};var Dc;function Qc(e,t){return e.nodeType,Node.ELEMENT_NODE,_c(e)}function Ac(e){if(e.id.length)return"#".concat(e.id);if(e.classList.length){let t=[];for(const i of e.classList)t.push(".".concat(i));return"".concat(e.nodeName.toLowerCase()).concat(t.join(","))}return e.nodeName.toLowerCase()}!function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(Dc||(Dc={}));const _c=e=>{let t="";const i=e.getAttribute("class"),s=e.getAttribute("id");return s&&(t=t.concat(qc(s,"#"))),i&&(t=t.concat(qc(i,"."))),""===t&&(t=t.concat(e.tagName.toLowerCase())),t},qc=(e,t)=>"".concat(t).concat(e.trim().split(" ").join(t)),$c=(e,t)=>{let i={},s=16.666666666666668;W(void 0,null,(function*(){const e=[];for(let t=0;t<30;t++)e.push(yield new Promise((e=>requestAnimationFrame((t=>requestAnimationFrame((i=>e(i-t))))))));return e.reduce(((e,t)=>e+t),0)/e.length})).then((e=>s=e));const n=e=>{var t;null!=i&&i.event||(i={event:e,location:window.location.href,timerStart:null==(t=window.performance)?void 0:t.now()},window.requestAnimationFrame(o))},o=()=>{if(null==i||!i.timerStart)return;const e=window.performance.now()-i.timerStart-s;r(e),i={}},r=s=>{const n=((new Date).getTime()-t)/1e3;e({relativeTimestamp:n,jankAmount:s,querySelector:l(),newLocation:window.location.href!=i.location?window.location.href:void 0})},l=()=>{var e;return null!=(e=null==i?void 0:i.event)&&e.target?Ac(i.event.target):""};return window.addEventListener("click",n,!0),window.addEventListener("keydown",n,!0),()=>{window.removeEventListener("keydown",n,!0),window.removeEventListener("click",n,!0)}},ed="undefined"!=typeof window&&"performance"in window&&"memory"in performance?performance:{memory:{}};var td;!function(e){e.USER_ID="ajs_user_id",e.USER_TRAITS="ajs_user_traits",e.ANONYMOUS_ID="ajs_anonymous_id"}(td||(td={}));const id=e=>{e(window.location.href);var t=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(i){setTimeout((()=>{var t,s;try{s=JSON.parse(null!=(t=null==i?void 0:i.toString())?t:"")}catch(n){return}("track"===s.type||"identify"===s.type)&&nd(s)&&e(s)}),100),t.call(this,i)};const i=t=>{if(t.key===td.USER_ID||t.key===td.ANONYMOUS_ID||t.key===td.USER_TRAITS){const{userId:t,userTraits:i}=sd();if(t){let s={};i&&(s=JSON.parse(i));const n={type:"identify",userId:t.toString(),traits:s};nd(n)&&e(n)}}},{userId:s,userTraits:n}=sd();if(s){let t={};n&&(t=JSON.parse(n));const i={type:"identify",userId:s.toString(),traits:t};nd(i)&&e(i)}return window.addEventListener("storage",i),(0,h.m)((e=>{let{keyName:t}=e;i({key:t})})),()=>{window.removeEventListener("storage",i),XMLHttpRequest.prototype.send=t}},sd=()=>({userId:(0,h.e)(td.USER_ID),userTraits:(0,h.e)(td.USER_TRAITS),anonymousId:(0,h.e)(td.ANONYMOUS_ID)}),nd=e=>{if(!e)return!1;let t="";try{t=JSON.stringify(e)}catch(n){return!1}const i=od(t),s=(0,h.e)(h.S.SEGMENT_LAST_SENT_HASH_KEY);return(void 0===s||i!==s)&&((0,h.s)(h.S.SEGMENT_LAST_SENT_HASH_KEY,i),!0)},od=e=>{var t=0,i=e.length,s=0;if(i>0)for(;s<i;)t=(t<<5)-t+e.charCodeAt(s++)|0;return t.toString()},rd=(e,t)=>{const i=function(e){"string"!=typeof e&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let i=t.lastIndexOf("");for(;i>=0;)t[i-1]+=",",t.splice(i,1),i=t.lastIndexOf("");return t}(e);let s=[];for(let n=0;n<i.length;n++){let e=i[n].split("+");s=[],e.length>1&&(s=bd(pd,e)),e=e[e.length-1],e="*"===e?"*":md(e),e in ad||(ad[e]=[]),ad[e].push({mods:s,shortcut:i[n],key:i[n],method:t,keyup:false,keydown:true,scope:"all",splitKey:"+"})}!function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on".concat(t),(()=>{i(window.event)}))}(document,"keydown",(e=>{!function(e){const t=ad["*"];let i=e.keyCode||e.which||e.charCode;if((93===i||224===i)&&(i=91),-1===ld.indexOf(i)&&229!==i&&ld.push(i),["ctrlKey","altKey","shiftKey","metaKey"].forEach((t=>{const i=ud[t];e[t]&&-1===ld.indexOf(i)?ld.push(i):!e[t]&&ld.indexOf(i)>-1?ld.splice(ld.indexOf(i),1):"metaKey"===t&&e[t]&&3===ld.length&&(e.ctrlKey||e.shiftKey||e.altKey||(ld=ld.slice(ld.indexOf(i))))})),!(i in hd)||(hd[i]=!0,t)){for(const t in hd)Object.prototype.hasOwnProperty.call(hd,t)&&(hd[t]=e[ud[t]]);if(e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===ld.indexOf(17)&&ld.push(17),-1===ld.indexOf(18)&&ld.push(18),hd[17]=!0,hd[18]=!0),i in ad)for(let t=0;t<ad[i].length;t++)if(("keydown"===e.type&&ad[i][t].keydown||"keyup"===e.type&&ad[i][t].keyup)&&ad[i][t].key){const s=ad[i][t];yd(e,s,"all")}}}(e)}))};let ld=[];const ad={},cd="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0,dd={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":cd?173:189,"=":cd?61:187,";":cd?59:186,"'":222,"[":219,"]":221,"\\":220},ud={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},hd={16:!1,18:!1,17:!1,91:!1},pd={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},md=e=>dd[e.toLowerCase()]||pd[e.toLowerCase()]||e.toUpperCase().charCodeAt(0);function bd(e,t){const i=t.slice(0,t.length-1);for(let s=0;s<i.length;s++)i[s]=e[i[s].toLowerCase()];return i}function yd(e,t,i){let s;if(t.scope===i||"all"===t.scope){s=t.mods.length>0;for(const e in hd)Object.prototype.hasOwnProperty.call(hd,e)&&(!hd[e]&&t.mods.indexOf(+e)>-1||hd[e]&&-1===t.mods.indexOf(+e))&&(s=!1);(0===t.mods.length&&!hd[16]&&!hd[18]&&!hd[17]&&!hd[91]||s||"*"===t.shortcut)&&!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}var fd,gd,Zd,Gd,Id,Vd=-1,Sd=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Vd=t.timeStamp,e(t))}),!0)},Wd=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Xd=function(){var e=Wd();return e&&e.activationStart||0},Rd=function(e,t){var i=Wd(),s="navigate";return Vd>=0?s="back-forward-cache":i&&(document.prerendering||Xd()>0?s="prerender":document.wasDiscarded?s="restore":i.type&&(s=i.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:s}},wd=function(e,t,i){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var s=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return s.observe(Object.assign({type:e,buffered:!0},i||{})),s}}catch(n){}},vd=function(e,t,i,s){var n,o;return function(r){var l,a;t.value>=0&&(r||s)&&((o=t.value-(n||0))||void 0===n)&&(n=t.value,t.delta=o,t.rating=(l=t.value)>(a=i)[1]?"poor":l>a[0]?"needs-improvement":"good",e(t))}},Cd=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},kd=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},xd=function(e){var t=!1;return function(i){t||(e(i),t=!0)}},Ld=-1,Yd=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Td=function(e){"hidden"===document.visibilityState&&Ld>-1&&(Ld="visibilitychange"===e.type?e.timeStamp:0,Nd())},Jd=function(){addEventListener("visibilitychange",Td,!0),addEventListener("prerenderingchange",Td,!0)},Nd=function(){removeEventListener("visibilitychange",Td,!0),removeEventListener("prerenderingchange",Td,!0)},Ud=function(){return Ld<0&&(Ld=Yd(),Jd(),Sd((function(){setTimeout((function(){Ld=Yd(),Jd()}),0)}))),{get firstHiddenTime(){return Ld}}},Kd=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Fd=[1800,3e3],Md=function(e,t){t=t||{},Kd((function(){var i,s=Ud(),n=Rd("FCP"),o=wd("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<s.firstHiddenTime&&(n.value=Math.max(e.startTime-Xd(),0),n.entries.push(e),i(!0)))}))}));o&&(i=vd(e,n,Fd,t.reportAllChanges),Sd((function(s){n=Rd("FCP"),i=vd(e,n,Fd,t.reportAllChanges),Cd((function(){n.value=performance.now()-s.timeStamp,i(!0)}))})))}))},Hd=[.1,.25],zd={passive:!0,capture:!0},Od=new Date,Pd=function(e,t){fd||(fd=t,gd=e,Zd=new Date,jd(removeEventListener),Ed())},Ed=function(){if(gd>=0&&gd<Zd-Od){var e={entryType:"first-input",name:fd.type,target:fd.target,cancelable:fd.cancelable,startTime:fd.timeStamp,processingStart:fd.timeStamp+gd};Gd.forEach((function(t){t(e)})),Gd=[]}},Bd=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var i=function(){Pd(e,t),n()},s=function(){n()},n=function(){removeEventListener("pointerup",i,zd),removeEventListener("pointercancel",s,zd)};addEventListener("pointerup",i,zd),addEventListener("pointercancel",s,zd)}(t,e):Pd(t,e)}},jd=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Bd,zd)}))},Dd=[100,300],Qd=0,Ad=1/0,_d=0,qd=function(e){e.forEach((function(e){e.interactionId&&(Ad=Math.min(Ad,e.interactionId),_d=Math.max(_d,e.interactionId),Qd=_d?(_d-Ad)/7+1:0)}))},$d=function(){return Id?Qd:performance.interactionCount||0},eu=[200,500],tu=0,iu=function(){return $d()-tu},su=[],nu={},ou=function(e){var t=su[su.length-1],i=nu[e.interactionId];if(i||su.length<10||e.duration>t.latency){if(i)i.entries.push(e),i.latency=Math.max(i.latency,e.duration);else{var s={id:e.interactionId,latency:e.duration,entries:[e]};nu[s.id]=s,su.push(s)}su.sort((function(e,t){return t.latency-e.latency})),su.splice(10).forEach((function(e){delete nu[e.id]}))}},ru=function(e,t){t=t||{},Kd((function(){var i;"interactionCount"in performance||Id||(Id=wd("event",qd,{type:"event",buffered:!0,durationThreshold:0}));var s,n=Rd("INP"),o=function(e){e.forEach((function(e){e.interactionId&&ou(e),"first-input"===e.entryType&&!su.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&ou(e)}));var t,i=(t=Math.min(su.length-1,Math.floor(iu()/50)),su[t]);i&&i.latency!==n.value&&(n.value=i.latency,n.entries=i.entries,s())},r=wd("event",o,{durationThreshold:null!==(i=t.durationThreshold)&&void 0!==i?i:40});s=vd(e,n,eu,t.reportAllChanges),r&&("interactionId"in PerformanceEventTiming.prototype&&r.observe({type:"first-input",buffered:!0}),kd((function(){o(r.takeRecords()),n.value<0&&iu()>0&&(n.value=0,n.entries=[]),s(!0)})),Sd((function(){su=[],tu=$d(),n=Rd("INP"),s=vd(e,n,eu,t.reportAllChanges)})))}))},lu=[2500,4e3],au={},cu=[800,1800],du=function e(t){document.prerendering?Kd((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},uu=function(e,t){t=t||{};var i=Rd("TTFB"),s=vd(e,i,cu,t.reportAllChanges);du((function(){var n=Wd();if(n){var o=n.responseStart;if(o<=0||o>performance.now())return;i.value=Math.max(o-Xd(),0),i.entries=[n],s(!0),Sd((function(){i=Rd("TTFB",0),(s=vd(e,i,cu,t.reportAllChanges))(!0)}))}}))};const hu=e=>(function(e,t){t=t||{},Md(xd((function(){var i,s=Rd("CLS",0),n=0,o=[],r=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=o[0],i=o[o.length-1];n&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(n+=e.value,o.push(e)):(n=e.value,o=[e])}})),n>s.value&&(s.value=n,s.entries=o,i())},l=wd("layout-shift",r);l&&(i=vd(e,s,Hd,t.reportAllChanges),kd((function(){r(l.takeRecords()),i(!0)})),Sd((function(){n=0,s=Rd("CLS",0),i=vd(e,s,Hd,t.reportAllChanges),Cd((function(){return i()}))})),setTimeout(i,0))})))}(e),Md(e),function(e,t){t=t||{},Kd((function(){var i,s=Ud(),n=Rd("FID"),o=function(e){e.startTime<s.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),i(!0))},r=function(e){e.forEach(o)},l=wd("first-input",r);i=vd(e,n,Dd,t.reportAllChanges),l&&kd(xd((function(){r(l.takeRecords()),l.disconnect()}))),l&&Sd((function(){var s;n=Rd("FID"),i=vd(e,n,Dd,t.reportAllChanges),Gd=[],gd=-1,fd=null,jd(addEventListener),s=o,Gd.push(s),Ed()}))}))}(e),function(e,t){t=t||{},Kd((function(){var i,s=Ud(),n=Rd("LCP"),o=function(e){var t=e[e.length-1];t&&t.startTime<s.firstHiddenTime&&(n.value=Math.max(t.startTime-Xd(),0),n.entries=[t],i())},r=wd("largest-contentful-paint",o);if(r){i=vd(e,n,lu,t.reportAllChanges);var l=xd((function(){au[n.id]||(o(r.takeRecords()),r.disconnect(),au[n.id]=!0,i(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(l,0)}),!0)})),kd(l),Sd((function(s){n=Rd("LCP"),i=vd(e,n,lu,t.reportAllChanges),Cd((function(){n.value=performance.now()-s.timeStamp,au[n.id]=!0,i(!0)}))}))}}))}(e),uu(e),ru(e),()=>{});class pu{constructor(e,t){S(this,"debug"),S(this,"name"),this.debug=e,this.name=t}log(){if(this.debug){let s="[".concat(Date.now(),"]");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.name&&(s+=" - ".concat(this.name)),console.log.apply(console,[s,...t])}}}const mu="iframe parent ready",bu="iframe ok";var yu;!function(e){e.BillingQuotaExceeded="BillingQuotaExceeded"}(yu||(yu={}));const fu=[yu.BillingQuotaExceeded.toString()],gu=e=>{const t=function(i,s,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return W(void 0,null,(function*(){try{return yield i()}catch(l){if(l instanceof O&&!(e=>{var t;return void 0===(null==(t=e.response.errors)?void 0:t.find((e=>fu.includes(e.message))))})(l))throw l;if(r<10)return yield new Promise((e=>setTimeout(e,1e3+500*Math.pow(2,r)))),yield t(i,s,n,o,r+1);throw console.error("highlight.io: [".concat(e||e,"] data request failed after ").concat(r," retries")),l}}))};return t},Zu="highlightLogs",Gu=e=>{if(!e)return;let t=(0,h.e)(Zu)||"";t&&(t.startsWith(e)?(t=t.slice(e.length),(0,h.s)(Zu,t)):(e=>{let t=(0,h.e)(Zu)||"";t=t+"["+(new Date).getTime()+"] "+e+"\n",(0,h.s)(Zu,t)})("Unable to clear logs "+e.replace("\n"," ")+" from "+t.replace("\n"," ")))},Iu=e=>e/Math.pow(1e3,2),Vu=e=>1024*e,Su="dmFyIFVyPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxWcj1PYmplY3QuZGVmaW5lUHJvcGVydGllczt2YXIganI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyIE1lPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIFF0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWHQ9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgdXQ9KEIsRCxDKT0+RCBpbiBCP1VyKEIsRCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Q30pOkJbRF09QyxQPShCLEQpPT57Zm9yKHZhciBDIGluIER8fChEPXt9KSlRdC5jYWxsKEQsQykmJnV0KEIsQyxEW0NdKTtpZihNZSlmb3IodmFyIEMgb2YgTWUoRCkpWHQuY2FsbChELEMpJiZ1dChCLEMsRFtDXSk7cmV0dXJuIEJ9LFVlPShCLEQpPT5WcihCLGpyKEQpKTt2YXIgdmU9KEIsRCk9Pnt2YXIgQz17fTtmb3IodmFyIEogaW4gQilRdC5jYWxsKEIsSikmJkQuaW5kZXhPZihKKTwwJiYoQ1tKXT1CW0pdKTtpZihCIT1udWxsJiZNZSlmb3IodmFyIEogb2YgTWUoQikpRC5pbmRleE9mKEopPDAmJlh0LmNhbGwoQixKKSYmKENbSl09QltKXSk7cmV0dXJuIEN9O3ZhciBsdD0oQixELEMpPT51dChCLHR5cGVvZiBEIT0ic3ltYm9sIj9EKyIiOkQsQyk7dmFyIFg9KEIsRCxDKT0+bmV3IFByb21pc2UoKEosY2UpPT57dmFyIGdlPWVlPT57dHJ5e3VlKEMubmV4dChlZSkpfWNhdGNoKEVlKXtjZShFZSl9fSxJZT1lZT0+e3RyeXt1ZShDLnRocm93KGVlKSl9Y2F0Y2goRWUpe2NlKEVlKX19LHVlPWVlPT5lZS5kb25lP0ooZWUudmFsdWUpOlByb21pc2UucmVzb2x2ZShlZS52YWx1ZSkudGhlbihnZSxJZSk7dWUoKEM9Qy5hcHBseShCLEQpKS5uZXh0KCkpfSk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIEIoZSx0KXtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe24mJnR5cGVvZiBuIT0ic3RyaW5nIiYmIUFycmF5LmlzQXJyYXkobikmJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoaSE9PSJkZWZhdWx0IiYmIShpIGluIGUpKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxyLmdldD9yOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuW2ldfX0pfX0pfSksT2JqZWN0LmZyZWV6ZShlKX12YXIgRD1VaW50OEFycmF5LEM9VWludDE2QXJyYXksSj1JbnQzMkFycmF5LGNlPW5ldyBEKFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDAsMCwwLDBdKSxnZT1uZXcgRChbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSxJZT1uZXcgRChbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLHVlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPW5ldyBDKDMxKSxpPTA7aTwzMTsrK2kpbltpXT10Kz0xPDxlW2ktMV07Zm9yKHZhciByPW5ldyBKKG5bMzBdKSxpPTE7aTwzMDsrK2kpZm9yKHZhciBzPW5baV07czxuW2krMV07KytzKXJbc109cy1uW2ldPDw1fGk7cmV0dXJue2I6bixyfX0sZWU9dWUoY2UsMiksRWU9ZWUuYixWZT1lZS5yO0VlWzI4XT0yNTgsVmVbMjU4XT0yODtmb3IodmFyIFd0PXVlKGdlLDApLGZ0PVd0LnIsamU9bmV3IEMoMzI3NjgpLEY9MDtGPDMyNzY4OysrRil7dmFyIGllPShGJjQzNjkwKT4+MXwoRiYyMTg0NSk8PDE7aWU9KGllJjUyNDI4KT4+MnwoaWUmMTMxMDcpPDwyLGllPShpZSY2MTY4MCk+PjR8KGllJjM4NTUpPDw0LGplW0ZdPSgoaWUmNjUyODApPj44fChpZSYyNTUpPDw4KT4+MX1mb3IodmFyIF9lPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9ZS5sZW5ndGgscj0wLHM9bmV3IEModCk7cjxpOysrcillW3JdJiYrK3NbZVtyXS0xXTt2YXIgbz1uZXcgQyh0KTtmb3Iocj0xO3I8dDsrK3Ipb1tyXT1vW3ItMV0rc1tyLTFdPDwxO3ZhciBjO2lmKG4pe2M9bmV3IEMoMTw8dCk7dmFyIGY9MTUtdDtmb3Iocj0wO3I8aTsrK3IpaWYoZVtyXSlmb3IodmFyIGQ9cjw8NHxlW3JdLHU9dC1lW3JdLHk9b1tlW3JdLTFdKys8PHUsZz15fCgxPDx1KS0xO3k8PWc7Kyt5KWNbamVbeV0+PmZdPWR9ZWxzZSBmb3IoYz1uZXcgQyhpKSxyPTA7cjxpOysrcillW3JdJiYoY1tyXT1qZVtvW2Vbcl0tMV0rK10+PjE1LWVbcl0pO3JldHVybiBjfSxvZT1uZXcgRCgyODgpLEY9MDtGPDE0NDsrK0Ypb2VbRl09ODtmb3IodmFyIEY9MTQ0O0Y8MjU2OysrRilvZVtGXT05O2Zvcih2YXIgRj0yNTY7RjwyODA7KytGKW9lW0ZdPTc7Zm9yKHZhciBGPTI4MDtGPDI4ODsrK0Ypb2VbRl09ODtmb3IodmFyIE9lPW5ldyBEKDMyKSxGPTA7RjwzMjsrK0YpT2VbRl09NTt2YXIgWnQ9X2Uob2UsOSwwKSxLdD1fZShPZSw1LDApLGh0PWZ1bmN0aW9uKGUpe3JldHVybihlKzcpLzh8MH0sZHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybihuPT1udWxsfHxuPmUubGVuZ3RoKSYmKG49ZS5sZW5ndGgpLG5ldyBEKGUuc3ViYXJyYXkodCxuKSl9LG5lPWZ1bmN0aW9uKGUsdCxuKXtuPDw9dCY3O3ZhciBpPXQvOHwwO2VbaV18PW4sZVtpKzFdfD1uPj44fSxUZT1mdW5jdGlvbihlLHQsbil7bjw8PXQmNzt2YXIgaT10Lzh8MDtlW2ldfD1uLGVbaSsxXXw9bj4+OCxlW2krMl18PW4+PjE2fSxxZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxpPTA7aTxlLmxlbmd0aDsrK2kpZVtpXSYmbi5wdXNoKHtzOmksZjplW2ldfSk7dmFyIHI9bi5sZW5ndGgscz1uLnNsaWNlKCk7aWYoIXIpcmV0dXJue3Q6dnQsbDowfTtpZihyPT0xKXt2YXIgbz1uZXcgRChuWzBdLnMrMSk7cmV0dXJuIG9bblswXS5zXT0xLHt0Om8sbDoxfX1uLnNvcnQoZnVuY3Rpb24oJCxxKXtyZXR1cm4gJC5mLXEuZn0pLG4ucHVzaCh7czotMSxmOjI1MDAxfSk7dmFyIGM9blswXSxmPW5bMV0sZD0wLHU9MSx5PTI7Zm9yKG5bMF09e3M6LTEsZjpjLmYrZi5mLGw6YyxyOmZ9O3UhPXItMTspYz1uW25bZF0uZjxuW3ldLmY/ZCsrOnkrK10sZj1uW2QhPXUmJm5bZF0uZjxuW3ldLmY/ZCsrOnkrK10sblt1KytdPXtzOi0xLGY6Yy5mK2YuZixsOmMscjpmfTtmb3IodmFyIGc9c1swXS5zLGk9MTtpPHI7KytpKXNbaV0ucz5nJiYoZz1zW2ldLnMpO3ZhciBiPW5ldyBDKGcrMSksbT1HZShuW3UtMV0sYiwwKTtpZihtPnQpe3ZhciBpPTAsTj0wLHY9bS10LEU9MTw8djtmb3Iocy5zb3J0KGZ1bmN0aW9uKHEsTSl7cmV0dXJuIGJbTS5zXS1iW3Euc118fHEuZi1NLmZ9KTtpPHI7KytpKXt2YXIgaz1zW2ldLnM7aWYoYltrXT50KU4rPUUtKDE8PG0tYltrXSksYltrXT10O2Vsc2UgYnJlYWt9Zm9yKE4+Pj12O04+MDspe3ZhciB3PXNbaV0ucztiW3ddPHQ/Ti09MTw8dC1iW3ddKystMTorK2l9Zm9yKDtpPj0wJiZOOy0taSl7dmFyIEw9c1tpXS5zO2JbTF09PXQmJigtLWJbTF0sKytOKX1tPXR9cmV0dXJue3Q6bmV3IEQoYiksbDptfX0sR2U9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnM9PS0xP01hdGgubWF4KEdlKGUubCx0LG4rMSksR2UoZS5yLHQsbisxKSk6dFtlLnNdPW59LHB0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0JiYhZVstLXRdOyk7Zm9yKHZhciBuPW5ldyBDKCsrdCksaT0wLHI9ZVswXSxzPTEsbz1mdW5jdGlvbihmKXtuW2krK109Zn0sYz0xO2M8PXQ7KytjKWlmKGVbY109PXImJmMhPXQpKytzO2Vsc2V7aWYoIXImJnM+Mil7Zm9yKDtzPjEzODtzLT0xMzgpbygzMjc1NCk7cz4yJiYobyhzPjEwP3MtMTE8PDV8Mjg2OTA6cy0zPDw1fDEyMzA1KSxzPTApfWVsc2UgaWYocz4zKXtmb3IobyhyKSwtLXM7cz42O3MtPTYpbyg4MzA0KTtzPjImJihvKHMtMzw8NXw4MjA4KSxzPTApfWZvcig7cy0tOylvKHIpO3M9MSxyPWVbY119cmV0dXJue2M6bi5zdWJhcnJheSgwLGkpLG46dH19LGJlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsaT0wO2k8dC5sZW5ndGg7KytpKW4rPWVbaV0qdFtpXTtyZXR1cm4gbn0sbXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4ubGVuZ3RoLHI9aHQodCsyKTtlW3JdPWkmMjU1LGVbcisxXT1pPj44LGVbcisyXT1lW3JdXjI1NSxlW3IrM109ZVtyKzFdXjI1NTtmb3IodmFyIHM9MDtzPGk7KytzKWVbcitzKzRdPW5bc107cmV0dXJuKHIrNCtpKSo4fSx5dD1mdW5jdGlvbihlLHQsbixpLHIscyxvLGMsZixkLHUpe25lKHQsdSsrLG4pLCsrclsyNTZdO2Zvcih2YXIgeT1xZShyLDE1KSxnPXkudCxiPXkubCxtPXFlKHMsMTUpLE49bS50LHY9bS5sLEU9cHQoZyksaz1FLmMsdz1FLm4sTD1wdChOKSwkPUwuYyxxPUwubixNPW5ldyBDKDE5KSxJPTA7STxrLmxlbmd0aDsrK0kpKytNW2tbSV0mMzFdO2Zvcih2YXIgST0wO0k8JC5sZW5ndGg7KytJKSsrTVskW0ldJjMxXTtmb3IodmFyIE89cWUoTSw3KSxqPU8udCxVPU8ubCxIPTE5O0g+NCYmIWpbSWVbSC0xXV07LS1IKTt2YXIgUT1kKzU8PDMsYT1iZShyLG9lKStiZShzLE9lKStvLGg9YmUocixnKStiZShzLE4pK28rMTQrMypIK2JlKE0saikrMipNWzE2XSszKk1bMTddKzcqTVsxOF07aWYoZj49MCYmUTw9YSYmUTw9aClyZXR1cm4gbXQodCx1LGUuc3ViYXJyYXkoZixmK2QpKTt2YXIgXyxBLFIseDtpZihuZSh0LHUsMSsoaDxhKSksdSs9MixoPGEpe189X2UoZyxiLDApLEE9ZyxSPV9lKE4sdiwwKSx4PU47dmFyIHNlPV9lKGosVSwwKTtuZSh0LHUsdy0yNTcpLG5lKHQsdSs1LHEtMSksbmUodCx1KzEwLEgtNCksdSs9MTQ7Zm9yKHZhciBJPTA7STxIOysrSSluZSh0LHUrMypJLGpbSWVbSV1dKTt1Kz0zKkg7Zm9yKHZhciB6PVtrLCRdLHJlPTA7cmU8MjsrK3JlKWZvcih2YXIgbWU9eltyZV0sST0wO0k8bWUubGVuZ3RoOysrSSl7dmFyIHRlPW1lW0ldJjMxO25lKHQsdSxzZVt0ZV0pLHUrPWpbdGVdLHRlPjE1JiYobmUodCx1LG1lW0ldPj41JjEyNyksdSs9bWVbSV0+PjEyKX19ZWxzZSBfPVp0LEE9b2UsUj1LdCx4PU9lO2Zvcih2YXIgST0wO0k8YzsrK0kpe3ZhciBZPWlbSV07aWYoWT4yNTUpe3ZhciB0ZT1ZPj4xOCYzMTtUZSh0LHUsX1t0ZSsyNTddKSx1Kz1BW3RlKzI1N10sdGU+NyYmKG5lKHQsdSxZPj4yMyYzMSksdSs9Y2VbdGVdKTt2YXIgeWU9WSYzMTtUZSh0LHUsUlt5ZV0pLHUrPXhbeWVdLHllPjMmJihUZSh0LHUsWT4+NSY4MTkxKSx1Kz1nZVt5ZV0pfWVsc2UgVGUodCx1LF9bWV0pLHUrPUFbWV19cmV0dXJuIFRlKHQsdSxfWzI1Nl0pLHUrQVsyNTZdfSxlbj1uZXcgSihbNjU1NDAsMTMxMDgwLDEzMTA4OCwxMzExMDQsMjYyMTc2LDEwNDg3MDQsMTA0ODgzMiwyMTE0NTYwLDIxMTc2MzJdKSx2dD1uZXcgRCgwKSx0bj1mdW5jdGlvbihlLHQsbixpLHIscyl7dmFyIG89cy56fHxlLmxlbmd0aCxjPW5ldyBEKGkrbys1KigxK01hdGguY2VpbChvLzdlMykpK3IpLGY9Yy5zdWJhcnJheShpLGMubGVuZ3RoLXIpLGQ9cy5sLHU9KHMucnx8MCkmNztpZih0KXt1JiYoZlswXT1zLnI+PjMpO2Zvcih2YXIgeT1lblt0LTFdLGc9eT4+MTMsYj15JjgxOTEsbT0oMTw8biktMSxOPXMucHx8bmV3IEMoMzI3NjgpLHY9cy5ofHxuZXcgQyhtKzEpLEU9TWF0aC5jZWlsKG4vMyksaz0yKkUsdz1mdW5jdGlvbihjdCl7cmV0dXJuKGVbY3RdXmVbY3QrMV08PEVeZVtjdCsyXTw8aykmbX0sTD1uZXcgSigyNWUzKSwkPW5ldyBDKDI4OCkscT1uZXcgQygzMiksTT0wLEk9MCxPPXMuaXx8MCxqPTAsVT1zLnd8fDAsSD0wO08rMjxvOysrTyl7dmFyIFE9dyhPKSxhPU8mMzI3NjcsaD12W1FdO2lmKE5bYV09aCx2W1FdPWEsVTw9Tyl7dmFyIF89by1PO2lmKChNPjdlM3x8aj4yNDU3NikmJihfPjQyM3x8IWQpKXt1PXl0KGUsZiwwLEwsJCxxLEksaixILE8tSCx1KSxqPU09ST0wLEg9Tztmb3IodmFyIEE9MDtBPDI4NjsrK0EpJFtBXT0wO2Zvcih2YXIgQT0wO0E8MzA7KytBKXFbQV09MH12YXIgUj0yLHg9MCxzZT1iLHo9YS1oJjMyNzY3O2lmKF8+MiYmUT09dyhPLXopKWZvcih2YXIgcmU9TWF0aC5taW4oZyxfKS0xLG1lPU1hdGgubWluKDMyNzY3LE8pLHRlPU1hdGgubWluKDI1OCxfKTt6PD1tZSYmLS1zZSYmYSE9aDspe2lmKGVbTytSXT09ZVtPK1Itel0pe2Zvcih2YXIgWT0wO1k8dGUmJmVbTytZXT09ZVtPK1ktel07KytZKTtpZihZPlIpe2lmKFI9WSx4PXosWT5yZSlicmVhaztmb3IodmFyIHllPU1hdGgubWluKHosWS0yKSxIdD0wLEE9MDtBPHllOysrQSl7dmFyIG90PU8teitBJjMyNzY3LE1yPU5bb3RdLHp0PW90LU1yJjMyNzY3O3p0Pkh0JiYoSHQ9enQsaD1vdCl9fX1hPWgsaD1OW2FdLHorPWEtaCYzMjc2N31pZih4KXtMW2orK109MjY4NDM1NDU2fFZlW1JdPDwxOHxmdFt4XTt2YXIgWXQ9VmVbUl0mMzEsSnQ9ZnRbeF0mMzE7SSs9Y2VbWXRdK2dlW0p0XSwrKyRbMjU3K1l0XSwrK3FbSnRdLFU9TytSLCsrTX1lbHNlIExbaisrXT1lW09dLCsrJFtlW09dXX19Zm9yKE89TWF0aC5tYXgoTyxVKTtPPG87KytPKUxbaisrXT1lW09dLCsrJFtlW09dXTt1PXl0KGUsZixkLEwsJCxxLEksaixILE8tSCx1KSxkfHwocy5yPXUmN3xmW3UvOHwwXTw8Myx1LT03LHMuaD12LHMucD1OLHMuaT1PLHMudz1VKX1lbHNle2Zvcih2YXIgTz1zLnd8fDA7TzxvK2Q7Tys9NjU1MzUpe3ZhciBhdD1PKzY1NTM1O2F0Pj1vJiYoZlt1Lzh8MF09ZCxhdD1vKSx1PW10KGYsdSsxLGUuc3ViYXJyYXkoTyxhdCkpfXMuaT1vfXJldHVybiBkdChjLDAsaStodCh1KStyKX0sbm49ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEludDMyQXJyYXkoMjU2KSx0PTA7dDwyNTY7Kyt0KXtmb3IodmFyIG49dCxpPTk7LS1pOyluPShuJjEmJi0zMDY2NzQ5MTIpXm4+Pj4xO2VbdF09bn1yZXR1cm4gZX0oKSxybj1mdW5jdGlvbigpe3ZhciBlPS0xO3JldHVybntwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1lLGk9MDtpPHQubGVuZ3RoOysraSluPW5uW24mMjU1XnRbaV1dXm4+Pj44O2U9bn0sZDpmdW5jdGlvbigpe3JldHVybn5lfX19LHNuPWZ1bmN0aW9uKGUsdCxuLGkscil7aWYoIXImJihyPXtsOjF9LHQuZGljdGlvbmFyeSkpe3ZhciBzPXQuZGljdGlvbmFyeS5zdWJhcnJheSgtMzI3NjgpLG89bmV3IEQocy5sZW5ndGgrZS5sZW5ndGgpO28uc2V0KHMpLG8uc2V0KGUscy5sZW5ndGgpLGU9byxyLnc9cy5sZW5ndGh9cmV0dXJuIHRuKGUsdC5sZXZlbD09bnVsbD82OnQubGV2ZWwsdC5tZW09PW51bGw/ci5sP01hdGguY2VpbChNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKGUubGVuZ3RoKSkpKjEuNSk6MjA6MTIrdC5tZW0sbixpLHIpfSxIZT1mdW5jdGlvbihlLHQsbil7Zm9yKDtuOysrdCllW3RdPW4sbj4+Pj04fSxvbj1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZmlsZW5hbWU7aWYoZVswXT0zMSxlWzFdPTEzOSxlWzJdPTgsZVs4XT10LmxldmVsPDI/NDp0LmxldmVsPT05PzI6MCxlWzldPTMsdC5tdGltZSE9MCYmSGUoZSw0LE1hdGguZmxvb3IobmV3IERhdGUodC5tdGltZXx8RGF0ZS5ub3coKSkvMWUzKSksbil7ZVszXT04O2Zvcih2YXIgaT0wO2k8PW4ubGVuZ3RoOysraSllW2krMTBdPW4uY2hhckNvZGVBdChpKX19LGFuPWZ1bmN0aW9uKGUpe3JldHVybiAxMCsoZS5maWxlbmFtZT9lLmZpbGVuYW1lLmxlbmd0aCsxOjApfTtmdW5jdGlvbiBjbihlLHQpe3R8fCh0PXt9KTt2YXIgbj1ybigpLGk9ZS5sZW5ndGg7bi5wKGUpO3ZhciByPXNuKGUsdCxhbih0KSw4KSxzPXIubGVuZ3RoO3JldHVybiBvbihyLHQpLEhlKHIscy04LG4uZCgpKSxIZShyLHMtNCxpKSxyfXZhciBndD10eXBlb2YgVGV4dEVuY29kZXIhPSJ1bmRlZmluZWQiJiZuZXcgVGV4dEVuY29kZXIsdW49dHlwZW9mIFRleHREZWNvZGVyIT0idW5kZWZpbmVkIiYmbmV3IFRleHREZWNvZGVyLGxuPTA7dHJ5e3VuLmRlY29kZSh2dCx7c3RyZWFtOiEwfSksbG49MX1jYXRjaChlKXt9ZnVuY3Rpb24gZm4oZSx0KXt2YXIgbjtpZihndClyZXR1cm4gZ3QuZW5jb2RlKGUpO2Zvcih2YXIgaT1lLmxlbmd0aCxyPW5ldyBEKGUubGVuZ3RoKyhlLmxlbmd0aD4+MSkpLHM9MCxvPWZ1bmN0aW9uKGQpe3JbcysrXT1kfSxuPTA7bjxpOysrbil7aWYocys1PnIubGVuZ3RoKXt2YXIgYz1uZXcgRChzKzgrKGktbjw8MSkpO2Muc2V0KHIpLHI9Y312YXIgZj1lLmNoYXJDb2RlQXQobik7ZjwxMjh8fHQ/byhmKTpmPDIwNDg/KG8oMTkyfGY+PjYpLG8oMTI4fGYmNjMpKTpmPjU1Mjk1JiZmPDU3MzQ0PyhmPTY1NTM2KyhmJjEwNDc1NTIpfGUuY2hhckNvZGVBdCgrK24pJjEwMjMsbygyNDB8Zj4+MTgpLG8oMTI4fGY+PjEyJjYzKSxvKDEyOHxmPj42JjYzKSxvKDEyOHxmJjYzKSk6KG8oMjI0fGY+PjEyKSxvKDEyOHxmPj42JjYzKSxvKDEyOHxmJjYzKSl9cmV0dXJuIGR0KHIsMCxzKX1jb25zdCB6ZT1KU09OLGhuPWU9PmUudG9VcHBlckNhc2UoKSxkbj1lPT57Y29uc3QgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChuLGkpPT57dFtpXT1ufSksdH0scG49KGUsdCxuKT0+ZS5kb2N1bWVudD9lOntkb2N1bWVudDplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0sbW49KGUsdCxuKT0+ZS5xdWVyeT9lOntxdWVyeTplLHZhcmlhYmxlczp0LHJlcXVlc3RIZWFkZXJzOm4sc2lnbmFsOnZvaWQgMH0seW49KGUsdCk9PmUuZG9jdW1lbnRzP2U6e2RvY3VtZW50czplLHJlcXVlc3RIZWFkZXJzOnQsc2lnbmFsOnZvaWQgMH07ZnVuY3Rpb24gU2UoZSx0KXtpZighISFlKXRocm93IG5ldyBFcnJvcih0KX1mdW5jdGlvbiB2bihlKXtyZXR1cm4gdHlwZW9mIGU9PSJvYmplY3QiJiZlIT09bnVsbH1mdW5jdGlvbiBnbihlLHQpe2lmKCEhIWUpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIGludmFyaWFudCB0cmlnZ2VyZWQuIil9Y29uc3QgRW49L1xyXG58W1xuXHJdL2c7ZnVuY3Rpb24gWWUoZSx0KXtsZXQgbj0wLGk9MTtmb3IoY29uc3QgciBvZiBlLmJvZHkubWF0Y2hBbGwoRW4pKXtpZih0eXBlb2Ygci5pbmRleD09Im51bWJlciJ8fGduKCExKSxyLmluZGV4Pj10KWJyZWFrO249ci5pbmRleCtyWzBdLmxlbmd0aCxpKz0xfXJldHVybntsaW5lOmksY29sdW1uOnQrMS1ufX1mdW5jdGlvbiBfbihlKXtyZXR1cm4gRXQoZS5zb3VyY2UsWWUoZS5zb3VyY2UsZS5zdGFydCkpfWZ1bmN0aW9uIEV0KGUsdCl7Y29uc3Qgbj1lLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbi0xLGk9IiIucGFkU3RhcnQobikrZS5ib2R5LHI9dC5saW5lLTEscz1lLmxvY2F0aW9uT2Zmc2V0LmxpbmUtMSxvPXQubGluZStzLGM9dC5saW5lPT09MT9uOjAsZj10LmNvbHVtbitjLGQ9YCR7ZS5uYW1lfToke299OiR7Zn0KYCx1PWkuc3BsaXQoL1xyXG58W1xuXHJdL2cpLHk9dVtyXTtpZih5Lmxlbmd0aD4xMjApe2NvbnN0IGc9TWF0aC5mbG9vcihmLzgwKSxiPWYlODAsbT1bXTtmb3IobGV0IE49MDtOPHkubGVuZ3RoO04rPTgwKW0ucHVzaCh5LnNsaWNlKE4sTis4MCkpO3JldHVybiBkK190KFtbYCR7b30gfGAsbVswXV0sLi4ubS5zbGljZSgxLGcrMSkubWFwKE49PlsifCIsTl0pLFsifCIsIl4iLnBhZFN0YXJ0KGIpXSxbInwiLG1bZysxXV1dKX1yZXR1cm4gZCtfdChbW2Ake28tMX0gfGAsdVtyLTFdXSxbYCR7b30gfGAseV0sWyJ8IiwiXiIucGFkU3RhcnQoZildLFtgJHtvKzF9IHxgLHVbcisxXV1dKX1mdW5jdGlvbiBfdChlKXtjb25zdCB0PWUuZmlsdGVyKChbaSxyXSk9PnIhPT12b2lkIDApLG49TWF0aC5tYXgoLi4udC5tYXAoKFtpXSk9PmkubGVuZ3RoKSk7cmV0dXJuIHQubWFwKChbaSxyXSk9PmkucGFkU3RhcnQobikrKHI/IiAiK3I6IiIpKS5qb2luKGAKYCl9ZnVuY3Rpb24gVG4oZSl7Y29uc3QgdD1lWzBdO3JldHVybiB0PT1udWxsfHwia2luZCJpbiB0fHwibGVuZ3RoImluIHQ/e25vZGVzOnQsc291cmNlOmVbMV0scG9zaXRpb25zOmVbMl0scGF0aDplWzNdLG9yaWdpbmFsRXJyb3I6ZVs0XSxleHRlbnNpb25zOmVbNV19OnR9Y2xhc3MgSmUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LC4uLm4pe3ZhciBpLHIscztjb25zdHtub2RlczpvLHNvdXJjZTpjLHBvc2l0aW9uczpmLHBhdGg6ZCxvcmlnaW5hbEVycm9yOnUsZXh0ZW5zaW9uczp5fT1UbihuKTtzdXBlcih0KSx0aGlzLm5hbWU9IkdyYXBoUUxFcnJvciIsdGhpcy5wYXRoPWQhPW51bGw/ZDp2b2lkIDAsdGhpcy5vcmlnaW5hbEVycm9yPXUhPW51bGw/dTp2b2lkIDAsdGhpcy5ub2Rlcz1UdChBcnJheS5pc0FycmF5KG8pP286bz9bb106dm9pZCAwKTtjb25zdCBnPVR0KChpPXRoaXMubm9kZXMpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5tYXAobT0+bS5sb2MpLmZpbHRlcihtPT5tIT1udWxsKSk7dGhpcy5zb3VyY2U9YyE9bnVsbD9jOmc9PW51bGx8fChyPWdbMF0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zb3VyY2UsdGhpcy5wb3NpdGlvbnM9ZiE9bnVsbD9mOmc9PW51bGw/dm9pZCAwOmcubWFwKG09Pm0uc3RhcnQpLHRoaXMubG9jYXRpb25zPWYmJmM/Zi5tYXAobT0+WWUoYyxtKSk6Zz09bnVsbD92b2lkIDA6Zy5tYXAobT0+WWUobS5zb3VyY2UsbS5zdGFydCkpO2NvbnN0IGI9dm4odT09bnVsbD92b2lkIDA6dS5leHRlbnNpb25zKT91PT1udWxsP3ZvaWQgMDp1LmV4dGVuc2lvbnM6dm9pZCAwO3RoaXMuZXh0ZW5zaW9ucz0ocz15IT1udWxsP3k6YikhPT1udWxsJiZzIT09dm9pZCAwP3M6T2JqZWN0LmNyZWF0ZShudWxsKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHttZXNzYWdlOnt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiEwfSxuYW1lOntlbnVtZXJhYmxlOiExfSxub2Rlczp7ZW51bWVyYWJsZTohMX0sc291cmNlOntlbnVtZXJhYmxlOiExfSxwb3NpdGlvbnM6e2VudW1lcmFibGU6ITF9LG9yaWdpbmFsRXJyb3I6e2VudW1lcmFibGU6ITF9fSksdSE9bnVsbCYmdS5zdGFjaz9PYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywic3RhY2siLHt2YWx1ZTp1LnN0YWNrLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pOkVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsSmUpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOkVycm9yKCkuc3RhY2ssd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iR3JhcGhRTEVycm9yIn10b1N0cmluZygpe2xldCB0PXRoaXMubWVzc2FnZTtpZih0aGlzLm5vZGVzKWZvcihjb25zdCBuIG9mIHRoaXMubm9kZXMpbi5sb2MmJih0Kz1gCgpgK19uKG4ubG9jKSk7ZWxzZSBpZih0aGlzLnNvdXJjZSYmdGhpcy5sb2NhdGlvbnMpZm9yKGNvbnN0IG4gb2YgdGhpcy5sb2NhdGlvbnMpdCs9YAoKYCtFdCh0aGlzLnNvdXJjZSxuKTtyZXR1cm4gdH10b0pTT04oKXtjb25zdCB0PXttZXNzYWdlOnRoaXMubWVzc2FnZX07cmV0dXJuIHRoaXMubG9jYXRpb25zIT1udWxsJiYodC5sb2NhdGlvbnM9dGhpcy5sb2NhdGlvbnMpLHRoaXMucGF0aCE9bnVsbCYmKHQucGF0aD10aGlzLnBhdGgpLHRoaXMuZXh0ZW5zaW9ucyE9bnVsbCYmT2JqZWN0LmtleXModGhpcy5leHRlbnNpb25zKS5sZW5ndGg+MCYmKHQuZXh0ZW5zaW9ucz10aGlzLmV4dGVuc2lvbnMpLHR9fWZ1bmN0aW9uIFR0KGUpe3JldHVybiBlPT09dm9pZCAwfHxlLmxlbmd0aD09PTA/dm9pZCAwOmV9ZnVuY3Rpb24gRyhlLHQsbil7cmV0dXJuIG5ldyBKZShgU3ludGF4IEVycm9yOiAke259YCx7c291cmNlOmUscG9zaXRpb25zOlt0XX0pfWNsYXNzIGJue2NvbnN0cnVjdG9yKHQsbixpKXt0aGlzLnN0YXJ0PXQuc3RhcnQsdGhpcy5lbmQ9bi5lbmQsdGhpcy5zdGFydFRva2VuPXQsdGhpcy5lbmRUb2tlbj1uLHRoaXMuc291cmNlPWl9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iTG9jYXRpb24ifXRvSlNPTigpe3JldHVybntzdGFydDp0aGlzLnN0YXJ0LGVuZDp0aGlzLmVuZH19fWNsYXNzIGJ0e2NvbnN0cnVjdG9yKHQsbixpLHIscyxvKXt0aGlzLmtpbmQ9dCx0aGlzLnN0YXJ0PW4sdGhpcy5lbmQ9aSx0aGlzLmxpbmU9cix0aGlzLmNvbHVtbj1zLHRoaXMudmFsdWU9byx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbH1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJUb2tlbiJ9dG9KU09OKCl7cmV0dXJue2tpbmQ6dGhpcy5raW5kLHZhbHVlOnRoaXMudmFsdWUsbGluZTp0aGlzLmxpbmUsY29sdW1uOnRoaXMuY29sdW1ufX19Y29uc3QgTnQ9e05hbWU6W10sRG9jdW1lbnQ6WyJkZWZpbml0aW9ucyJdLE9wZXJhdGlvbkRlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxWYXJpYWJsZURlZmluaXRpb246WyJ2YXJpYWJsZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sVmFyaWFibGU6WyJuYW1lIl0sU2VsZWN0aW9uU2V0Olsic2VsZWN0aW9ucyJdLEZpZWxkOlsiYWxpYXMiLCJuYW1lIiwiYXJndW1lbnRzIiwiZGlyZWN0aXZlcyIsInNlbGVjdGlvblNldCJdLEFyZ3VtZW50OlsibmFtZSIsInZhbHVlIl0sRnJhZ21lbnRTcHJlYWQ6WyJuYW1lIiwiZGlyZWN0aXZlcyJdLElubGluZUZyYWdtZW50OlsidHlwZUNvbmRpdGlvbiIsImRpcmVjdGl2ZXMiLCJzZWxlY3Rpb25TZXQiXSxGcmFnbWVudERlZmluaXRpb246WyJuYW1lIiwidmFyaWFibGVEZWZpbml0aW9ucyIsInR5cGVDb25kaXRpb24iLCJkaXJlY3RpdmVzIiwic2VsZWN0aW9uU2V0Il0sSW50VmFsdWU6W10sRmxvYXRWYWx1ZTpbXSxTdHJpbmdWYWx1ZTpbXSxCb29sZWFuVmFsdWU6W10sTnVsbFZhbHVlOltdLEVudW1WYWx1ZTpbXSxMaXN0VmFsdWU6WyJ2YWx1ZXMiXSxPYmplY3RWYWx1ZTpbImZpZWxkcyJdLE9iamVjdEZpZWxkOlsibmFtZSIsInZhbHVlIl0sRGlyZWN0aXZlOlsibmFtZSIsImFyZ3VtZW50cyJdLE5hbWVkVHlwZTpbIm5hbWUiXSxMaXN0VHlwZTpbInR5cGUiXSxOb25OdWxsVHlwZTpbInR5cGUiXSxTY2hlbWFEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxPcGVyYXRpb25UeXBlRGVmaW5pdGlvbjpbInR5cGUiXSxTY2FsYXJUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sRmllbGREZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiYXJndW1lbnRzIiwidHlwZSIsImRpcmVjdGl2ZXMiXSxJbnB1dFZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsInR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkaXJlY3RpdmVzIl0sSW50ZXJmYWNlVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sRW51bVZhbHVlRGVmaW5pdGlvbjpbImRlc2NyaXB0aW9uIiwibmFtZSIsImRpcmVjdGl2ZXMiXSxJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uOlsiZGVzY3JpcHRpb24iLCJuYW1lIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLERpcmVjdGl2ZURlZmluaXRpb246WyJkZXNjcmlwdGlvbiIsIm5hbWUiLCJhcmd1bWVudHMiLCJsb2NhdGlvbnMiXSxTY2hlbWFFeHRlbnNpb246WyJkaXJlY3RpdmVzIiwib3BlcmF0aW9uVHlwZXMiXSxTY2FsYXJUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiXSxPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImludGVyZmFjZXMiLCJkaXJlY3RpdmVzIiwiZmllbGRzIl0sSW50ZXJmYWNlVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJpbnRlcmZhY2VzIiwiZGlyZWN0aXZlcyIsImZpZWxkcyJdLFVuaW9uVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidHlwZXMiXSxFbnVtVHlwZUV4dGVuc2lvbjpbIm5hbWUiLCJkaXJlY3RpdmVzIiwidmFsdWVzIl0sSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uOlsibmFtZSIsImRpcmVjdGl2ZXMiLCJmaWVsZHMiXX0sTm49bmV3IFNldChPYmplY3Qua2V5cyhOdCkpO2Z1bmN0aW9uIHh0KGUpe2NvbnN0IHQ9ZT09bnVsbD92b2lkIDA6ZS5raW5kO3JldHVybiB0eXBlb2YgdD09InN0cmluZyImJk5uLmhhcyh0KX12YXIgbGU7KGZ1bmN0aW9uKGUpe2UuUVVFUlk9InF1ZXJ5IixlLk1VVEFUSU9OPSJtdXRhdGlvbiIsZS5TVUJTQ1JJUFRJT049InN1YnNjcmlwdGlvbiJ9KShsZXx8KGxlPXt9KSk7dmFyIFFlOyhmdW5jdGlvbihlKXtlLlFVRVJZPSJRVUVSWSIsZS5NVVRBVElPTj0iTVVUQVRJT04iLGUuU1VCU0NSSVBUSU9OPSJTVUJTQ1JJUFRJT04iLGUuRklFTEQ9IkZJRUxEIixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZSQUdNRU5UX0RFRklOSVRJT04iLGUuRlJBR01FTlRfU1BSRUFEPSJGUkFHTUVOVF9TUFJFQUQiLGUuSU5MSU5FX0ZSQUdNRU5UPSJJTkxJTkVfRlJBR01FTlQiLGUuVkFSSUFCTEVfREVGSU5JVElPTj0iVkFSSUFCTEVfREVGSU5JVElPTiIsZS5TQ0hFTUE9IlNDSEVNQSIsZS5TQ0FMQVI9IlNDQUxBUiIsZS5PQkpFQ1Q9Ik9CSkVDVCIsZS5GSUVMRF9ERUZJTklUSU9OPSJGSUVMRF9ERUZJTklUSU9OIixlLkFSR1VNRU5UX0RFRklOSVRJT049IkFSR1VNRU5UX0RFRklOSVRJT04iLGUuSU5URVJGQUNFPSJJTlRFUkZBQ0UiLGUuVU5JT049IlVOSU9OIixlLkVOVU09IkVOVU0iLGUuRU5VTV9WQUxVRT0iRU5VTV9WQUxVRSIsZS5JTlBVVF9PQkpFQ1Q9IklOUFVUX09CSkVDVCIsZS5JTlBVVF9GSUVMRF9ERUZJTklUSU9OPSJJTlBVVF9GSUVMRF9ERUZJTklUSU9OIn0pKFFlfHwoUWU9e30pKTt2YXIgVDsoZnVuY3Rpb24oZSl7ZS5OQU1FPSJOYW1lIixlLkRPQ1VNRU5UPSJEb2N1bWVudCIsZS5PUEVSQVRJT05fREVGSU5JVElPTj0iT3BlcmF0aW9uRGVmaW5pdGlvbiIsZS5WQVJJQUJMRV9ERUZJTklUSU9OPSJWYXJpYWJsZURlZmluaXRpb24iLGUuU0VMRUNUSU9OX1NFVD0iU2VsZWN0aW9uU2V0IixlLkZJRUxEPSJGaWVsZCIsZS5BUkdVTUVOVD0iQXJndW1lbnQiLGUuRlJBR01FTlRfU1BSRUFEPSJGcmFnbWVudFNwcmVhZCIsZS5JTkxJTkVfRlJBR01FTlQ9IklubGluZUZyYWdtZW50IixlLkZSQUdNRU5UX0RFRklOSVRJT049IkZyYWdtZW50RGVmaW5pdGlvbiIsZS5WQVJJQUJMRT0iVmFyaWFibGUiLGUuSU5UPSJJbnRWYWx1ZSIsZS5GTE9BVD0iRmxvYXRWYWx1ZSIsZS5TVFJJTkc9IlN0cmluZ1ZhbHVlIixlLkJPT0xFQU49IkJvb2xlYW5WYWx1ZSIsZS5OVUxMPSJOdWxsVmFsdWUiLGUuRU5VTT0iRW51bVZhbHVlIixlLkxJU1Q9Ikxpc3RWYWx1ZSIsZS5PQkpFQ1Q9Ik9iamVjdFZhbHVlIixlLk9CSkVDVF9GSUVMRD0iT2JqZWN0RmllbGQiLGUuRElSRUNUSVZFPSJEaXJlY3RpdmUiLGUuTkFNRURfVFlQRT0iTmFtZWRUeXBlIixlLkxJU1RfVFlQRT0iTGlzdFR5cGUiLGUuTk9OX05VTExfVFlQRT0iTm9uTnVsbFR5cGUiLGUuU0NIRU1BX0RFRklOSVRJT049IlNjaGVtYURlZmluaXRpb24iLGUuT1BFUkFUSU9OX1RZUEVfREVGSU5JVElPTj0iT3BlcmF0aW9uVHlwZURlZmluaXRpb24iLGUuU0NBTEFSX1RZUEVfREVGSU5JVElPTj0iU2NhbGFyVHlwZURlZmluaXRpb24iLGUuT0JKRUNUX1RZUEVfREVGSU5JVElPTj0iT2JqZWN0VHlwZURlZmluaXRpb24iLGUuRklFTERfREVGSU5JVElPTj0iRmllbGREZWZpbml0aW9uIixlLklOUFVUX1ZBTFVFX0RFRklOSVRJT049IklucHV0VmFsdWVEZWZpbml0aW9uIixlLklOVEVSRkFDRV9UWVBFX0RFRklOSVRJT049IkludGVyZmFjZVR5cGVEZWZpbml0aW9uIixlLlVOSU9OX1RZUEVfREVGSU5JVElPTj0iVW5pb25UeXBlRGVmaW5pdGlvbiIsZS5FTlVNX1RZUEVfREVGSU5JVElPTj0iRW51bVR5cGVEZWZpbml0aW9uIixlLkVOVU1fVkFMVUVfREVGSU5JVElPTj0iRW51bVZhbHVlRGVmaW5pdGlvbiIsZS5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OPSJJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uIixlLkRJUkVDVElWRV9ERUZJTklUSU9OPSJEaXJlY3RpdmVEZWZpbml0aW9uIixlLlNDSEVNQV9FWFRFTlNJT049IlNjaGVtYUV4dGVuc2lvbiIsZS5TQ0FMQVJfVFlQRV9FWFRFTlNJT049IlNjYWxhclR5cGVFeHRlbnNpb24iLGUuT0JKRUNUX1RZUEVfRVhURU5TSU9OPSJPYmplY3RUeXBlRXh0ZW5zaW9uIixlLklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTj0iSW50ZXJmYWNlVHlwZUV4dGVuc2lvbiIsZS5VTklPTl9UWVBFX0VYVEVOU0lPTj0iVW5pb25UeXBlRXh0ZW5zaW9uIixlLkVOVU1fVFlQRV9FWFRFTlNJT049IkVudW1UeXBlRXh0ZW5zaW9uIixlLklOUFVUX09CSkVDVF9UWVBFX0VYVEVOU0lPTj0iSW5wdXRPYmplY3RUeXBlRXh0ZW5zaW9uIn0pKFR8fChUPXt9KSk7ZnVuY3Rpb24gWGUoZSl7cmV0dXJuIGU9PT05fHxlPT09MzJ9ZnVuY3Rpb24gTmUoZSl7cmV0dXJuIGU+PTQ4JiZlPD01N31mdW5jdGlvbiBBdChlKXtyZXR1cm4gZT49OTcmJmU8PTEyMnx8ZT49NjUmJmU8PTkwfWZ1bmN0aW9uIEl0KGUpe3JldHVybiBBdChlKXx8ZT09PTk1fWZ1bmN0aW9uIHhuKGUpe3JldHVybiBBdChlKXx8TmUoZSl8fGU9PT05NX1mdW5jdGlvbiBBbihlKXt2YXIgdDtsZXQgbj1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUixpPW51bGwscj0tMTtmb3IobGV0IG89MDtvPGUubGVuZ3RoOysrbyl7dmFyIHM7Y29uc3QgYz1lW29dLGY9SW4oYyk7ZiE9PWMubGVuZ3RoJiYoaT0ocz1pKSE9PW51bGwmJnMhPT12b2lkIDA/czpvLHI9byxvIT09MCYmZjxuJiYobj1mKSl9cmV0dXJuIGUubWFwKChvLGMpPT5jPT09MD9vOm8uc2xpY2UobikpLnNsaWNlKCh0PWkpIT09bnVsbCYmdCE9PXZvaWQgMD90OjAscisxKX1mdW5jdGlvbiBJbihlKXtsZXQgdD0wO2Zvcig7dDxlLmxlbmd0aCYmWGUoZS5jaGFyQ29kZUF0KHQpKTspKyt0O3JldHVybiB0fWZ1bmN0aW9uIE9uKGUsdCl7Y29uc3Qgbj1lLnJlcGxhY2UoLyIiIi9nLCdcXCIiIicpLGk9bi5zcGxpdCgvXHJcbnxbXG5ccl0vZykscj1pLmxlbmd0aD09PTEscz1pLmxlbmd0aD4xJiZpLnNsaWNlKDEpLmV2ZXJ5KGI9PmIubGVuZ3RoPT09MHx8WGUoYi5jaGFyQ29kZUF0KDApKSksbz1uLmVuZHNXaXRoKCdcXCIiIicpLGM9ZS5lbmRzV2l0aCgnIicpJiYhbyxmPWUuZW5kc1dpdGgoIlxcIiksZD1jfHxmLHU9IXJ8fGUubGVuZ3RoPjcwfHxkfHxzfHxvO2xldCB5PSIiO2NvbnN0IGc9ciYmWGUoZS5jaGFyQ29kZUF0KDApKTtyZXR1cm4odSYmIWd8fHMpJiYoeSs9YApgKSx5Kz1uLCh1fHxkKSYmKHkrPWAKYCksJyIiIicreSsnIiIiJ312YXIgbDsoZnVuY3Rpb24oZSl7ZS5TT0Y9IjxTT0Y+IixlLkVPRj0iPEVPRj4iLGUuQkFORz0iISIsZS5ET0xMQVI9IiQiLGUuQU1QPSImIixlLlBBUkVOX0w9IigiLGUuUEFSRU5fUj0iKSIsZS5TUFJFQUQ9Ii4uLiIsZS5DT0xPTj0iOiIsZS5FUVVBTFM9Ij0iLGUuQVQ9IkAiLGUuQlJBQ0tFVF9MPSJbIixlLkJSQUNLRVRfUj0iXSIsZS5CUkFDRV9MPSJ7IixlLlBJUEU9InwiLGUuQlJBQ0VfUj0ifSIsZS5OQU1FPSJOYW1lIixlLklOVD0iSW50IixlLkZMT0FUPSJGbG9hdCIsZS5TVFJJTkc9IlN0cmluZyIsZS5CTE9DS19TVFJJTkc9IkJsb2NrU3RyaW5nIixlLkNPTU1FTlQ9IkNvbW1lbnQifSkobHx8KGw9e30pKTtjbGFzcyBTbntjb25zdHJ1Y3Rvcih0KXtjb25zdCBuPW5ldyBidChsLlNPRiwwLDAsMCwwKTt0aGlzLnNvdXJjZT10LHRoaXMubGFzdFRva2VuPW4sdGhpcy50b2tlbj1uLHRoaXMubGluZT0xLHRoaXMubGluZVN0YXJ0PTB9Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iTGV4ZXIifWFkdmFuY2UoKXtyZXR1cm4gdGhpcy5sYXN0VG9rZW49dGhpcy50b2tlbix0aGlzLnRva2VuPXRoaXMubG9va2FoZWFkKCl9bG9va2FoZWFkKCl7bGV0IHQ9dGhpcy50b2tlbjtpZih0LmtpbmQhPT1sLkVPRilkbyBpZih0Lm5leHQpdD10Lm5leHQ7ZWxzZXtjb25zdCBuPURuKHRoaXMsdC5lbmQpO3QubmV4dD1uLG4ucHJldj10LHQ9bn13aGlsZSh0LmtpbmQ9PT1sLkNPTU1FTlQpO3JldHVybiB0fX1mdW5jdGlvbiB3bihlKXtyZXR1cm4gZT09PWwuQkFOR3x8ZT09PWwuRE9MTEFSfHxlPT09bC5BTVB8fGU9PT1sLlBBUkVOX0x8fGU9PT1sLlBBUkVOX1J8fGU9PT1sLlNQUkVBRHx8ZT09PWwuQ09MT058fGU9PT1sLkVRVUFMU3x8ZT09PWwuQVR8fGU9PT1sLkJSQUNLRVRfTHx8ZT09PWwuQlJBQ0tFVF9SfHxlPT09bC5CUkFDRV9MfHxlPT09bC5QSVBFfHxlPT09bC5CUkFDRV9SfWZ1bmN0aW9uIGZlKGUpe3JldHVybiBlPj0wJiZlPD01NTI5NXx8ZT49NTczNDQmJmU8PTExMTQxMTF9ZnVuY3Rpb24gd2UoZSx0KXtyZXR1cm4gT3QoZS5jaGFyQ29kZUF0KHQpKSYmU3QoZS5jaGFyQ29kZUF0KHQrMSkpfWZ1bmN0aW9uIE90KGUpe3JldHVybiBlPj01NTI5NiYmZTw9NTYzMTl9ZnVuY3Rpb24gU3QoZSl7cmV0dXJuIGU+PTU2MzIwJiZlPD01NzM0M31mdW5jdGlvbiBhZShlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keS5jb2RlUG9pbnRBdCh0KTtpZihuPT09dm9pZCAwKXJldHVybiBsLkVPRjtpZihuPj0zMiYmbjw9MTI2KXtjb25zdCBpPVN0cmluZy5mcm9tQ29kZVBvaW50KG4pO3JldHVybiBpPT09JyInP2AnIidgOmAiJHtpfSJgfXJldHVybiJVKyIrbi50b1N0cmluZygxNikudG9VcHBlckNhc2UoKS5wYWRTdGFydCg0LCIwIil9ZnVuY3Rpb24gVihlLHQsbixpLHIpe2NvbnN0IHM9ZS5saW5lLG89MStuLWUubGluZVN0YXJ0O3JldHVybiBuZXcgYnQodCxuLGkscyxvLHIpfWZ1bmN0aW9uIERuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dDtmb3IoO3I8aTspe2NvbnN0IHM9bi5jaGFyQ29kZUF0KHIpO3N3aXRjaChzKXtjYXNlIDY1Mjc5OmNhc2UgOTpjYXNlIDMyOmNhc2UgNDQ6KytyO2NvbnRpbnVlO2Nhc2UgMTA6KytyLCsrZS5saW5lLGUubGluZVN0YXJ0PXI7Y29udGludWU7Y2FzZSAxMzpuLmNoYXJDb2RlQXQocisxKT09PTEwP3IrPTI6KytyLCsrZS5saW5lLGUubGluZVN0YXJ0PXI7Y29udGludWU7Y2FzZSAzNTpyZXR1cm4gQ24oZSxyKTtjYXNlIDMzOnJldHVybiBWKGUsbC5CQU5HLHIscisxKTtjYXNlIDM2OnJldHVybiBWKGUsbC5ET0xMQVIscixyKzEpO2Nhc2UgMzg6cmV0dXJuIFYoZSxsLkFNUCxyLHIrMSk7Y2FzZSA0MDpyZXR1cm4gVihlLGwuUEFSRU5fTCxyLHIrMSk7Y2FzZSA0MTpyZXR1cm4gVihlLGwuUEFSRU5fUixyLHIrMSk7Y2FzZSA0NjppZihuLmNoYXJDb2RlQXQocisxKT09PTQ2JiZuLmNoYXJDb2RlQXQocisyKT09PTQ2KXJldHVybiBWKGUsbC5TUFJFQUQscixyKzMpO2JyZWFrO2Nhc2UgNTg6cmV0dXJuIFYoZSxsLkNPTE9OLHIscisxKTtjYXNlIDYxOnJldHVybiBWKGUsbC5FUVVBTFMscixyKzEpO2Nhc2UgNjQ6cmV0dXJuIFYoZSxsLkFULHIscisxKTtjYXNlIDkxOnJldHVybiBWKGUsbC5CUkFDS0VUX0wscixyKzEpO2Nhc2UgOTM6cmV0dXJuIFYoZSxsLkJSQUNLRVRfUixyLHIrMSk7Y2FzZSAxMjM6cmV0dXJuIFYoZSxsLkJSQUNFX0wscixyKzEpO2Nhc2UgMTI0OnJldHVybiBWKGUsbC5QSVBFLHIscisxKTtjYXNlIDEyNTpyZXR1cm4gVihlLGwuQlJBQ0VfUixyLHIrMSk7Y2FzZSAzNDpyZXR1cm4gbi5jaGFyQ29kZUF0KHIrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHIrMik9PT0zND9CbihlLHIpOlJuKGUscil9aWYoTmUocyl8fHM9PT00NSlyZXR1cm4ga24oZSxyLHMpO2lmKEl0KHMpKXJldHVybiAkbihlLHIpO3Rocm93IEcoZS5zb3VyY2UscixzPT09Mzk/YFVuZXhwZWN0ZWQgc2luZ2xlIHF1b3RlIGNoYXJhY3RlciAoJyksIGRpZCB5b3UgbWVhbiB0byB1c2UgYSBkb3VibGUgcXVvdGUgKCIpP2A6ZmUocyl8fHdlKG4scik/YFVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAke2FlKGUscil9LmA6YEludmFsaWQgY2hhcmFjdGVyOiAke2FlKGUscil9LmApfXJldHVybiBWKGUsbC5FT0YsaSxpKX1mdW5jdGlvbiBDbihlLHQpe2NvbnN0IG49ZS5zb3VyY2UuYm9keSxpPW4ubGVuZ3RoO2xldCByPXQrMTtmb3IoO3I8aTspe2NvbnN0IHM9bi5jaGFyQ29kZUF0KHIpO2lmKHM9PT0xMHx8cz09PTEzKWJyZWFrO2lmKGZlKHMpKSsrcjtlbHNlIGlmKHdlKG4scikpcis9MjtlbHNlIGJyZWFrfXJldHVybiBWKGUsbC5DT01NRU5ULHQscixuLnNsaWNlKHQrMSxyKSl9ZnVuY3Rpb24ga24oZSx0LG4pe2NvbnN0IGk9ZS5zb3VyY2UuYm9keTtsZXQgcj10LHM9bixvPSExO2lmKHM9PT00NSYmKHM9aS5jaGFyQ29kZUF0KCsrcikpLHM9PT00OCl7aWYocz1pLmNoYXJDb2RlQXQoKytyKSxOZShzKSl0aHJvdyBHKGUuc291cmNlLHIsYEludmFsaWQgbnVtYmVyLCB1bmV4cGVjdGVkIGRpZ2l0IGFmdGVyIDA6ICR7YWUoZSxyKX0uYCl9ZWxzZSByPVdlKGUscixzKSxzPWkuY2hhckNvZGVBdChyKTtpZihzPT09NDYmJihvPSEwLHM9aS5jaGFyQ29kZUF0KCsrcikscj1XZShlLHIscykscz1pLmNoYXJDb2RlQXQocikpLChzPT09Njl8fHM9PT0xMDEpJiYobz0hMCxzPWkuY2hhckNvZGVBdCgrK3IpLChzPT09NDN8fHM9PT00NSkmJihzPWkuY2hhckNvZGVBdCgrK3IpKSxyPVdlKGUscixzKSxzPWkuY2hhckNvZGVBdChyKSkscz09PTQ2fHxJdChzKSl0aHJvdyBHKGUuc291cmNlLHIsYEludmFsaWQgbnVtYmVyLCBleHBlY3RlZCBkaWdpdCBidXQgZ290OiAke2FlKGUscil9LmApO3JldHVybiBWKGUsbz9sLkZMT0FUOmwuSU5ULHQscixpLnNsaWNlKHQscikpfWZ1bmN0aW9uIFdlKGUsdCxuKXtpZighTmUobikpdGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIG51bWJlciwgZXhwZWN0ZWQgZGlnaXQgYnV0IGdvdDogJHthZShlLHQpfS5gKTtjb25zdCBpPWUuc291cmNlLmJvZHk7bGV0IHI9dCsxO2Zvcig7TmUoaS5jaGFyQ29kZUF0KHIpKTspKytyO3JldHVybiByfWZ1bmN0aW9uIFJuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dCsxLHM9cixvPSIiO2Zvcig7cjxpOyl7Y29uc3QgYz1uLmNoYXJDb2RlQXQocik7aWYoYz09PTM0KXJldHVybiBvKz1uLnNsaWNlKHMsciksVihlLGwuU1RSSU5HLHQscisxLG8pO2lmKGM9PT05Mil7bys9bi5zbGljZShzLHIpO2NvbnN0IGY9bi5jaGFyQ29kZUF0KHIrMSk9PT0xMTc/bi5jaGFyQ29kZUF0KHIrMik9PT0xMjM/TG4oZSxyKTpQbihlLHIpOkZuKGUscik7bys9Zi52YWx1ZSxyKz1mLnNpemUscz1yO2NvbnRpbnVlfWlmKGM9PT0xMHx8Yz09PTEzKWJyZWFrO2lmKGZlKGMpKSsrcjtlbHNlIGlmKHdlKG4scikpcis9MjtlbHNlIHRocm93IEcoZS5zb3VyY2UscixgSW52YWxpZCBjaGFyYWN0ZXIgd2l0aGluIFN0cmluZzogJHthZShlLHIpfS5gKX10aHJvdyBHKGUuc291cmNlLHIsIlVudGVybWluYXRlZCBzdHJpbmcuIil9ZnVuY3Rpb24gTG4oZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7bGV0IGk9MCxyPTM7Zm9yKDtyPDEyOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQodCtyKyspO2lmKHM9PT0xMjUpe2lmKHI8NXx8IWZlKGkpKWJyZWFrO3JldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChpKSxzaXplOnJ9fWlmKGk9aTw8NHx4ZShzKSxpPDApYnJlYWt9dGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCtyKX0iLmApfWZ1bmN0aW9uIFBuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9d3Qobix0KzIpO2lmKGZlKGkpKXJldHVybnt2YWx1ZTpTdHJpbmcuZnJvbUNvZGVQb2ludChpKSxzaXplOjZ9O2lmKE90KGkpJiZuLmNoYXJDb2RlQXQodCs2KT09PTkyJiZuLmNoYXJDb2RlQXQodCs3KT09PTExNyl7Y29uc3Qgcj13dChuLHQrOCk7aWYoU3QocikpcmV0dXJue3ZhbHVlOlN0cmluZy5mcm9tQ29kZVBvaW50KGksciksc2l6ZToxMn19dGhyb3cgRyhlLnNvdXJjZSx0LGBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCs2KX0iLmApfWZ1bmN0aW9uIHd0KGUsdCl7cmV0dXJuIHhlKGUuY2hhckNvZGVBdCh0KSk8PDEyfHhlKGUuY2hhckNvZGVBdCh0KzEpKTw8OHx4ZShlLmNoYXJDb2RlQXQodCsyKSk8PDR8eGUoZS5jaGFyQ29kZUF0KHQrMykpfWZ1bmN0aW9uIHhlKGUpe3JldHVybiBlPj00OCYmZTw9NTc/ZS00ODplPj02NSYmZTw9NzA/ZS01NTplPj05NyYmZTw9MTAyP2UtODc6LTF9ZnVuY3Rpb24gRm4oZSx0KXtjb25zdCBuPWUuc291cmNlLmJvZHk7c3dpdGNoKG4uY2hhckNvZGVBdCh0KzEpKXtjYXNlIDM0OnJldHVybnt2YWx1ZTonIicsc2l6ZToyfTtjYXNlIDkyOnJldHVybnt2YWx1ZToiXFwiLHNpemU6Mn07Y2FzZSA0NzpyZXR1cm57dmFsdWU6Ii8iLHNpemU6Mn07Y2FzZSA5ODpyZXR1cm57dmFsdWU6IlxiIixzaXplOjJ9O2Nhc2UgMTAyOnJldHVybnt2YWx1ZToiXGYiLHNpemU6Mn07Y2FzZSAxMTA6cmV0dXJue3ZhbHVlOmAKYCxzaXplOjJ9O2Nhc2UgMTE0OnJldHVybnt2YWx1ZToiXHIiLHNpemU6Mn07Y2FzZSAxMTY6cmV0dXJue3ZhbHVlOiIJIixzaXplOjJ9fXRocm93IEcoZS5zb3VyY2UsdCxgSW52YWxpZCBjaGFyYWN0ZXIgZXNjYXBlIHNlcXVlbmNlOiAiJHtuLnNsaWNlKHQsdCsyKX0iLmApfWZ1bmN0aW9uIEJuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9ZS5saW5lU3RhcnQscz10KzMsbz1zLGM9IiI7Y29uc3QgZj1bXTtmb3IoO3M8aTspe2NvbnN0IGQ9bi5jaGFyQ29kZUF0KHMpO2lmKGQ9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMik9PT0zNCl7Yys9bi5zbGljZShvLHMpLGYucHVzaChjKTtjb25zdCB1PVYoZSxsLkJMT0NLX1NUUklORyx0LHMrMyxBbihmKS5qb2luKGAKYCkpO3JldHVybiBlLmxpbmUrPWYubGVuZ3RoLTEsZS5saW5lU3RhcnQ9cix1fWlmKGQ9PT05MiYmbi5jaGFyQ29kZUF0KHMrMSk9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMik9PT0zNCYmbi5jaGFyQ29kZUF0KHMrMyk9PT0zNCl7Yys9bi5zbGljZShvLHMpLG89cysxLHMrPTQ7Y29udGludWV9aWYoZD09PTEwfHxkPT09MTMpe2MrPW4uc2xpY2UobyxzKSxmLnB1c2goYyksZD09PTEzJiZuLmNoYXJDb2RlQXQocysxKT09PTEwP3MrPTI6KytzLGM9IiIsbz1zLHI9cztjb250aW51ZX1pZihmZShkKSkrK3M7ZWxzZSBpZih3ZShuLHMpKXMrPTI7ZWxzZSB0aHJvdyBHKGUuc291cmNlLHMsYEludmFsaWQgY2hhcmFjdGVyIHdpdGhpbiBTdHJpbmc6ICR7YWUoZSxzKX0uYCl9dGhyb3cgRyhlLnNvdXJjZSxzLCJVbnRlcm1pbmF0ZWQgc3RyaW5nLiIpfWZ1bmN0aW9uICRuKGUsdCl7Y29uc3Qgbj1lLnNvdXJjZS5ib2R5LGk9bi5sZW5ndGg7bGV0IHI9dCsxO2Zvcig7cjxpOyl7Y29uc3Qgcz1uLmNoYXJDb2RlQXQocik7aWYoeG4ocykpKytyO2Vsc2UgYnJlYWt9cmV0dXJuIFYoZSxsLk5BTUUsdCxyLG4uc2xpY2UodCxyKSl9Y29uc3QgTW49MTAsRHQ9MjtmdW5jdGlvbiBaZShlKXtyZXR1cm4gRGUoZSxbXSl9ZnVuY3Rpb24gRGUoZSx0KXtzd2l0Y2godHlwZW9mIGUpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIGUubmFtZT9gW2Z1bmN0aW9uICR7ZS5uYW1lfV1gOiJbZnVuY3Rpb25dIjtjYXNlIm9iamVjdCI6cmV0dXJuIFVuKGUsdCk7ZGVmYXVsdDpyZXR1cm4gU3RyaW5nKGUpfX1mdW5jdGlvbiBVbihlLHQpe2lmKGU9PT1udWxsKXJldHVybiJudWxsIjtpZih0LmluY2x1ZGVzKGUpKXJldHVybiJbQ2lyY3VsYXJdIjtjb25zdCBuPVsuLi50LGVdO2lmKFZuKGUpKXtjb25zdCBpPWUudG9KU09OKCk7aWYoaSE9PWUpcmV0dXJuIHR5cGVvZiBpPT0ic3RyaW5nIj9pOkRlKGksbil9ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBxbihlLG4pO3JldHVybiBqbihlLG4pfWZ1bmN0aW9uIFZuKGUpe3JldHVybiB0eXBlb2YgZS50b0pTT049PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gam4oZSx0KXtjb25zdCBuPU9iamVjdC5lbnRyaWVzKGUpO3JldHVybiBuLmxlbmd0aD09PTA/Int9Ijp0Lmxlbmd0aD5EdD8iWyIrR24oZSkrIl0iOiJ7ICIrbi5tYXAoKFtyLHNdKT0+cisiOiAiK0RlKHMsdCkpLmpvaW4oIiwgIikrIiB9In1mdW5jdGlvbiBxbihlLHQpe2lmKGUubGVuZ3RoPT09MClyZXR1cm4iW10iO2lmKHQubGVuZ3RoPkR0KXJldHVybiJbQXJyYXldIjtjb25zdCBuPU1hdGgubWluKE1uLGUubGVuZ3RoKSxpPWUubGVuZ3RoLW4scj1bXTtmb3IobGV0IHM9MDtzPG47KytzKXIucHVzaChEZShlW3NdLHQpKTtyZXR1cm4gaT09PTE/ci5wdXNoKCIuLi4gMSBtb3JlIGl0ZW0iKTppPjEmJnIucHVzaChgLi4uICR7aX0gbW9yZSBpdGVtc2ApLCJbIityLmpvaW4oIiwgIikrIl0ifWZ1bmN0aW9uIEduKGUpe2NvbnN0IHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnJlcGxhY2UoL15cW29iamVjdCAvLCIiKS5yZXBsYWNlKC9dJC8sIiIpO2lmKHQ9PT0iT2JqZWN0IiYmdHlwZW9mIGUuY29uc3RydWN0b3I9PSJmdW5jdGlvbiIpe2NvbnN0IG49ZS5jb25zdHJ1Y3Rvci5uYW1lO2lmKHR5cGVvZiBuPT0ic3RyaW5nIiYmbiE9PSIiKXJldHVybiBufXJldHVybiB0fWNvbnN0IEhuPWdsb2JhbFRoaXMucHJvY2VzcyYmZ2xvYmFsVGhpcy5wcm9jZXNzLmVudi5OT0RFX0VOVj09PSJwcm9kdWN0aW9uIj9mdW5jdGlvbih0LG4pe3JldHVybiB0IGluc3RhbmNlb2Ygbn06ZnVuY3Rpb24odCxuKXtpZih0IGluc3RhbmNlb2YgbilyZXR1cm4hMDtpZih0eXBlb2YgdD09Im9iamVjdCImJnQhPT1udWxsKXt2YXIgaTtjb25zdCByPW4ucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ10scz1TeW1ib2wudG9TdHJpbmdUYWcgaW4gdD90W1N5bWJvbC50b1N0cmluZ1RhZ106KGk9dC5jb25zdHJ1Y3Rvcik9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLm5hbWU7aWYocj09PXMpe2NvbnN0IG89WmUodCk7dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgdXNlICR7cn0gIiR7b30iIGZyb20gYW5vdGhlciBtb2R1bGUgb3IgcmVhbG0uCgpFbnN1cmUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBpbnN0YW5jZSBvZiAiZ3JhcGhxbCIgaW4gdGhlIG5vZGVfbW9kdWxlcwpkaXJlY3RvcnkuIElmIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiAiZ3JhcGhxbCIgYXJlIHRoZSBkZXBlbmRlbmNpZXMgb2Ygb3RoZXIKcmVsaWVkIG9uIG1vZHVsZXMsIHVzZSAicmVzb2x1dGlvbnMiIHRvIGVuc3VyZSBvbmx5IG9uZSB2ZXJzaW9uIGlzIGluc3RhbGxlZC4KCmh0dHBzOi8veWFybnBrZy5jb20vZW4vZG9jcy9zZWxlY3RpdmUtdmVyc2lvbi1yZXNvbHV0aW9ucwoKRHVwbGljYXRlICJncmFwaHFsIiBtb2R1bGVzIGNhbm5vdCBiZSB1c2VkIGF0IHRoZSBzYW1lIHRpbWUgc2luY2UgZGlmZmVyZW50CnZlcnNpb25zIG1heSBoYXZlIGRpZmZlcmVudCBjYXBhYmlsaXRpZXMgYW5kIGJlaGF2aW9yLiBUaGUgZGF0YSBmcm9tIG9uZQp2ZXJzaW9uIHVzZWQgaW4gdGhlIGZ1bmN0aW9uIGZyb20gYW5vdGhlciBjb3VsZCBwcm9kdWNlIGNvbmZ1c2luZyBhbmQKc3B1cmlvdXMgcmVzdWx0cy5gKX19cmV0dXJuITF9O2NsYXNzIEN0e2NvbnN0cnVjdG9yKHQsbj0iR3JhcGhRTCByZXF1ZXN0IixpPXtsaW5lOjEsY29sdW1uOjF9KXt0eXBlb2YgdD09InN0cmluZyJ8fFNlKCExLGBCb2R5IG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkOiAke1plKHQpfS5gKSx0aGlzLmJvZHk9dCx0aGlzLm5hbWU9bix0aGlzLmxvY2F0aW9uT2Zmc2V0PWksdGhpcy5sb2NhdGlvbk9mZnNldC5saW5lPjB8fFNlKCExLCJsaW5lIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKSx0aGlzLmxvY2F0aW9uT2Zmc2V0LmNvbHVtbj4wfHxTZSghMSwiY29sdW1uIGluIGxvY2F0aW9uT2Zmc2V0IGlzIDEtaW5kZXhlZCBhbmQgbXVzdCBiZSBwb3NpdGl2ZS4iKX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJTb3VyY2UifX1mdW5jdGlvbiB6bihlKXtyZXR1cm4gSG4oZSxDdCl9ZnVuY3Rpb24ga3QoZSx0KXtyZXR1cm4gbmV3IFluKGUsdCkucGFyc2VEb2N1bWVudCgpfWNsYXNzIFlue2NvbnN0cnVjdG9yKHQsbj17fSl7Y29uc3QgaT16bih0KT90Om5ldyBDdCh0KTt0aGlzLl9sZXhlcj1uZXcgU24oaSksdGhpcy5fb3B0aW9ucz1uLHRoaXMuX3Rva2VuQ291bnRlcj0wfXBhcnNlTmFtZSgpe2NvbnN0IHQ9dGhpcy5leHBlY3RUb2tlbihsLk5BTUUpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk5BTUUsdmFsdWU6dC52YWx1ZX0pfXBhcnNlRG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuRE9DVU1FTlQsZGVmaW5pdGlvbnM6dGhpcy5tYW55KGwuU09GLHRoaXMucGFyc2VEZWZpbml0aW9uLGwuRU9GKX0pfXBhcnNlRGVmaW5pdGlvbigpe2lmKHRoaXMucGVlayhsLkJSQUNFX0wpKXJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2NvbnN0IHQ9dGhpcy5wZWVrRGVzY3JpcHRpb24oKSxuPXQ/dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk6dGhpcy5fbGV4ZXIudG9rZW47aWYobi5raW5kPT09bC5OQU1FKXtzd2l0Y2gobi52YWx1ZSl7Y2FzZSJzY2hlbWEiOnJldHVybiB0aGlzLnBhcnNlU2NoZW1hRGVmaW5pdGlvbigpO2Nhc2Uic2NhbGFyIjpyZXR1cm4gdGhpcy5wYXJzZVNjYWxhclR5cGVEZWZpbml0aW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnRlcmZhY2UiOnJldHVybiB0aGlzLnBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKTtjYXNlInVuaW9uIjpyZXR1cm4gdGhpcy5wYXJzZVVuaW9uVHlwZURlZmluaXRpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVEZWZpbml0aW9uKCk7Y2FzZSJpbnB1dCI6cmV0dXJuIHRoaXMucGFyc2VJbnB1dE9iamVjdFR5cGVEZWZpbml0aW9uKCk7Y2FzZSJkaXJlY3RpdmUiOnJldHVybiB0aGlzLnBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpfWlmKHQpdGhyb3cgRyh0aGlzLl9sZXhlci5zb3VyY2UsdGhpcy5fbGV4ZXIudG9rZW4uc3RhcnQsIlVuZXhwZWN0ZWQgZGVzY3JpcHRpb24sIGRlc2NyaXB0aW9ucyBhcmUgc3VwcG9ydGVkIG9ubHkgb24gdHlwZSBkZWZpbml0aW9ucy4iKTtzd2l0Y2gobi52YWx1ZSl7Y2FzZSJxdWVyeSI6Y2FzZSJtdXRhdGlvbiI6Y2FzZSJzdWJzY3JpcHRpb24iOnJldHVybiB0aGlzLnBhcnNlT3BlcmF0aW9uRGVmaW5pdGlvbigpO2Nhc2UiZnJhZ21lbnQiOnJldHVybiB0aGlzLnBhcnNlRnJhZ21lbnREZWZpbml0aW9uKCk7Y2FzZSJleHRlbmQiOnJldHVybiB0aGlzLnBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpfX10aHJvdyB0aGlzLnVuZXhwZWN0ZWQobil9cGFyc2VPcGVyYXRpb25EZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtpZih0aGlzLnBlZWsobC5CUkFDRV9MKSlyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5PUEVSQVRJT05fREVGSU5JVElPTixvcGVyYXRpb246bGUuUVVFUlksbmFtZTp2b2lkIDAsdmFyaWFibGVEZWZpbml0aW9uczpbXSxkaXJlY3RpdmVzOltdLHNlbGVjdGlvblNldDp0aGlzLnBhcnNlU2VsZWN0aW9uU2V0KCl9KTtjb25zdCBuPXRoaXMucGFyc2VPcGVyYXRpb25UeXBlKCk7bGV0IGk7cmV0dXJuIHRoaXMucGVlayhsLk5BTUUpJiYoaT10aGlzLnBhcnNlTmFtZSgpKSx0aGlzLm5vZGUodCx7a2luZDpULk9QRVJBVElPTl9ERUZJTklUSU9OLG9wZXJhdGlvbjpuLG5hbWU6aSx2YXJpYWJsZURlZmluaXRpb25zOnRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb25zKCksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pfXBhcnNlT3BlcmF0aW9uVHlwZSgpe2NvbnN0IHQ9dGhpcy5leHBlY3RUb2tlbihsLk5BTUUpO3N3aXRjaCh0LnZhbHVlKXtjYXNlInF1ZXJ5IjpyZXR1cm4gbGUuUVVFUlk7Y2FzZSJtdXRhdGlvbiI6cmV0dXJuIGxlLk1VVEFUSU9OO2Nhc2Uic3Vic2NyaXB0aW9uIjpyZXR1cm4gbGUuU1VCU0NSSVBUSU9OfXRocm93IHRoaXMudW5leHBlY3RlZCh0KX1wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbnMoKXtyZXR1cm4gdGhpcy5vcHRpb25hbE1hbnkobC5QQVJFTl9MLHRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb24sbC5QQVJFTl9SKX1wYXJzZVZhcmlhYmxlRGVmaW5pdGlvbigpe3JldHVybiB0aGlzLm5vZGUodGhpcy5fbGV4ZXIudG9rZW4se2tpbmQ6VC5WQVJJQUJMRV9ERUZJTklUSU9OLHZhcmlhYmxlOnRoaXMucGFyc2VWYXJpYWJsZSgpLHR5cGU6KHRoaXMuZXhwZWN0VG9rZW4obC5DT0xPTiksdGhpcy5wYXJzZVR5cGVSZWZlcmVuY2UoKSksZGVmYXVsdFZhbHVlOnRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihsLkVRVUFMUyk/dGhpcy5wYXJzZUNvbnN0VmFsdWVMaXRlcmFsKCk6dm9pZCAwLGRpcmVjdGl2ZXM6dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpfSl9cGFyc2VWYXJpYWJsZSgpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5ET0xMQVIpLHRoaXMubm9kZSh0LHtraW5kOlQuVkFSSUFCTEUsbmFtZTp0aGlzLnBhcnNlTmFtZSgpfSl9cGFyc2VTZWxlY3Rpb25TZXQoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuU0VMRUNUSU9OX1NFVCxzZWxlY3Rpb25zOnRoaXMubWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZVNlbGVjdGlvbixsLkJSQUNFX1IpfSl9cGFyc2VTZWxlY3Rpb24oKXtyZXR1cm4gdGhpcy5wZWVrKGwuU1BSRUFEKT90aGlzLnBhcnNlRnJhZ21lbnQoKTp0aGlzLnBhcnNlRmllbGQoKX1wYXJzZUZpZWxkKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VOYW1lKCk7bGV0IGkscjtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuQ09MT04pPyhpPW4scj10aGlzLnBhcnNlTmFtZSgpKTpyPW4sdGhpcy5ub2RlKHQse2tpbmQ6VC5GSUVMRCxhbGlhczppLG5hbWU6cixhcmd1bWVudHM6dGhpcy5wYXJzZUFyZ3VtZW50cyghMSksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGVlayhsLkJSQUNFX0wpP3RoaXMucGFyc2VTZWxlY3Rpb25TZXQoKTp2b2lkIDB9KX1wYXJzZUFyZ3VtZW50cyh0KXtjb25zdCBuPXQ/dGhpcy5wYXJzZUNvbnN0QXJndW1lbnQ6dGhpcy5wYXJzZUFyZ3VtZW50O3JldHVybiB0aGlzLm9wdGlvbmFsTWFueShsLlBBUkVOX0wsbixsLlBBUkVOX1IpfXBhcnNlQXJndW1lbnQodD0hMSl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbixpPXRoaXMucGFyc2VOYW1lKCk7cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5DT0xPTiksdGhpcy5ub2RlKG4se2tpbmQ6VC5BUkdVTUVOVCxuYW1lOmksdmFsdWU6dGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0KX0pfXBhcnNlQ29uc3RBcmd1bWVudCgpe3JldHVybiB0aGlzLnBhcnNlQXJndW1lbnQoITApfXBhcnNlRnJhZ21lbnQoKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0VG9rZW4obC5TUFJFQUQpO2NvbnN0IG49dGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoIm9uIik7cmV0dXJuIW4mJnRoaXMucGVlayhsLk5BTUUpP3RoaXMubm9kZSh0LHtraW5kOlQuRlJBR01FTlRfU1BSRUFELG5hbWU6dGhpcy5wYXJzZUZyYWdtZW50TmFtZSgpLGRpcmVjdGl2ZXM6dGhpcy5wYXJzZURpcmVjdGl2ZXMoITEpfSk6dGhpcy5ub2RlKHQse2tpbmQ6VC5JTkxJTkVfRlJBR01FTlQsdHlwZUNvbmRpdGlvbjpuP3RoaXMucGFyc2VOYW1lZFR5cGUoKTp2b2lkIDAsZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pfXBhcnNlRnJhZ21lbnREZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjtyZXR1cm4gdGhpcy5leHBlY3RLZXl3b3JkKCJmcmFnbWVudCIpLHRoaXMuX29wdGlvbnMuYWxsb3dMZWdhY3lGcmFnbWVudFZhcmlhYmxlcz09PSEwP3RoaXMubm9kZSh0LHtraW5kOlQuRlJBR01FTlRfREVGSU5JVElPTixuYW1lOnRoaXMucGFyc2VGcmFnbWVudE5hbWUoKSx2YXJpYWJsZURlZmluaXRpb25zOnRoaXMucGFyc2VWYXJpYWJsZURlZmluaXRpb25zKCksdHlwZUNvbmRpdGlvbjoodGhpcy5leHBlY3RLZXl3b3JkKCJvbiIpLHRoaXMucGFyc2VOYW1lZFR5cGUoKSksZGlyZWN0aXZlczp0aGlzLnBhcnNlRGlyZWN0aXZlcyghMSksc2VsZWN0aW9uU2V0OnRoaXMucGFyc2VTZWxlY3Rpb25TZXQoKX0pOnRoaXMubm9kZSh0LHtraW5kOlQuRlJBR01FTlRfREVGSU5JVElPTixuYW1lOnRoaXMucGFyc2VGcmFnbWVudE5hbWUoKSx0eXBlQ29uZGl0aW9uOih0aGlzLmV4cGVjdEtleXdvcmQoIm9uIiksdGhpcy5wYXJzZU5hbWVkVHlwZSgpKSxkaXJlY3RpdmVzOnRoaXMucGFyc2VEaXJlY3RpdmVzKCExKSxzZWxlY3Rpb25TZXQ6dGhpcy5wYXJzZVNlbGVjdGlvblNldCgpfSl9cGFyc2VGcmFnbWVudE5hbWUoKXtpZih0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJvbiIpdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMucGFyc2VOYW1lKCl9cGFyc2VWYWx1ZUxpdGVyYWwodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbjtzd2l0Y2gobi5raW5kKXtjYXNlIGwuQlJBQ0tFVF9MOnJldHVybiB0aGlzLnBhcnNlTGlzdCh0KTtjYXNlIGwuQlJBQ0VfTDpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdCh0KTtjYXNlIGwuSU5UOnJldHVybiB0aGlzLmFkdmFuY2VMZXhlcigpLHRoaXMubm9kZShuLHtraW5kOlQuSU5ULHZhbHVlOm4udmFsdWV9KTtjYXNlIGwuRkxPQVQ6cmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksdGhpcy5ub2RlKG4se2tpbmQ6VC5GTE9BVCx2YWx1ZTpuLnZhbHVlfSk7Y2FzZSBsLlNUUklORzpjYXNlIGwuQkxPQ0tfU1RSSU5HOnJldHVybiB0aGlzLnBhcnNlU3RyaW5nTGl0ZXJhbCgpO2Nhc2UgbC5OQU1FOnN3aXRjaCh0aGlzLmFkdmFuY2VMZXhlcigpLG4udmFsdWUpe2Nhc2UidHJ1ZSI6cmV0dXJuIHRoaXMubm9kZShuLHtraW5kOlQuQk9PTEVBTix2YWx1ZTohMH0pO2Nhc2UiZmFsc2UiOnJldHVybiB0aGlzLm5vZGUobix7a2luZDpULkJPT0xFQU4sdmFsdWU6ITF9KTtjYXNlIm51bGwiOnJldHVybiB0aGlzLm5vZGUobix7a2luZDpULk5VTEx9KTtkZWZhdWx0OnJldHVybiB0aGlzLm5vZGUobix7a2luZDpULkVOVU0sdmFsdWU6bi52YWx1ZX0pfWNhc2UgbC5ET0xMQVI6aWYodClpZih0aGlzLmV4cGVjdFRva2VuKGwuRE9MTEFSKSx0aGlzLl9sZXhlci50b2tlbi5raW5kPT09bC5OQU1FKXtjb25zdCBpPXRoaXMuX2xleGVyLnRva2VuLnZhbHVlO3Rocm93IEcodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYFVuZXhwZWN0ZWQgdmFyaWFibGUgIiQke2l9IiBpbiBjb25zdGFudCB2YWx1ZS5gKX1lbHNlIHRocm93IHRoaXMudW5leHBlY3RlZChuKTtyZXR1cm4gdGhpcy5wYXJzZVZhcmlhYmxlKCk7ZGVmYXVsdDp0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKX19cGFyc2VDb25zdFZhbHVlTGl0ZXJhbCgpe3JldHVybiB0aGlzLnBhcnNlVmFsdWVMaXRlcmFsKCEwKX1wYXJzZVN0cmluZ0xpdGVyYWwoKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmFkdmFuY2VMZXhlcigpLHRoaXMubm9kZSh0LHtraW5kOlQuU1RSSU5HLHZhbHVlOnQudmFsdWUsYmxvY2s6dC5raW5kPT09bC5CTE9DS19TVFJJTkd9KX1wYXJzZUxpc3QodCl7Y29uc3Qgbj0oKT0+dGhpcy5wYXJzZVZhbHVlTGl0ZXJhbCh0KTtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuTElTVCx2YWx1ZXM6dGhpcy5hbnkobC5CUkFDS0VUX0wsbixsLkJSQUNLRVRfUil9KX1wYXJzZU9iamVjdCh0KXtjb25zdCBuPSgpPT50aGlzLnBhcnNlT2JqZWN0RmllbGQodCk7cmV0dXJuIHRoaXMubm9kZSh0aGlzLl9sZXhlci50b2tlbix7a2luZDpULk9CSkVDVCxmaWVsZHM6dGhpcy5hbnkobC5CUkFDRV9MLG4sbC5CUkFDRV9SKX0pfXBhcnNlT2JqZWN0RmllbGQodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbixpPXRoaXMucGFyc2VOYW1lKCk7cmV0dXJuIHRoaXMuZXhwZWN0VG9rZW4obC5DT0xPTiksdGhpcy5ub2RlKG4se2tpbmQ6VC5PQkpFQ1RfRklFTEQsbmFtZTppLHZhbHVlOnRoaXMucGFyc2VWYWx1ZUxpdGVyYWwodCl9KX1wYXJzZURpcmVjdGl2ZXModCl7Y29uc3Qgbj1bXTtmb3IoO3RoaXMucGVlayhsLkFUKTspbi5wdXNoKHRoaXMucGFyc2VEaXJlY3RpdmUodCkpO3JldHVybiBufXBhcnNlQ29uc3REaXJlY3RpdmVzKCl7cmV0dXJuIHRoaXMucGFyc2VEaXJlY3RpdmVzKCEwKX1wYXJzZURpcmVjdGl2ZSh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO3JldHVybiB0aGlzLmV4cGVjdFRva2VuKGwuQVQpLHRoaXMubm9kZShuLHtraW5kOlQuRElSRUNUSVZFLG5hbWU6dGhpcy5wYXJzZU5hbWUoKSxhcmd1bWVudHM6dGhpcy5wYXJzZUFyZ3VtZW50cyh0KX0pfXBhcnNlVHlwZVJlZmVyZW5jZSgpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47bGV0IG47aWYodGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuQlJBQ0tFVF9MKSl7Y29uc3QgaT10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpO3RoaXMuZXhwZWN0VG9rZW4obC5CUkFDS0VUX1IpLG49dGhpcy5ub2RlKHQse2tpbmQ6VC5MSVNUX1RZUEUsdHlwZTppfSl9ZWxzZSBuPXRoaXMucGFyc2VOYW1lZFR5cGUoKTtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuQkFORyk/dGhpcy5ub2RlKHQse2tpbmQ6VC5OT05fTlVMTF9UWVBFLHR5cGU6bn0pOm59cGFyc2VOYW1lZFR5cGUoKXtyZXR1cm4gdGhpcy5ub2RlKHRoaXMuX2xleGVyLnRva2VuLHtraW5kOlQuTkFNRURfVFlQRSxuYW1lOnRoaXMucGFyc2VOYW1lKCl9KX1wZWVrRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVrKGwuU1RSSU5HKXx8dGhpcy5wZWVrKGwuQkxPQ0tfU1RSSU5HKX1wYXJzZURlc2NyaXB0aW9uKCl7aWYodGhpcy5wZWVrRGVzY3JpcHRpb24oKSlyZXR1cm4gdGhpcy5wYXJzZVN0cmluZ0xpdGVyYWwoKX1wYXJzZVNjaGVtYURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJzY2hlbWEiKTtjb25zdCBpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMubWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZU9wZXJhdGlvblR5cGVEZWZpbml0aW9uLGwuQlJBQ0VfUik7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuU0NIRU1BX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixkaXJlY3RpdmVzOmksb3BlcmF0aW9uVHlwZXM6cn0pfXBhcnNlT3BlcmF0aW9uVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU9wZXJhdGlvblR5cGUoKTt0aGlzLmV4cGVjdFRva2VuKGwuQ09MT04pO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWVkVHlwZSgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9QRVJBVElPTl9UWVBFX0RFRklOSVRJT04sb3BlcmF0aW9uOm4sdHlwZTppfSl9cGFyc2VTY2FsYXJUeXBlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoInNjYWxhciIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5TQ0FMQVJfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cn0pfXBhcnNlT2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJ0eXBlIik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUltcGxlbWVudHNJbnRlcmZhY2VzKCkscz10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCksbz10aGlzLnBhcnNlRmllbGRzRGVmaW5pdGlvbigpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9CSkVDVF9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksaW50ZXJmYWNlczpyLGRpcmVjdGl2ZXM6cyxmaWVsZHM6b30pfXBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKXtyZXR1cm4gdGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoImltcGxlbWVudHMiKT90aGlzLmRlbGltaXRlZE1hbnkobC5BTVAsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuQlJBQ0VfTCx0aGlzLnBhcnNlRmllbGREZWZpbml0aW9uLGwuQlJBQ0VfUil9cGFyc2VGaWVsZERlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpO3RoaXMuZXhwZWN0VG9rZW4obC5DT0xPTik7Y29uc3Qgcz10aGlzLnBhcnNlVHlwZVJlZmVyZW5jZSgpLG89dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULkZJRUxEX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksYXJndW1lbnRzOnIsdHlwZTpzLGRpcmVjdGl2ZXM6b30pfXBhcnNlQXJndW1lbnREZWZzKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuUEFSRU5fTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZixsLlBBUkVOX1IpfXBhcnNlSW5wdXRWYWx1ZURlZigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKSxpPXRoaXMucGFyc2VOYW1lKCk7dGhpcy5leHBlY3RUb2tlbihsLkNPTE9OKTtjb25zdCByPXRoaXMucGFyc2VUeXBlUmVmZXJlbmNlKCk7bGV0IHM7dGhpcy5leHBlY3RPcHRpb25hbFRva2VuKGwuRVFVQUxTKSYmKHM9dGhpcy5wYXJzZUNvbnN0VmFsdWVMaXRlcmFsKCkpO2NvbnN0IG89dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULklOUFVUX1ZBTFVFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksdHlwZTpyLGRlZmF1bHRWYWx1ZTpzLGRpcmVjdGl2ZXM6b30pfXBhcnNlSW50ZXJmYWNlVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnRlcmZhY2UiKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlSW1wbGVtZW50c0ludGVyZmFjZXMoKSxzPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxvPXRoaXMucGFyc2VGaWVsZHNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuSU5URVJGQUNFX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxpbnRlcmZhY2VzOnIsZGlyZWN0aXZlczpzLGZpZWxkczpvfSl9cGFyc2VVbmlvblR5cGVEZWZpbml0aW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbixuPXRoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCBpPXRoaXMucGFyc2VOYW1lKCkscj10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscz10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlVOSU9OX1RZUEVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxkaXJlY3RpdmVzOnIsdHlwZXM6c30pfXBhcnNlVW5pb25NZW1iZXJUeXBlcygpe3JldHVybiB0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4obC5FUVVBTFMpP3RoaXMuZGVsaW1pdGVkTWFueShsLlBJUEUsdGhpcy5wYXJzZU5hbWVkVHlwZSk6W119cGFyc2VFbnVtVHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRU5VTV9UWVBFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksZGlyZWN0aXZlczpyLHZhbHVlczpzfSl9cGFyc2VFbnVtVmFsdWVzRGVmaW5pdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbmFsTWFueShsLkJSQUNFX0wsdGhpcy5wYXJzZUVudW1WYWx1ZURlZmluaXRpb24sbC5CUkFDRV9SKX1wYXJzZUVudW1WYWx1ZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCksaT10aGlzLnBhcnNlRW51bVZhbHVlTmFtZSgpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULkVOVU1fVkFMVUVfREVGSU5JVElPTixkZXNjcmlwdGlvbjpuLG5hbWU6aSxkaXJlY3RpdmVzOnJ9KX1wYXJzZUVudW1WYWx1ZU5hbWUoKXtpZih0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJ0cnVlInx8dGhpcy5fbGV4ZXIudG9rZW4udmFsdWU9PT0iZmFsc2UifHx0aGlzLl9sZXhlci50b2tlbi52YWx1ZT09PSJudWxsIil0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSx0aGlzLl9sZXhlci50b2tlbi5zdGFydCxgJHtDZSh0aGlzLl9sZXhlci50b2tlbil9IGlzIHJlc2VydmVkIGFuZCBjYW5ub3QgYmUgdXNlZCBmb3IgYW4gZW51bSB2YWx1ZS5gKTtyZXR1cm4gdGhpcy5wYXJzZU5hbWUoKX1wYXJzZUlucHV0T2JqZWN0VHlwZURlZmluaXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZURlc2NyaXB0aW9uKCk7dGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IGk9dGhpcy5wYXJzZU5hbWUoKSxyPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxzPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5JTlBVVF9PQkpFQ1RfVFlQRV9ERUZJTklUSU9OLGRlc2NyaXB0aW9uOm4sbmFtZTppLGRpcmVjdGl2ZXM6cixmaWVsZHM6c30pfXBhcnNlSW5wdXRGaWVsZHNEZWZpbml0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uYWxNYW55KGwuQlJBQ0VfTCx0aGlzLnBhcnNlSW5wdXRWYWx1ZURlZixsLkJSQUNFX1IpfXBhcnNlVHlwZVN5c3RlbUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIubG9va2FoZWFkKCk7aWYodC5raW5kPT09bC5OQU1FKXN3aXRjaCh0LnZhbHVlKXtjYXNlInNjaGVtYSI6cmV0dXJuIHRoaXMucGFyc2VTY2hlbWFFeHRlbnNpb24oKTtjYXNlInNjYWxhciI6cmV0dXJuIHRoaXMucGFyc2VTY2FsYXJUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ0eXBlIjpyZXR1cm4gdGhpcy5wYXJzZU9iamVjdFR5cGVFeHRlbnNpb24oKTtjYXNlImludGVyZmFjZSI6cmV0dXJuIHRoaXMucGFyc2VJbnRlcmZhY2VUeXBlRXh0ZW5zaW9uKCk7Y2FzZSJ1bmlvbiI6cmV0dXJuIHRoaXMucGFyc2VVbmlvblR5cGVFeHRlbnNpb24oKTtjYXNlImVudW0iOnJldHVybiB0aGlzLnBhcnNlRW51bVR5cGVFeHRlbnNpb24oKTtjYXNlImlucHV0IjpyZXR1cm4gdGhpcy5wYXJzZUlucHV0T2JqZWN0VHlwZUV4dGVuc2lvbigpfXRocm93IHRoaXMudW5leHBlY3RlZCh0KX1wYXJzZVNjaGVtYUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoInNjaGVtYSIpO2NvbnN0IG49dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLGk9dGhpcy5vcHRpb25hbE1hbnkobC5CUkFDRV9MLHRoaXMucGFyc2VPcGVyYXRpb25UeXBlRGVmaW5pdGlvbixsLkJSQUNFX1IpO2lmKG4ubGVuZ3RoPT09MCYmaS5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlNDSEVNQV9FWFRFTlNJT04sZGlyZWN0aXZlczpuLG9wZXJhdGlvblR5cGVzOml9KX1wYXJzZVNjYWxhclR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJzY2FsYXIiKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCk7aWYoaS5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlNDQUxBUl9UWVBFX0VYVEVOU0lPTixuYW1lOm4sZGlyZWN0aXZlczppfSl9cGFyc2VPYmplY3RUeXBlRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidHlwZSIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCYmcy5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULk9CSkVDVF9UWVBFX0VYVEVOU0lPTixuYW1lOm4saW50ZXJmYWNlczppLGRpcmVjdGl2ZXM6cixmaWVsZHM6c30pfXBhcnNlSW50ZXJmYWNlVHlwZUV4dGVuc2lvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW47dGhpcy5leHBlY3RLZXl3b3JkKCJleHRlbmQiKSx0aGlzLmV4cGVjdEtleXdvcmQoImludGVyZmFjZSIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VJbXBsZW1lbnRzSW50ZXJmYWNlcygpLHI9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHM9dGhpcy5wYXJzZUZpZWxkc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCYmcy5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULklOVEVSRkFDRV9UWVBFX0VYVEVOU0lPTixuYW1lOm4saW50ZXJmYWNlczppLGRpcmVjdGl2ZXM6cixmaWVsZHM6c30pfXBhcnNlVW5pb25UeXBlRXh0ZW5zaW9uKCl7Y29uc3QgdD10aGlzLl9sZXhlci50b2tlbjt0aGlzLmV4cGVjdEtleXdvcmQoImV4dGVuZCIpLHRoaXMuZXhwZWN0S2V5d29yZCgidW5pb24iKTtjb25zdCBuPXRoaXMucGFyc2VOYW1lKCksaT10aGlzLnBhcnNlQ29uc3REaXJlY3RpdmVzKCkscj10aGlzLnBhcnNlVW5pb25NZW1iZXJUeXBlcygpO2lmKGkubGVuZ3RoPT09MCYmci5sZW5ndGg9PT0wKXRocm93IHRoaXMudW5leHBlY3RlZCgpO3JldHVybiB0aGlzLm5vZGUodCx7a2luZDpULlVOSU9OX1RZUEVfRVhURU5TSU9OLG5hbWU6bixkaXJlY3RpdmVzOmksdHlwZXM6cn0pfXBhcnNlRW51bVR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJlbnVtIik7Y29uc3Qgbj10aGlzLnBhcnNlTmFtZSgpLGk9dGhpcy5wYXJzZUNvbnN0RGlyZWN0aXZlcygpLHI9dGhpcy5wYXJzZUVudW1WYWx1ZXNEZWZpbml0aW9uKCk7aWYoaS5sZW5ndGg9PT0wJiZyLmxlbmd0aD09PTApdGhyb3cgdGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRU5VTV9UWVBFX0VYVEVOU0lPTixuYW1lOm4sZGlyZWN0aXZlczppLHZhbHVlczpyfSl9cGFyc2VJbnB1dE9iamVjdFR5cGVFeHRlbnNpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuO3RoaXMuZXhwZWN0S2V5d29yZCgiZXh0ZW5kIiksdGhpcy5leHBlY3RLZXl3b3JkKCJpbnB1dCIpO2NvbnN0IG49dGhpcy5wYXJzZU5hbWUoKSxpPXRoaXMucGFyc2VDb25zdERpcmVjdGl2ZXMoKSxyPXRoaXMucGFyc2VJbnB1dEZpZWxkc0RlZmluaXRpb24oKTtpZihpLmxlbmd0aD09PTAmJnIubGVuZ3RoPT09MCl0aHJvdyB0aGlzLnVuZXhwZWN0ZWQoKTtyZXR1cm4gdGhpcy5ub2RlKHQse2tpbmQ6VC5JTlBVVF9PQkpFQ1RfVFlQRV9FWFRFTlNJT04sbmFtZTpuLGRpcmVjdGl2ZXM6aSxmaWVsZHM6cn0pfXBhcnNlRGlyZWN0aXZlRGVmaW5pdGlvbigpe2NvbnN0IHQ9dGhpcy5fbGV4ZXIudG9rZW4sbj10aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLmV4cGVjdEtleXdvcmQoImRpcmVjdGl2ZSIpLHRoaXMuZXhwZWN0VG9rZW4obC5BVCk7Y29uc3QgaT10aGlzLnBhcnNlTmFtZSgpLHI9dGhpcy5wYXJzZUFyZ3VtZW50RGVmcygpLHM9dGhpcy5leHBlY3RPcHRpb25hbEtleXdvcmQoInJlcGVhdGFibGUiKTt0aGlzLmV4cGVjdEtleXdvcmQoIm9uIik7Y29uc3Qgbz10aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb25zKCk7cmV0dXJuIHRoaXMubm9kZSh0LHtraW5kOlQuRElSRUNUSVZFX0RFRklOSVRJT04sZGVzY3JpcHRpb246bixuYW1lOmksYXJndW1lbnRzOnIscmVwZWF0YWJsZTpzLGxvY2F0aW9uczpvfSl9cGFyc2VEaXJlY3RpdmVMb2NhdGlvbnMoKXtyZXR1cm4gdGhpcy5kZWxpbWl0ZWRNYW55KGwuUElQRSx0aGlzLnBhcnNlRGlyZWN0aXZlTG9jYXRpb24pfXBhcnNlRGlyZWN0aXZlTG9jYXRpb24oKXtjb25zdCB0PXRoaXMuX2xleGVyLnRva2VuLG49dGhpcy5wYXJzZU5hbWUoKTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUWUsbi52YWx1ZSkpcmV0dXJuIG47dGhyb3cgdGhpcy51bmV4cGVjdGVkKHQpfW5vZGUodCxuKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5ub0xvY2F0aW9uIT09ITAmJihuLmxvYz1uZXcgYm4odCx0aGlzLl9sZXhlci5sYXN0VG9rZW4sdGhpcy5fbGV4ZXIuc291cmNlKSksbn1wZWVrKHQpe3JldHVybiB0aGlzLl9sZXhlci50b2tlbi5raW5kPT09dH1leHBlY3RUb2tlbih0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO2lmKG4ua2luZD09PXQpcmV0dXJuIHRoaXMuYWR2YW5jZUxleGVyKCksbjt0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSxuLnN0YXJ0LGBFeHBlY3RlZCAke1J0KHQpfSwgZm91bmQgJHtDZShuKX0uYCl9ZXhwZWN0T3B0aW9uYWxUb2tlbih0KXtyZXR1cm4gdGhpcy5fbGV4ZXIudG9rZW4ua2luZD09PXQ/KHRoaXMuYWR2YW5jZUxleGVyKCksITApOiExfWV4cGVjdEtleXdvcmQodCl7Y29uc3Qgbj10aGlzLl9sZXhlci50b2tlbjtpZihuLmtpbmQ9PT1sLk5BTUUmJm4udmFsdWU9PT10KXRoaXMuYWR2YW5jZUxleGVyKCk7ZWxzZSB0aHJvdyBHKHRoaXMuX2xleGVyLnNvdXJjZSxuLnN0YXJ0LGBFeHBlY3RlZCAiJHt0fSIsIGZvdW5kICR7Q2Uobil9LmApfWV4cGVjdE9wdGlvbmFsS2V5d29yZCh0KXtjb25zdCBuPXRoaXMuX2xleGVyLnRva2VuO3JldHVybiBuLmtpbmQ9PT1sLk5BTUUmJm4udmFsdWU9PT10Pyh0aGlzLmFkdmFuY2VMZXhlcigpLCEwKTohMX11bmV4cGVjdGVkKHQpe2NvbnN0IG49dCE9bnVsbD90OnRoaXMuX2xleGVyLnRva2VuO3JldHVybiBHKHRoaXMuX2xleGVyLnNvdXJjZSxuLnN0YXJ0LGBVbmV4cGVjdGVkICR7Q2Uobil9LmApfWFueSh0LG4saSl7dGhpcy5leHBlY3RUb2tlbih0KTtjb25zdCByPVtdO2Zvcig7IXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihpKTspci5wdXNoKG4uY2FsbCh0aGlzKSk7cmV0dXJuIHJ9b3B0aW9uYWxNYW55KHQsbixpKXtpZih0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4odCkpe2NvbnN0IHI9W107ZG8gci5wdXNoKG4uY2FsbCh0aGlzKSk7d2hpbGUoIXRoaXMuZXhwZWN0T3B0aW9uYWxUb2tlbihpKSk7cmV0dXJuIHJ9cmV0dXJuW119bWFueSh0LG4saSl7dGhpcy5leHBlY3RUb2tlbih0KTtjb25zdCByPVtdO2RvIHIucHVzaChuLmNhbGwodGhpcykpO3doaWxlKCF0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4oaSkpO3JldHVybiByfWRlbGltaXRlZE1hbnkodCxuKXt0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4odCk7Y29uc3QgaT1bXTtkbyBpLnB1c2gobi5jYWxsKHRoaXMpKTt3aGlsZSh0aGlzLmV4cGVjdE9wdGlvbmFsVG9rZW4odCkpO3JldHVybiBpfWFkdmFuY2VMZXhlcigpe2NvbnN0e21heFRva2Vuczp0fT10aGlzLl9vcHRpb25zLG49dGhpcy5fbGV4ZXIuYWR2YW5jZSgpO2lmKHQhPT12b2lkIDAmJm4ua2luZCE9PWwuRU9GJiYoKyt0aGlzLl90b2tlbkNvdW50ZXIsdGhpcy5fdG9rZW5Db3VudGVyPnQpKXRocm93IEcodGhpcy5fbGV4ZXIuc291cmNlLG4uc3RhcnQsYERvY3VtZW50IGNvbnRhaW5zIG1vcmUgdGhhdCAke3R9IHRva2Vucy4gUGFyc2luZyBhYm9ydGVkLmApfX1mdW5jdGlvbiBDZShlKXtjb25zdCB0PWUudmFsdWU7cmV0dXJuIFJ0KGUua2luZCkrKHQhPW51bGw/YCAiJHt0fSJgOiIiKX1mdW5jdGlvbiBSdChlKXtyZXR1cm4gd24oZSk/YCIke2V9ImA6ZX1mdW5jdGlvbiBKbihlKXtyZXR1cm5gIiR7ZS5yZXBsYWNlKFFuLFhuKX0iYH1jb25zdCBRbj0vW1x4MDAtXHgxZlx4MjJceDVjXHg3Zi1ceDlmXS9nO2Z1bmN0aW9uIFhuKGUpe3JldHVybiBXbltlLmNoYXJDb2RlQXQoMCldfWNvbnN0IFduPVsiXFx1MDAwMCIsIlxcdTAwMDEiLCJcXHUwMDAyIiwiXFx1MDAwMyIsIlxcdTAwMDQiLCJcXHUwMDA1IiwiXFx1MDAwNiIsIlxcdTAwMDciLCJcXGIiLCJcXHQiLCJcXG4iLCJcXHUwMDBCIiwiXFxmIiwiXFxyIiwiXFx1MDAwRSIsIlxcdTAwMEYiLCJcXHUwMDEwIiwiXFx1MDAxMSIsIlxcdTAwMTIiLCJcXHUwMDEzIiwiXFx1MDAxNCIsIlxcdTAwMTUiLCJcXHUwMDE2IiwiXFx1MDAxNyIsIlxcdTAwMTgiLCJcXHUwMDE5IiwiXFx1MDAxQSIsIlxcdTAwMUIiLCJcXHUwMDFDIiwiXFx1MDAxRCIsIlxcdTAwMUUiLCJcXHUwMDFGIiwiIiwiIiwnXFwiJywiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiXFxcXCIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIiIsIlxcdTAwN0YiLCJcXHUwMDgwIiwiXFx1MDA4MSIsIlxcdTAwODIiLCJcXHUwMDgzIiwiXFx1MDA4NCIsIlxcdTAwODUiLCJcXHUwMDg2IiwiXFx1MDA4NyIsIlxcdTAwODgiLCJcXHUwMDg5IiwiXFx1MDA4QSIsIlxcdTAwOEIiLCJcXHUwMDhDIiwiXFx1MDA4RCIsIlxcdTAwOEUiLCJcXHUwMDhGIiwiXFx1MDA5MCIsIlxcdTAwOTEiLCJcXHUwMDkyIiwiXFx1MDA5MyIsIlxcdTAwOTQiLCJcXHUwMDk1IiwiXFx1MDA5NiIsIlxcdTAwOTciLCJcXHUwMDk4IiwiXFx1MDA5OSIsIlxcdTAwOUEiLCJcXHUwMDlCIiwiXFx1MDA5QyIsIlxcdTAwOUQiLCJcXHUwMDlFIiwiXFx1MDA5RiJdLFpuPU9iamVjdC5mcmVlemUoe30pO2Z1bmN0aW9uIEtuKGUsdCxuPU50KXtjb25zdCBpPW5ldyBNYXA7Zm9yKGNvbnN0IEUgb2YgT2JqZWN0LnZhbHVlcyhUKSlpLnNldChFLGVyKHQsRSkpO2xldCByLHM9QXJyYXkuaXNBcnJheShlKSxvPVtlXSxjPS0xLGY9W10sZD1lLHUseTtjb25zdCBnPVtdLGI9W107ZG97YysrO2NvbnN0IEU9Yz09PW8ubGVuZ3RoLGs9RSYmZi5sZW5ndGghPT0wO2lmKEUpe2lmKHU9Yi5sZW5ndGg9PT0wP3ZvaWQgMDpnW2cubGVuZ3RoLTFdLGQ9eSx5PWIucG9wKCksaylpZihzKXtkPWQuc2xpY2UoKTtsZXQgTD0wO2Zvcihjb25zdFskLHFdb2YgZil7Y29uc3QgTT0kLUw7cT09PW51bGw/KGQuc3BsaWNlKE0sMSksTCsrKTpkW01dPXF9fWVsc2V7ZD1PYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhkKSk7Zm9yKGNvbnN0W0wsJF1vZiBmKWRbTF09JH1jPXIuaW5kZXgsbz1yLmtleXMsZj1yLmVkaXRzLHM9ci5pbkFycmF5LHI9ci5wcmV2fWVsc2UgaWYoeSl7aWYodT1zP2M6b1tjXSxkPXlbdV0sZD09bnVsbCljb250aW51ZTtnLnB1c2godSl9bGV0IHc7aWYoIUFycmF5LmlzQXJyYXkoZCkpe3ZhciBtLE47eHQoZCl8fFNlKCExLGBJbnZhbGlkIEFTVCBOb2RlOiAke1plKGQpfS5gKTtjb25zdCBMPUU/KG09aS5nZXQoZC5raW5kKSk9PT1udWxsfHxtPT09dm9pZCAwP3ZvaWQgMDptLmxlYXZlOihOPWkuZ2V0KGQua2luZCkpPT09bnVsbHx8Tj09PXZvaWQgMD92b2lkIDA6Ti5lbnRlcjtpZih3PUw9PW51bGw/dm9pZCAwOkwuY2FsbCh0LGQsdSx5LGcsYiksdz09PVpuKWJyZWFrO2lmKHc9PT0hMSl7aWYoIUUpe2cucG9wKCk7Y29udGludWV9fWVsc2UgaWYodyE9PXZvaWQgMCYmKGYucHVzaChbdSx3XSksIUUpKWlmKHh0KHcpKWQ9dztlbHNle2cucG9wKCk7Y29udGludWV9fWlmKHc9PT12b2lkIDAmJmsmJmYucHVzaChbdSxkXSksRSlnLnBvcCgpO2Vsc2V7dmFyIHY7cj17aW5BcnJheTpzLGluZGV4OmMsa2V5czpvLGVkaXRzOmYscHJldjpyfSxzPUFycmF5LmlzQXJyYXkoZCksbz1zP2Q6KHY9bltkLmtpbmRdKSE9PW51bGwmJnYhPT12b2lkIDA/djpbXSxjPS0xLGY9W10seSYmYi5wdXNoKHkpLHk9ZH19d2hpbGUociE9PXZvaWQgMCk7cmV0dXJuIGYubGVuZ3RoIT09MD9mW2YubGVuZ3RoLTFdWzFdOmV9ZnVuY3Rpb24gZXIoZSx0KXtjb25zdCBuPWVbdF07cmV0dXJuIHR5cGVvZiBuPT0ib2JqZWN0Ij9uOnR5cGVvZiBuPT0iZnVuY3Rpb24iP3tlbnRlcjpuLGxlYXZlOnZvaWQgMH06e2VudGVyOmUuZW50ZXIsbGVhdmU6ZS5sZWF2ZX19ZnVuY3Rpb24gdHIoZSl7cmV0dXJuIEtuKGUscnIpfWNvbnN0IG5yPTgwLHJyPXtOYW1lOntsZWF2ZTplPT5lLnZhbHVlfSxWYXJpYWJsZTp7bGVhdmU6ZT0+IiQiK2UubmFtZX0sRG9jdW1lbnQ6e2xlYXZlOmU9PnAoZS5kZWZpbml0aW9ucyxgCgpgKX0sT3BlcmF0aW9uRGVmaW5pdGlvbjp7bGVhdmUoZSl7Y29uc3QgdD1TKCIoIixwKGUudmFyaWFibGVEZWZpbml0aW9ucywiLCAiKSwiKSIpLG49cChbZS5vcGVyYXRpb24scChbZS5uYW1lLHRdKSxwKGUuZGlyZWN0aXZlcywiICIpXSwiICIpO3JldHVybihuPT09InF1ZXJ5Ij8iIjpuKyIgIikrZS5zZWxlY3Rpb25TZXR9fSxWYXJpYWJsZURlZmluaXRpb246e2xlYXZlOih7dmFyaWFibGU6ZSx0eXBlOnQsZGVmYXVsdFZhbHVlOm4sZGlyZWN0aXZlczppfSk9PmUrIjogIit0K1MoIiA9ICIsbikrUygiICIscChpLCIgIikpfSxTZWxlY3Rpb25TZXQ6e2xlYXZlOih7c2VsZWN0aW9uczplfSk9PksoZSl9LEZpZWxkOntsZWF2ZSh7YWxpYXM6ZSxuYW1lOnQsYXJndW1lbnRzOm4sZGlyZWN0aXZlczppLHNlbGVjdGlvblNldDpyfSl7Y29uc3Qgcz1TKCIiLGUsIjogIikrdDtsZXQgbz1zK1MoIigiLHAobiwiLCAiKSwiKSIpO3JldHVybiBvLmxlbmd0aD5uciYmKG89cytTKGAoCmAsa2UocChuLGAKYCkpLGAKKWApKSxwKFtvLHAoaSwiICIpLHJdLCIgIil9fSxBcmd1bWVudDp7bGVhdmU6KHtuYW1lOmUsdmFsdWU6dH0pPT5lKyI6ICIrdH0sRnJhZ21lbnRTcHJlYWQ6e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dH0pPT4iLi4uIitlK1MoIiAiLHAodCwiICIpKX0sSW5saW5lRnJhZ21lbnQ6e2xlYXZlOih7dHlwZUNvbmRpdGlvbjplLGRpcmVjdGl2ZXM6dCxzZWxlY3Rpb25TZXQ6bn0pPT5wKFsiLi4uIixTKCJvbiAiLGUpLHAodCwiICIpLG5dLCIgIil9LEZyYWdtZW50RGVmaW5pdGlvbjp7bGVhdmU6KHtuYW1lOmUsdHlwZUNvbmRpdGlvbjp0LHZhcmlhYmxlRGVmaW5pdGlvbnM6bixkaXJlY3RpdmVzOmksc2VsZWN0aW9uU2V0OnJ9KT0+YGZyYWdtZW50ICR7ZX0ke1MoIigiLHAobiwiLCAiKSwiKSIpfSBvbiAke3R9ICR7UygiIixwKGksIiAiKSwiICIpfWArcn0sSW50VmFsdWU6e2xlYXZlOih7dmFsdWU6ZX0pPT5lfSxGbG9hdFZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sU3RyaW5nVmFsdWU6e2xlYXZlOih7dmFsdWU6ZSxibG9jazp0fSk9PnQ/T24oZSk6Sm4oZSl9LEJvb2xlYW5WYWx1ZTp7bGVhdmU6KHt2YWx1ZTplfSk9PmU/InRydWUiOiJmYWxzZSJ9LE51bGxWYWx1ZTp7bGVhdmU6KCk9PiJudWxsIn0sRW51bVZhbHVlOntsZWF2ZTooe3ZhbHVlOmV9KT0+ZX0sTGlzdFZhbHVlOntsZWF2ZTooe3ZhbHVlczplfSk9PiJbIitwKGUsIiwgIikrIl0ifSxPYmplY3RWYWx1ZTp7bGVhdmU6KHtmaWVsZHM6ZX0pPT4ieyIrcChlLCIsICIpKyJ9In0sT2JqZWN0RmllbGQ6e2xlYXZlOih7bmFtZTplLHZhbHVlOnR9KT0+ZSsiOiAiK3R9LERpcmVjdGl2ZTp7bGVhdmU6KHtuYW1lOmUsYXJndW1lbnRzOnR9KT0+IkAiK2UrUygiKCIscCh0LCIsICIpLCIpIil9LE5hbWVkVHlwZTp7bGVhdmU6KHtuYW1lOmV9KT0+ZX0sTGlzdFR5cGU6e2xlYXZlOih7dHlwZTplfSk9PiJbIitlKyJdIn0sTm9uTnVsbFR5cGU6e2xlYXZlOih7dHlwZTplfSk9PmUrIiEifSxTY2hlbWFEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsZGlyZWN0aXZlczp0LG9wZXJhdGlvblR5cGVzOm59KT0+UygiIixlLGAKYCkrcChbInNjaGVtYSIscCh0LCIgIiksSyhuKV0sIiAiKX0sT3BlcmF0aW9uVHlwZURlZmluaXRpb246e2xlYXZlOih7b3BlcmF0aW9uOmUsdHlwZTp0fSk9PmUrIjogIit0fSxTY2FsYXJUeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm59KT0+UygiIixlLGAKYCkrcChbInNjYWxhciIsdCxwKG4sIiAiKV0sIiAiKX0sT2JqZWN0VHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsaW50ZXJmYWNlczpuLGRpcmVjdGl2ZXM6aSxmaWVsZHM6cn0pPT5TKCIiLGUsYApgKStwKFsidHlwZSIsdCxTKCJpbXBsZW1lbnRzICIscChuLCIgJiAiKSkscChpLCIgIiksSyhyKV0sIiAiKX0sRmllbGREZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHR5cGU6aSxkaXJlY3RpdmVzOnJ9KT0+UygiIixlLGAKYCkrdCsoTHQobik/UyhgKApgLGtlKHAobixgCmApKSxgCilgKTpTKCIoIixwKG4sIiwgIiksIikiKSkrIjogIitpK1MoIiAiLHAociwiICIpKX0sSW5wdXRWYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsdHlwZTpuLGRlZmF1bHRWYWx1ZTppLGRpcmVjdGl2ZXM6cn0pPT5TKCIiLGUsYApgKStwKFt0KyI6ICIrbixTKCI9ICIsaSkscChyLCIgIildLCIgIil9LEludGVyZmFjZVR5cGVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGludGVyZmFjZXM6bixkaXJlY3RpdmVzOmksZmllbGRzOnJ9KT0+UygiIixlLGAKYCkrcChbImludGVyZmFjZSIsdCxTKCJpbXBsZW1lbnRzICIscChuLCIgJiAiKSkscChpLCIgIiksSyhyKV0sIiAiKX0sVW5pb25UeXBlRGVmaW5pdGlvbjp7bGVhdmU6KHtkZXNjcmlwdGlvbjplLG5hbWU6dCxkaXJlY3RpdmVzOm4sdHlwZXM6aX0pPT5TKCIiLGUsYApgKStwKFsidW5pb24iLHQscChuLCIgIiksUygiPSAiLHAoaSwiIHwgIikpXSwiICIpfSxFbnVtVHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLHZhbHVlczppfSk9PlMoIiIsZSxgCmApK3AoWyJlbnVtIix0LHAobiwiICIpLEsoaSldLCIgIil9LEVudW1WYWx1ZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpufSk9PlMoIiIsZSxgCmApK3AoW3QscChuLCIgIildLCIgIil9LElucHV0T2JqZWN0VHlwZURlZmluaXRpb246e2xlYXZlOih7ZGVzY3JpcHRpb246ZSxuYW1lOnQsZGlyZWN0aXZlczpuLGZpZWxkczppfSk9PlMoIiIsZSxgCmApK3AoWyJpbnB1dCIsdCxwKG4sIiAiKSxLKGkpXSwiICIpfSxEaXJlY3RpdmVEZWZpbml0aW9uOntsZWF2ZTooe2Rlc2NyaXB0aW9uOmUsbmFtZTp0LGFyZ3VtZW50czpuLHJlcGVhdGFibGU6aSxsb2NhdGlvbnM6cn0pPT5TKCIiLGUsYApgKSsiZGlyZWN0aXZlIEAiK3QrKEx0KG4pP1MoYCgKYCxrZShwKG4sYApgKSksYAopYCk6UygiKCIscChuLCIsICIpLCIpIikpKyhpPyIgcmVwZWF0YWJsZSI6IiIpKyIgb24gIitwKHIsIiB8ICIpfSxTY2hlbWFFeHRlbnNpb246e2xlYXZlOih7ZGlyZWN0aXZlczplLG9wZXJhdGlvblR5cGVzOnR9KT0+cChbImV4dGVuZCBzY2hlbWEiLHAoZSwiICIpLEsodCldLCIgIil9LFNjYWxhclR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGRpcmVjdGl2ZXM6dH0pPT5wKFsiZXh0ZW5kIHNjYWxhciIsZSxwKHQsIiAiKV0sIiAiKX0sT2JqZWN0VHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsaW50ZXJmYWNlczp0LGRpcmVjdGl2ZXM6bixmaWVsZHM6aX0pPT5wKFsiZXh0ZW5kIHR5cGUiLGUsUygiaW1wbGVtZW50cyAiLHAodCwiICYgIikpLHAobiwiICIpLEsoaSldLCIgIil9LEludGVyZmFjZVR5cGVFeHRlbnNpb246e2xlYXZlOih7bmFtZTplLGludGVyZmFjZXM6dCxkaXJlY3RpdmVzOm4sZmllbGRzOml9KT0+cChbImV4dGVuZCBpbnRlcmZhY2UiLGUsUygiaW1wbGVtZW50cyAiLHAodCwiICYgIikpLHAobiwiICIpLEsoaSldLCIgIil9LFVuaW9uVHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsZGlyZWN0aXZlczp0LHR5cGVzOm59KT0+cChbImV4dGVuZCB1bmlvbiIsZSxwKHQsIiAiKSxTKCI9ICIscChuLCIgfCAiKSldLCIgIil9LEVudW1UeXBlRXh0ZW5zaW9uOntsZWF2ZTooe25hbWU6ZSxkaXJlY3RpdmVzOnQsdmFsdWVzOm59KT0+cChbImV4dGVuZCBlbnVtIixlLHAodCwiICIpLEsobildLCIgIil9LElucHV0T2JqZWN0VHlwZUV4dGVuc2lvbjp7bGVhdmU6KHtuYW1lOmUsZGlyZWN0aXZlczp0LGZpZWxkczpufSk9PnAoWyJleHRlbmQgaW5wdXQiLGUscCh0LCIgIiksSyhuKV0sIiAiKX19O2Z1bmN0aW9uIHAoZSx0PSIiKXt2YXIgbjtyZXR1cm4obj1lPT1udWxsP3ZvaWQgMDplLmZpbHRlcihpPT5pKS5qb2luKHQpKSE9PW51bGwmJm4hPT12b2lkIDA/bjoiIn1mdW5jdGlvbiBLKGUpe3JldHVybiBTKGB7CmAsa2UocChlLGAKYCkpLGAKfWApfWZ1bmN0aW9uIFMoZSx0LG49IiIpe3JldHVybiB0IT1udWxsJiZ0IT09IiI/ZSt0K246IiJ9ZnVuY3Rpb24ga2UoZSl7cmV0dXJuIFMoIiAgIixlLnJlcGxhY2UoL1xuL2csYAogIGApKX1mdW5jdGlvbiBMdChlKXt2YXIgdDtyZXR1cm4odD1lPT1udWxsP3ZvaWQgMDplLnNvbWUobj0+bi5pbmNsdWRlcyhgCmApKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9Y29uc3QgUHQ9ZT0+e3ZhciBpLHI7bGV0IHQ7Y29uc3Qgbj1lLmRlZmluaXRpb25zLmZpbHRlcihzPT5zLmtpbmQ9PT0iT3BlcmF0aW9uRGVmaW5pdGlvbiIpO3JldHVybiBuLmxlbmd0aD09PTEmJih0PShyPShpPW5bMF0pPT1udWxsP3ZvaWQgMDppLm5hbWUpPT1udWxsP3ZvaWQgMDpyLnZhbHVlKSx0fSxLZT1lPT57aWYodHlwZW9mIGU9PSJzdHJpbmciKXtsZXQgbjt0cnl7Y29uc3QgaT1rdChlKTtuPVB0KGkpfWNhdGNoKGkpe31yZXR1cm57cXVlcnk6ZSxvcGVyYXRpb25OYW1lOm59fWNvbnN0IHQ9UHQoZSk7cmV0dXJue3F1ZXJ5OnRyKGUpLG9wZXJhdGlvbk5hbWU6dH19O2NsYXNzIGhlIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxuKXtjb25zdCBpPWAke2hlLmV4dHJhY3RNZXNzYWdlKHQpfTogJHtKU09OLnN0cmluZ2lmeSh7cmVzcG9uc2U6dCxyZXF1ZXN0Om59KX1gO3N1cGVyKGkpLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLGhlLnByb3RvdHlwZSksdGhpcy5yZXNwb25zZT10LHRoaXMucmVxdWVzdD1uLHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT09ImZ1bmN0aW9uIiYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxoZSl9c3RhdGljIGV4dHJhY3RNZXNzYWdlKHQpe3ZhciBuLGkscjtyZXR1cm4ocj0oaT0obj10LmVycm9ycyk9PW51bGw/dm9pZCAwOm5bMF0pPT1udWxsP3ZvaWQgMDppLm1lc3NhZ2UpIT1udWxsP3I6YEdyYXBoUUwgRXJyb3IgKENvZGU6ICR7dC5zdGF0dXN9KWB9fXZhciBpcj10eXBlb2YgZ2xvYmFsVGhpcyE9InVuZGVmaW5lZCI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93IT0idW5kZWZpbmVkIj93aW5kb3c6dHlwZW9mIGdsb2JhbCE9InVuZGVmaW5lZCI/Z2xvYmFsOnR5cGVvZiBzZWxmIT0idW5kZWZpbmVkIj9zZWxmOnt9O2Z1bmN0aW9uIEZ0KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCJkZWZhdWx0Iik/ZS5kZWZhdWx0OmV9dmFyIGV0PXtleHBvcnRzOnt9fTsoZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2Ygc2VsZiE9InVuZGVmaW5lZCI/c2VsZjppcixpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcygpe3RoaXMuZmV0Y2g9ITEsdGhpcy5ET01FeGNlcHRpb249bi5ET01FeGNlcHRpb259cmV0dXJuIHMucHJvdG90eXBlPW4sbmV3IHN9KCk7KGZ1bmN0aW9uKHMpeyhmdW5jdGlvbihvKXt2YXIgYz17c2VhcmNoUGFyYW1zOiJVUkxTZWFyY2hQYXJhbXMiaW4gcyxpdGVyYWJsZToiU3ltYm9sImluIHMmJiJpdGVyYXRvciJpbiBTeW1ib2wsYmxvYjoiRmlsZVJlYWRlciJpbiBzJiYiQmxvYiJpbiBzJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEJsb2IsITB9Y2F0Y2goYSl7cmV0dXJuITF9fSgpLGZvcm1EYXRhOiJGb3JtRGF0YSJpbiBzLGFycmF5QnVmZmVyOiJBcnJheUJ1ZmZlciJpbiBzfTtmdW5jdGlvbiBmKGEpe3JldHVybiBhJiZEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKX1pZihjLmFycmF5QnVmZmVyKXZhciBkPVsiW29iamVjdCBJbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OEFycmF5XSIsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIiwiW29iamVjdCBJbnQxNkFycmF5XSIsIltvYmplY3QgVWludDE2QXJyYXldIiwiW29iamVjdCBJbnQzMkFycmF5XSIsIltvYmplY3QgVWludDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDY0QXJyYXldIl0sdT1BcnJheUJ1ZmZlci5pc1ZpZXd8fGZ1bmN0aW9uKGEpe3JldHVybiBhJiZkLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpKT4tMX07ZnVuY3Rpb24geShhKXtpZih0eXBlb2YgYSE9InN0cmluZyImJihhPVN0cmluZyhhKSksL1teYS16MC05XC0jJCUmJyorLl5fYHx+XS9pLnRlc3QoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUiKTtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIHR5cGVvZiBhIT0ic3RyaW5nIiYmKGE9U3RyaW5nKGEpKSxhfWZ1bmN0aW9uIGIoYSl7dmFyIGg9e25leHQ6ZnVuY3Rpb24oKXt2YXIgXz1hLnNoaWZ0KCk7cmV0dXJue2RvbmU6Xz09PXZvaWQgMCx2YWx1ZTpffX19O3JldHVybiBjLml0ZXJhYmxlJiYoaFtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGh9KSxofWZ1bmN0aW9uIG0oYSl7dGhpcy5tYXA9e30sYSBpbnN0YW5jZW9mIG0/YS5mb3JFYWNoKGZ1bmN0aW9uKGgsXyl7dGhpcy5hcHBlbmQoXyxoKX0sdGhpcyk6QXJyYXkuaXNBcnJheShhKT9hLmZvckVhY2goZnVuY3Rpb24oaCl7dGhpcy5hcHBlbmQoaFswXSxoWzFdKX0sdGhpcyk6YSYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSkuZm9yRWFjaChmdW5jdGlvbihoKXt0aGlzLmFwcGVuZChoLGFbaF0pfSx0aGlzKX1tLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oYSxoKXthPXkoYSksaD1nKGgpO3ZhciBfPXRoaXMubWFwW2FdO3RoaXMubWFwW2FdPV8/XysiLCAiK2g6aH0sbS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLm1hcFt5KGEpXX0sbS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhPXkoYSksdGhpcy5oYXMoYSk/dGhpcy5tYXBbYV06bnVsbH0sbS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eSh5KGEpKX0sbS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsaCl7dGhpcy5tYXBbeShhKV09ZyhoKX0sbS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihhLGgpe2Zvcih2YXIgXyBpbiB0aGlzLm1hcCl0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShfKSYmYS5jYWxsKGgsdGhpcy5tYXBbX10sXyx0aGlzKX0sbS5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oaCxfKXthLnB1c2goXyl9KSxiKGEpfSxtLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGgpe2EucHVzaChoKX0pLGIoYSl9LG0ucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGgsXyl7YS5wdXNoKFtfLGhdKX0pLGIoYSl9LGMuaXRlcmFibGUmJihtLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPW0ucHJvdG90eXBlLmVudHJpZXMpO2Z1bmN0aW9uIE4oYSl7aWYoYS5ib2R5VXNlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcigiQWxyZWFkeSByZWFkIikpO2EuYm9keVVzZWQ9ITB9ZnVuY3Rpb24gdihhKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaCxfKXthLm9ubG9hZD1mdW5jdGlvbigpe2goYS5yZXN1bHQpfSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtfKGEuZXJyb3IpfX0pfWZ1bmN0aW9uIEUoYSl7dmFyIGg9bmV3IEZpbGVSZWFkZXIsXz12KGgpO3JldHVybiBoLnJlYWRBc0FycmF5QnVmZmVyKGEpLF99ZnVuY3Rpb24gayhhKXt2YXIgaD1uZXcgRmlsZVJlYWRlcixfPXYoaCk7cmV0dXJuIGgucmVhZEFzVGV4dChhKSxffWZ1bmN0aW9uIHcoYSl7Zm9yKHZhciBoPW5ldyBVaW50OEFycmF5KGEpLF89bmV3IEFycmF5KGgubGVuZ3RoKSxBPTA7QTxoLmxlbmd0aDtBKyspX1tBXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGhbQV0pO3JldHVybiBfLmpvaW4oIiIpfWZ1bmN0aW9uIEwoYSl7aWYoYS5zbGljZSlyZXR1cm4gYS5zbGljZSgwKTt2YXIgaD1uZXcgVWludDhBcnJheShhLmJ5dGVMZW5ndGgpO3JldHVybiBoLnNldChuZXcgVWludDhBcnJheShhKSksaC5idWZmZXJ9ZnVuY3Rpb24gJCgpe3JldHVybiB0aGlzLmJvZHlVc2VkPSExLHRoaXMuX2luaXRCb2R5PWZ1bmN0aW9uKGEpe3RoaXMuX2JvZHlJbml0PWEsYT90eXBlb2YgYT09InN0cmluZyI/dGhpcy5fYm9keVRleHQ9YTpjLmJsb2ImJkJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYSk/dGhpcy5fYm9keUJsb2I9YTpjLmZvcm1EYXRhJiZGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKT90aGlzLl9ib2R5Rm9ybURhdGE9YTpjLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGEpP3RoaXMuX2JvZHlUZXh0PWEudG9TdHJpbmcoKTpjLmFycmF5QnVmZmVyJiZjLmJsb2ImJmYoYSk/KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcj1MKGEuYnVmZmVyKSx0aGlzLl9ib2R5SW5pdD1uZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpOmMuYXJyYXlCdWZmZXImJihBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihhKXx8dShhKSk/dGhpcy5fYm9keUFycmF5QnVmZmVyPUwoYSk6dGhpcy5fYm9keVRleHQ9YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk6dGhpcy5fYm9keVRleHQ9IiIsdGhpcy5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIil8fCh0eXBlb2YgYT09InN0cmluZyI/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIiwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Iik6dGhpcy5fYm9keUJsb2ImJnRoaXMuX2JvZHlCbG9iLnR5cGU/dGhpcy5oZWFkZXJzLnNldCgiY29udGVudC10eXBlIix0aGlzLl9ib2R5QmxvYi50eXBlKTpjLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGEpJiZ0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpKX0sYy5ibG9iJiYodGhpcy5ibG9iPWZ1bmN0aW9uKCl7dmFyIGE9Tih0aGlzKTtpZihhKXJldHVybiBhO2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSl9LHRoaXMuYXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keUFycmF5QnVmZmVyP04odGhpcyl8fFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpOnRoaXMuYmxvYigpLnRoZW4oRSl9KSx0aGlzLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYT1OKHRoaXMpO2lmKGEpcmV0dXJuIGE7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIGsodGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHcodGhpcy5fYm9keUFycmF5QnVmZmVyKSk7aWYodGhpcy5fYm9keUZvcm1EYXRhKXRocm93IG5ldyBFcnJvcigiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0Iik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCl9LGMuZm9ybURhdGEmJih0aGlzLmZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oTyl9KSx0aGlzLmpzb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKX0sdGhpc312YXIgcT1bIkRFTEVURSIsIkdFVCIsIkhFQUQiLCJPUFRJT05TIiwiUE9TVCIsIlBVVCJdO2Z1bmN0aW9uIE0oYSl7dmFyIGg9YS50b1VwcGVyQ2FzZSgpO3JldHVybiBxLmluZGV4T2YoaCk+LTE/aDphfWZ1bmN0aW9uIEkoYSxoKXtoPWh8fHt9O3ZhciBfPWguYm9keTtpZihhIGluc3RhbmNlb2YgSSl7aWYoYS5ib2R5VXNlZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKTt0aGlzLnVybD1hLnVybCx0aGlzLmNyZWRlbnRpYWxzPWEuY3JlZGVudGlhbHMsaC5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyBtKGEuaGVhZGVycykpLHRoaXMubWV0aG9kPWEubWV0aG9kLHRoaXMubW9kZT1hLm1vZGUsdGhpcy5zaWduYWw9YS5zaWduYWwsIV8mJmEuX2JvZHlJbml0IT1udWxsJiYoXz1hLl9ib2R5SW5pdCxhLmJvZHlVc2VkPSEwKX1lbHNlIHRoaXMudXJsPVN0cmluZyhhKTtpZih0aGlzLmNyZWRlbnRpYWxzPWguY3JlZGVudGlhbHN8fHRoaXMuY3JlZGVudGlhbHN8fCJzYW1lLW9yaWdpbiIsKGguaGVhZGVyc3x8IXRoaXMuaGVhZGVycykmJih0aGlzLmhlYWRlcnM9bmV3IG0oaC5oZWFkZXJzKSksdGhpcy5tZXRob2Q9TShoLm1ldGhvZHx8dGhpcy5tZXRob2R8fCJHRVQiKSx0aGlzLm1vZGU9aC5tb2RlfHx0aGlzLm1vZGV8fG51bGwsdGhpcy5zaWduYWw9aC5zaWduYWx8fHRoaXMuc2lnbmFsLHRoaXMucmVmZXJyZXI9bnVsbCwodGhpcy5tZXRob2Q9PT0iR0VUInx8dGhpcy5tZXRob2Q9PT0iSEVBRCIpJiZfKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzIik7dGhpcy5faW5pdEJvZHkoXyl9SS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEkodGhpcyx7Ym9keTp0aGlzLl9ib2R5SW5pdH0pfTtmdW5jdGlvbiBPKGEpe3ZhciBoPW5ldyBGb3JtRGF0YTtyZXR1cm4gYS50cmltKCkuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKF8pe2lmKF8pe3ZhciBBPV8uc3BsaXQoIj0iKSxSPUEuc2hpZnQoKS5yZXBsYWNlKC9cKy9nLCIgIikseD1BLmpvaW4oIj0iKS5yZXBsYWNlKC9cKy9nLCIgIik7aC5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KFIpLGRlY29kZVVSSUNvbXBvbmVudCh4KSl9fSksaH1mdW5jdGlvbiBqKGEpe3ZhciBoPW5ldyBtLF89YS5yZXBsYWNlKC9ccj9cbltcdCBdKy9nLCIgIik7cmV0dXJuIF8uc3BsaXQoL1xyP1xuLykuZm9yRWFjaChmdW5jdGlvbihBKXt2YXIgUj1BLnNwbGl0KCI6IikseD1SLnNoaWZ0KCkudHJpbSgpO2lmKHgpe3ZhciBzZT1SLmpvaW4oIjoiKS50cmltKCk7aC5hcHBlbmQoeCxzZSl9fSksaH0kLmNhbGwoSS5wcm90b3R5cGUpO2Z1bmN0aW9uIFUoYSxoKXtofHwoaD17fSksdGhpcy50eXBlPSJkZWZhdWx0Iix0aGlzLnN0YXR1cz1oLnN0YXR1cz09PXZvaWQgMD8yMDA6aC5zdGF0dXMsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDAsdGhpcy5zdGF0dXNUZXh0PSJzdGF0dXNUZXh0ImluIGg/aC5zdGF0dXNUZXh0OiJPSyIsdGhpcy5oZWFkZXJzPW5ldyBtKGguaGVhZGVycyksdGhpcy51cmw9aC51cmx8fCIiLHRoaXMuX2luaXRCb2R5KGEpfSQuY2FsbChVLnByb3RvdHlwZSksVS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFUodGhpcy5fYm9keUluaXQse3N0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnRoaXMuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyBtKHRoaXMuaGVhZGVycyksdXJsOnRoaXMudXJsfSl9LFUuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVShudWxsLHtzdGF0dXM6MCxzdGF0dXNUZXh0OiIifSk7cmV0dXJuIGEudHlwZT0iZXJyb3IiLGF9O3ZhciBIPVszMDEsMzAyLDMwMywzMDcsMzA4XTtVLnJlZGlyZWN0PWZ1bmN0aW9uKGEsaCl7aWYoSC5pbmRleE9mKGgpPT09LTEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgc3RhdHVzIGNvZGUiKTtyZXR1cm4gbmV3IFUobnVsbCx7c3RhdHVzOmgsaGVhZGVyczp7bG9jYXRpb246YX19KX0sby5ET01FeGNlcHRpb249cy5ET01FeGNlcHRpb247dHJ5e25ldyBvLkRPTUV4Y2VwdGlvbn1jYXRjaChhKXtvLkRPTUV4Y2VwdGlvbj1mdW5jdGlvbihoLF8pe3RoaXMubWVzc2FnZT1oLHRoaXMubmFtZT1fO3ZhciBBPUVycm9yKGgpO3RoaXMuc3RhY2s9QS5zdGFja30sby5ET01FeGNlcHRpb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxvLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9by5ET01FeGNlcHRpb259ZnVuY3Rpb24gUShhLGgpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihfLEEpe3ZhciBSPW5ldyBJKGEsaCk7aWYoUi5zaWduYWwmJlIuc2lnbmFsLmFib3J0ZWQpcmV0dXJuIEEobmV3IG8uRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKTt2YXIgeD1uZXcgWE1MSHR0cFJlcXVlc3Q7ZnVuY3Rpb24gc2UoKXt4LmFib3J0KCl9eC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgej17c3RhdHVzOnguc3RhdHVzLHN0YXR1c1RleHQ6eC5zdGF0dXNUZXh0LGhlYWRlcnM6aih4LmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHwiIil9O3oudXJsPSJyZXNwb25zZVVSTCJpbiB4P3gucmVzcG9uc2VVUkw6ei5oZWFkZXJzLmdldCgiWC1SZXF1ZXN0LVVSTCIpO3ZhciByZT0icmVzcG9uc2UiaW4geD94LnJlc3BvbnNlOngucmVzcG9uc2VUZXh0O18obmV3IFUocmUseikpfSx4Lm9uZXJyb3I9ZnVuY3Rpb24oKXtBKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9LHgub250aW1lb3V0PWZ1bmN0aW9uKCl7QShuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSx4Lm9uYWJvcnQ9ZnVuY3Rpb24oKXtBKG5ldyBvLkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSl9LHgub3BlbihSLm1ldGhvZCxSLnVybCwhMCksUi5jcmVkZW50aWFscz09PSJpbmNsdWRlIj94LndpdGhDcmVkZW50aWFscz0hMDpSLmNyZWRlbnRpYWxzPT09Im9taXQiJiYoeC53aXRoQ3JlZGVudGlhbHM9ITEpLCJyZXNwb25zZVR5cGUiaW4geCYmYy5ibG9iJiYoeC5yZXNwb25zZVR5cGU9ImJsb2IiKSxSLmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih6LHJlKXt4LnNldFJlcXVlc3RIZWFkZXIocmUseil9KSxSLnNpZ25hbCYmKFIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixzZSkseC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt4LnJlYWR5U3RhdGU9PT00JiZSLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsc2UpfSkseC5zZW5kKHR5cGVvZiBSLl9ib2R5SW5pdD09InVuZGVmaW5lZCI/bnVsbDpSLl9ib2R5SW5pdCl9KX1yZXR1cm4gUS5wb2x5ZmlsbD0hMCxzLmZldGNofHwocy5mZXRjaD1RLHMuSGVhZGVycz1tLHMuUmVxdWVzdD1JLHMuUmVzcG9uc2U9VSksby5IZWFkZXJzPW0sby5SZXF1ZXN0PUksby5SZXNwb25zZT1VLG8uZmV0Y2g9USxPYmplY3QuZGVmaW5lUHJvcGVydHkobywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksb30pKHt9KX0pKGkpLGkuZmV0Y2gucG9ueWZpbGw9ITAsZGVsZXRlIGkuZmV0Y2gucG9seWZpbGw7dmFyIHI9aTt0PXIuZmV0Y2gsdC5kZWZhdWx0PXIuZmV0Y2gsdC5mZXRjaD1yLmZldGNoLHQuSGVhZGVycz1yLkhlYWRlcnMsdC5SZXF1ZXN0PXIuUmVxdWVzdCx0LlJlc3BvbnNlPXIuUmVzcG9uc2UsZS5leHBvcnRzPXR9KShldCxldC5leHBvcnRzKTt2YXIgUmU9ZXQuZXhwb3J0cyxMZT1GdChSZSksc3I9Qih7X19wcm90b19fOm51bGwsZGVmYXVsdDpMZX0sW1JlXSk7Y29uc3QgZGU9ZT0+e2xldCB0PXt9O3JldHVybiBlJiYodHlwZW9mIEhlYWRlcnMhPSJ1bmRlZmluZWQiJiZlIGluc3RhbmNlb2YgSGVhZGVyc3x8c3ImJlJlLkhlYWRlcnMmJmUgaW5zdGFuY2VvZiBSZS5IZWFkZXJzP3Q9ZG4oZSk6QXJyYXkuaXNBcnJheShlKT9lLmZvckVhY2goKFtuLGldKT0+e24mJmkhPT12b2lkIDAmJih0W25dPWkpfSk6dD1lKSx0fSxCdD1lPT5lLnJlcGxhY2UoLyhbXHMsXXwjW15cblxyXSspKy9nLCIgIikudHJpbSgpLG9yPWU9PntpZighQXJyYXkuaXNBcnJheShlLnF1ZXJ5KSl7Y29uc3QgaT1lLHI9W2BxdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChCdChpLnF1ZXJ5KSl9YF07cmV0dXJuIGUudmFyaWFibGVzJiZyLnB1c2goYHZhcmlhYmxlcz0ke2VuY29kZVVSSUNvbXBvbmVudChpLmpzb25TZXJpYWxpemVyLnN0cmluZ2lmeShpLnZhcmlhYmxlcykpfWApLGkub3BlcmF0aW9uTmFtZSYmci5wdXNoKGBvcGVyYXRpb25OYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGkub3BlcmF0aW9uTmFtZSl9YCksci5qb2luKCImIil9aWYodHlwZW9mIGUudmFyaWFibGVzIT0idW5kZWZpbmVkIiYmIUFycmF5LmlzQXJyYXkoZS52YXJpYWJsZXMpKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGNyZWF0ZSBxdWVyeSB3aXRoIGdpdmVuIHZhcmlhYmxlIHR5cGUsIGFycmF5IGV4cGVjdGVkIik7Y29uc3QgdD1lLG49ZS5xdWVyeS5yZWR1Y2UoKGkscixzKT0+KGkucHVzaCh7cXVlcnk6QnQociksdmFyaWFibGVzOnQudmFyaWFibGVzP3QuanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KHQudmFyaWFibGVzW3NdKTp2b2lkIDB9KSxpKSxbXSk7cmV0dXJuYHF1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHQuanNvblNlcmlhbGl6ZXIuc3RyaW5naWZ5KG4pKX1gfSxhcj1lPT50PT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgTjtjb25zdHt1cmw6bixxdWVyeTppLHZhcmlhYmxlczpyLG9wZXJhdGlvbk5hbWU6cyxmZXRjaDpvLGZldGNoT3B0aW9uczpjLG1pZGRsZXdhcmU6Zn09dCxkPVAoe30sdC5oZWFkZXJzKTtsZXQgdT0iIix5O2U9PT0iUE9TVCI/KHk9dXIoaSxyLHMsYy5qc29uU2VyaWFsaXplciksdHlwZW9mIHk9PSJzdHJpbmciJiYoZFsiQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL2pzb24iKSk6dT1vcih7cXVlcnk6aSx2YXJpYWJsZXM6cixvcGVyYXRpb25OYW1lOnMsanNvblNlcmlhbGl6ZXI6KE49Yy5qc29uU2VyaWFsaXplcikhPW51bGw/Tjp6ZX0pO2NvbnN0IGc9UCh7bWV0aG9kOmUsaGVhZGVyczpkLGJvZHk6eX0sYyk7bGV0IGI9bixtPWc7aWYoZil7Y29uc3Qgdj15aWVsZCBQcm9taXNlLnJlc29sdmUoZihVZShQKHt9LGcpLHt1cmw6bixvcGVyYXRpb25OYW1lOnMsdmFyaWFibGVzOnJ9KSkpLHt1cmw6a309dix3PXZlKHYsWyJ1cmwiXSk7Yj1rLG09d31yZXR1cm4gdSYmKGI9YCR7Yn0/JHt1fWApLHlpZWxkIG8oYixtKX0pO2NsYXNzIGNye2NvbnN0cnVjdG9yKHQsbj17fSl7dGhpcy51cmw9dCx0aGlzLnJlcXVlc3RDb25maWc9bix0aGlzLnJhd1JlcXVlc3Q9KC4uLmkpPT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdFtyLHMsb109aSxjPW1uKHIscyxvKSx2PXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpmLGZldGNoOmQ9TGUsbWV0aG9kOnU9IlBPU1QiLHJlcXVlc3RNaWRkbGV3YXJlOnkscmVzcG9uc2VNaWRkbGV3YXJlOmd9PXYsYj12ZSh2LFsiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJyZXNwb25zZU1pZGRsZXdhcmUiXSkse3VybDptfT10aGlzO2Muc2lnbmFsIT09dm9pZCAwJiYoYi5zaWduYWw9Yy5zaWduYWwpO2NvbnN0e29wZXJhdGlvbk5hbWU6Tn09S2UoYy5xdWVyeSk7cmV0dXJuIHR0KHt1cmw6bSxxdWVyeTpjLnF1ZXJ5LHZhcmlhYmxlczpjLnZhcmlhYmxlcyxoZWFkZXJzOlAoUCh7fSxkZShudChmKSkpLGRlKGMucmVxdWVzdEhlYWRlcnMpKSxvcGVyYXRpb25OYW1lOk4sZmV0Y2g6ZCxtZXRob2Q6dSxmZXRjaE9wdGlvbnM6YixtaWRkbGV3YXJlOnl9KS50aGVuKEU9PihnJiZnKEUpLEUpKS5jYXRjaChFPT57dGhyb3cgZyYmZyhFKSxFfSl9KX1yZXF1ZXN0KHQsLi4ubil7cmV0dXJuIFgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0W2kscl09bixzPXBuKHQsaSxyKSxOPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpvLGZldGNoOmM9TGUsbWV0aG9kOmY9IlBPU1QiLHJlcXVlc3RNaWRkbGV3YXJlOmQscmVzcG9uc2VNaWRkbGV3YXJlOnV9PU4seT12ZShOLFsiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJyZXNwb25zZU1pZGRsZXdhcmUiXSkse3VybDpnfT10aGlzO3Muc2lnbmFsIT09dm9pZCAwJiYoeS5zaWduYWw9cy5zaWduYWwpO2NvbnN0e3F1ZXJ5OmIsb3BlcmF0aW9uTmFtZTptfT1LZShzLmRvY3VtZW50KTtyZXR1cm4gdHQoe3VybDpnLHF1ZXJ5OmIsdmFyaWFibGVzOnMudmFyaWFibGVzLGhlYWRlcnM6UChQKHt9LGRlKG50KG8pKSksZGUocy5yZXF1ZXN0SGVhZGVycykpLG9wZXJhdGlvbk5hbWU6bSxmZXRjaDpjLG1ldGhvZDpmLGZldGNoT3B0aW9uczp5LG1pZGRsZXdhcmU6ZH0pLnRoZW4odj0+KHUmJnUodiksdi5kYXRhKSkuY2F0Y2godj0+e3Rocm93IHUmJnUodiksdn0pfSl9YmF0Y2hSZXF1ZXN0cyh0LG4pe3ZhciBkO2NvbnN0IGk9eW4odCxuKSxmPXRoaXMucmVxdWVzdENvbmZpZyx7aGVhZGVyczpyfT1mLHM9dmUoZixbImhlYWRlcnMiXSk7aS5zaWduYWwhPT12b2lkIDAmJihzLnNpZ25hbD1pLnNpZ25hbCk7Y29uc3Qgbz1pLmRvY3VtZW50cy5tYXAoKHtkb2N1bWVudDp1fSk9PktlKHUpLnF1ZXJ5KSxjPWkuZG9jdW1lbnRzLm1hcCgoe3ZhcmlhYmxlczp1fSk9PnUpO3JldHVybiB0dCh7dXJsOnRoaXMudXJsLHF1ZXJ5Om8sdmFyaWFibGVzOmMsaGVhZGVyczpQKFAoe30sZGUobnQocikpKSxkZShpLnJlcXVlc3RIZWFkZXJzKSksb3BlcmF0aW9uTmFtZTp2b2lkIDAsZmV0Y2g6KGQ9dGhpcy5yZXF1ZXN0Q29uZmlnLmZldGNoKSE9bnVsbD9kOkxlLG1ldGhvZDp0aGlzLnJlcXVlc3RDb25maWcubWV0aG9kfHwiUE9TVCIsZmV0Y2hPcHRpb25zOnMsbWlkZGxld2FyZTp0aGlzLnJlcXVlc3RDb25maWcucmVxdWVzdE1pZGRsZXdhcmV9KS50aGVuKHU9Pih0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlJiZ0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlKHUpLHUuZGF0YSkpLmNhdGNoKHU9Pnt0aHJvdyB0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlJiZ0aGlzLnJlcXVlc3RDb25maWcucmVzcG9uc2VNaWRkbGV3YXJlKHUpLHV9KX1zZXRIZWFkZXJzKHQpe3JldHVybiB0aGlzLnJlcXVlc3RDb25maWcuaGVhZGVycz10LHRoaXN9c2V0SGVhZGVyKHQsbil7Y29uc3R7aGVhZGVyczppfT10aGlzLnJlcXVlc3RDb25maWc7cmV0dXJuIGk/aVt0XT1uOnRoaXMucmVxdWVzdENvbmZpZy5oZWFkZXJzPXtbdF06bn0sdGhpc31zZXRFbmRwb2ludCh0KXtyZXR1cm4gdGhpcy51cmw9dCx0aGlzfX1jb25zdCB0dD1lPT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgdSx5O2NvbnN0e3F1ZXJ5OnQsdmFyaWFibGVzOm4sZmV0Y2hPcHRpb25zOml9PWUscj1hcihobigodT1lLm1ldGhvZCkhPW51bGw/dToicG9zdCIpKSxzPUFycmF5LmlzQXJyYXkoZS5xdWVyeSksbz15aWVsZCByKGUpLGM9eWllbGQgbHIobywoeT1pLmpzb25TZXJpYWxpemVyKSE9bnVsbD95OnplKSxmPUFycmF5LmlzQXJyYXkoYyk/IWMuc29tZSgoe2RhdGE6Yn0pPT4hYik6ISFjLmRhdGEsZD1BcnJheS5pc0FycmF5KGMpfHwhYy5lcnJvcnN8fEFycmF5LmlzQXJyYXkoYy5lcnJvcnMpJiYhYy5lcnJvcnMubGVuZ3RofHxpLmVycm9yUG9saWN5PT09ImFsbCJ8fGkuZXJyb3JQb2xpY3k9PT0iaWdub3JlIjtpZihvLm9rJiZkJiZmKXtjb25zdCBnPShBcnJheS5pc0FycmF5KGMpLGMpLHtlcnJvcnM6Yn09ZyxtPXZlKGcsWyJlcnJvcnMiXSksTj1pLmVycm9yUG9saWN5PT09Imlnbm9yZSI/bTpjO3JldHVybiBVZShQKHt9LHM/e2RhdGE6Tn06Tikse2hlYWRlcnM6by5oZWFkZXJzLHN0YXR1czpvLnN0YXR1c30pfWVsc2V7Y29uc3QgYj10eXBlb2YgYz09InN0cmluZyI/e2Vycm9yOmN9OmM7dGhyb3cgbmV3IGhlKFVlKFAoe30sYikse3N0YXR1czpvLnN0YXR1cyxoZWFkZXJzOm8uaGVhZGVyc30pLHtxdWVyeTp0LHZhcmlhYmxlczpufSl9fSksdXI9KGUsdCxuLGkpPT57Y29uc3Qgcj1pIT1udWxsP2k6emU7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHIuc3RyaW5naWZ5KHtxdWVyeTplLHZhcmlhYmxlczp0LG9wZXJhdGlvbk5hbWU6bn0pO2lmKHR5cGVvZiB0IT0idW5kZWZpbmVkIiYmIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgY3JlYXRlIHJlcXVlc3QgYm9keSB3aXRoIGdpdmVuIHZhcmlhYmxlIHR5cGUsIGFycmF5IGV4cGVjdGVkIik7Y29uc3Qgcz1lLnJlZHVjZSgobyxjLGYpPT4oby5wdXNoKHtxdWVyeTpjLHZhcmlhYmxlczp0P3RbZl06dm9pZCAwfSksbyksW10pO3JldHVybiByLnN0cmluZ2lmeShzKX0sbHI9KGUsdCk9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBuO3JldHVybiBlLmhlYWRlcnMuZm9yRWFjaCgoaSxyKT0+e3IudG9Mb3dlckNhc2UoKT09PSJjb250ZW50LXR5cGUiJiYobj1pKX0pLG4mJihuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYXBwbGljYXRpb24vanNvbiIpfHxuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgiYXBwbGljYXRpb24vZ3JhcGhxbCtqc29uIil8fG4udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCJhcHBsaWNhdGlvbi9ncmFwaHFsLXJlc3BvbnNlK2pzb24iKSk/dC5wYXJzZSh5aWVsZCBlLnRleHQoKSk6ZS50ZXh0KCl9KSxudD1lPT50eXBlb2YgZT09ImZ1bmN0aW9uIj9lKCk6ZTt2YXIgcnQ9e2V4cG9ydHM6e319OyhmdW5jdGlvbihlLHQpe3Q9ZS5leHBvcnRzPW4sdC5nZXRTZXJpYWxpemU9aTtmdW5jdGlvbiBuKHIscyxvLGMpe3JldHVybiBKU09OLnN0cmluZ2lmeShyLGkocyxjKSxvKX1mdW5jdGlvbiBpKHIscyl7dmFyIG89W10sYz1bXTtyZXR1cm4gcz09bnVsbCYmKHM9ZnVuY3Rpb24oZixkKXtyZXR1cm4gb1swXT09PWQ/IltDaXJjdWxhciB+XSI6IltDaXJjdWxhciB+LiIrYy5zbGljZSgwLG8uaW5kZXhPZihkKSkuam9pbigiLiIpKyJdIn0pLGZ1bmN0aW9uKGYsZCl7aWYoby5sZW5ndGg+MCl7dmFyIHU9by5pbmRleE9mKHRoaXMpO351P28uc3BsaWNlKHUrMSk6by5wdXNoKHRoaXMpLH51P2Muc3BsaWNlKHUsMS8wLGYpOmMucHVzaChmKSx+by5pbmRleE9mKGQpJiYoZD1zLmNhbGwodGhpcyxmLGQpKX1lbHNlIG8ucHVzaChkKTtyZXR1cm4gcj09bnVsbD9kOnIuY2FsbCh0aGlzLGYsZCl9fX0pKHJ0LHJ0LmV4cG9ydHMpO3ZhciBmcj1ydC5leHBvcnRzLHBlPUZ0KGZyKTtjb25zdCAkdD0xZTMqMTU7dmFyIFBlPWZ1bmN0aW9uKCl7cmV0dXJuIFBlPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgbixpPTEscj1hcmd1bWVudHMubGVuZ3RoO2k8cjtpKyspe249YXJndW1lbnRzW2ldO2Zvcih2YXIgcyBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHMpJiYodFtzXT1uW3NdKX1yZXR1cm4gdH0sUGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0eXBlb2YgU3VwcHJlc3NlZEVycm9yPT0iZnVuY3Rpb24iJiZTdXBwcmVzc2VkRXJyb3I7dmFyIEZlPW5ldyBNYXAsaXQ9bmV3IE1hcCxNdD0hMCxCZT0hMTtmdW5jdGlvbiBVdChlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXHMsXSsvZywiICIpLnRyaW0oKX1mdW5jdGlvbiBocihlKXtyZXR1cm4gVXQoZS5zb3VyY2UuYm9keS5zdWJzdHJpbmcoZS5zdGFydCxlLmVuZCkpfWZ1bmN0aW9uIGRyKGUpe3ZhciB0PW5ldyBTZXQsbj1bXTtyZXR1cm4gZS5kZWZpbml0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKGkua2luZD09PSJGcmFnbWVudERlZmluaXRpb24iKXt2YXIgcj1pLm5hbWUudmFsdWUscz1ocihpLmxvYyksbz1pdC5nZXQocik7byYmIW8uaGFzKHMpP010JiZjb25zb2xlLndhcm4oIldhcm5pbmc6IGZyYWdtZW50IHdpdGggbmFtZSAiK3IrYCBhbHJlYWR5IGV4aXN0cy4KZ3JhcGhxbC10YWcgZW5mb3JjZXMgYWxsIGZyYWdtZW50IG5hbWVzIGFjcm9zcyB5b3VyIGFwcGxpY2F0aW9uIHRvIGJlIHVuaXF1ZTsgcmVhZCBtb3JlIGFib3V0CnRoaXMgaW4gdGhlIGRvY3M6IGh0dHA6Ly9kZXYuYXBvbGxvZGF0YS5jb20vY29yZS9mcmFnbWVudHMuaHRtbCN1bmlxdWUtbmFtZXNgKTpvfHxpdC5zZXQocixvPW5ldyBTZXQpLG8uYWRkKHMpLHQuaGFzKHMpfHwodC5hZGQocyksbi5wdXNoKGkpKX1lbHNlIG4ucHVzaChpKX0pLFBlKFBlKHt9LGUpLHtkZWZpbml0aW9uczpufSl9ZnVuY3Rpb24gcHIoZSl7dmFyIHQ9bmV3IFNldChlLmRlZmluaXRpb25zKTt0LmZvckVhY2goZnVuY3Rpb24oaSl7aS5sb2MmJmRlbGV0ZSBpLmxvYyxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBzPWlbcl07cyYmdHlwZW9mIHM9PSJvYmplY3QiJiZ0LmFkZChzKX0pfSk7dmFyIG49ZS5sb2M7cmV0dXJuIG4mJihkZWxldGUgbi5zdGFydFRva2VuLGRlbGV0ZSBuLmVuZFRva2VuKSxlfWZ1bmN0aW9uIG1yKGUpe3ZhciB0PVV0KGUpO2lmKCFGZS5oYXModCkpe3ZhciBuPWt0KGUse2V4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzOkJlLGFsbG93TGVnYWN5RnJhZ21lbnRWYXJpYWJsZXM6QmV9KTtpZighbnx8bi5raW5kIT09IkRvY3VtZW50Iil0aHJvdyBuZXcgRXJyb3IoIk5vdCBhIHZhbGlkIEdyYXBoUUwgZG9jdW1lbnQuIik7RmUuc2V0KHQscHIoZHIobikpKX1yZXR1cm4gRmUuZ2V0KHQpfWZ1bmN0aW9uIFcoZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dHlwZW9mIGU9PSJzdHJpbmciJiYoZT1bZV0pO3ZhciBpPWVbMF07cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihyLHMpe3ImJnIua2luZD09PSJEb2N1bWVudCI/aSs9ci5sb2Muc291cmNlLmJvZHk6aSs9cixpKz1lW3MrMV19KSxtcihpKX1mdW5jdGlvbiB5cigpe0ZlLmNsZWFyKCksaXQuY2xlYXIoKX1mdW5jdGlvbiB2cigpe010PSExfWZ1bmN0aW9uIGdyKCl7QmU9ITB9ZnVuY3Rpb24gRXIoKXtCZT0hMX12YXIgQWU9e2dxbDpXLHJlc2V0Q2FjaGVzOnlyLGRpc2FibGVGcmFnbWVudFdhcm5pbmdzOnZyLGVuYWJsZUV4cGVyaW1lbnRhbEZyYWdtZW50VmFyaWFibGVzOmdyLGRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlczpFcn07KGZ1bmN0aW9uKGUpe2UuZ3FsPUFlLmdxbCxlLnJlc2V0Q2FjaGVzPUFlLnJlc2V0Q2FjaGVzLGUuZGlzYWJsZUZyYWdtZW50V2FybmluZ3M9QWUuZGlzYWJsZUZyYWdtZW50V2FybmluZ3MsZS5lbmFibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcz1BZS5lbmFibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcyxlLmRpc2FibGVFeHBlcmltZW50YWxGcmFnbWVudFZhcmlhYmxlcz1BZS5kaXNhYmxlRXhwZXJpbWVudGFsRnJhZ21lbnRWYXJpYWJsZXN9KShXfHwoVz17fSkpLFcuZGVmYXVsdD1XO3ZhciBWdDsoZnVuY3Rpb24oZSl7ZS5CaWxsaW5nUXVvdGFFeGNlZWRlZD0iQmlsbGluZ1F1b3RhRXhjZWVkZWQifSkoVnR8fChWdD17fSkpO2NvbnN0IF9yPVdgCgltdXRhdGlvbiBQdXNoUGF5bG9hZCgKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkcGF5bG9hZF9pZDogSUQhCgkJJGV2ZW50czogUmVwbGF5RXZlbnRzSW5wdXQhCgkJJG1lc3NhZ2VzOiBTdHJpbmchCgkJJHJlc291cmNlczogU3RyaW5nIQoJCSR3ZWJfc29ja2V0X2V2ZW50czogU3RyaW5nIQoJCSRlcnJvcnM6IFtFcnJvck9iamVjdElucHV0XSEKCQkkaXNfYmVhY29uOiBCb29sZWFuCgkJJGhhc19zZXNzaW9uX3VubG9hZGVkOiBCb29sZWFuCgkJJGhpZ2hsaWdodF9sb2dzOiBTdHJpbmcKCSkgewoJCXB1c2hQYXlsb2FkKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCXBheWxvYWRfaWQ6ICRwYXlsb2FkX2lkCgkJCWV2ZW50czogJGV2ZW50cwoJCQltZXNzYWdlczogJG1lc3NhZ2VzCgkJCXJlc291cmNlczogJHJlc291cmNlcwoJCQl3ZWJfc29ja2V0X2V2ZW50czogJHdlYl9zb2NrZXRfZXZlbnRzCgkJCWVycm9yczogJGVycm9ycwoJCQlpc19iZWFjb246ICRpc19iZWFjb24KCQkJaGFzX3Nlc3Npb25fdW5sb2FkZWQ6ICRoYXNfc2Vzc2lvbl91bmxvYWRlZAoJCQloaWdobGlnaHRfbG9nczogJGhpZ2hsaWdodF9sb2dzCgkJKQoJfQpgLFRyPVdgCgltdXRhdGlvbiBQdXNoUGF5bG9hZENvbXByZXNzZWQoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHBheWxvYWRfaWQ6IElEIQoJCSRkYXRhOiBTdHJpbmchCgkpIHsKCQlwdXNoUGF5bG9hZENvbXByZXNzZWQoCgkJCXNlc3Npb25fc2VjdXJlX2lkOiAkc2Vzc2lvbl9zZWN1cmVfaWQKCQkJcGF5bG9hZF9pZDogJHBheWxvYWRfaWQKCQkJZGF0YTogJGRhdGEKCQkpCgl9CmAsYnI9V2AKCW11dGF0aW9uIGlkZW50aWZ5U2Vzc2lvbigKCQkkc2Vzc2lvbl9zZWN1cmVfaWQ6IFN0cmluZyEKCQkkdXNlcl9pZGVudGlmaWVyOiBTdHJpbmchCgkJJHVzZXJfb2JqZWN0OiBBbnkKCSkgewoJCWlkZW50aWZ5U2Vzc2lvbigKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX2lkZW50aWZpZXI6ICR1c2VyX2lkZW50aWZpZXIKCQkJdXNlcl9vYmplY3Q6ICR1c2VyX29iamVjdAoJCSkKCX0KYCxOcj1XYAoJbXV0YXRpb24gYWRkU2Vzc2lvblByb3BlcnRpZXMoCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHByb3BlcnRpZXNfb2JqZWN0OiBBbnkKCSkgewoJCWFkZFNlc3Npb25Qcm9wZXJ0aWVzKAoJCQlzZXNzaW9uX3NlY3VyZV9pZDogJHNlc3Npb25fc2VjdXJlX2lkCgkJCXByb3BlcnRpZXNfb2JqZWN0OiAkcHJvcGVydGllc19vYmplY3QKCQkpCgl9CmAseHI9V2AKCW11dGF0aW9uIHB1c2hNZXRyaWNzKCRtZXRyaWNzOiBbTWV0cmljSW5wdXRdISkgewoJCXB1c2hNZXRyaWNzKG1ldHJpY3M6ICRtZXRyaWNzKQoJfQpgLEFyPVdgCgltdXRhdGlvbiBhZGRTZXNzaW9uRmVlZGJhY2soCgkJJHNlc3Npb25fc2VjdXJlX2lkOiBTdHJpbmchCgkJJHVzZXJfbmFtZTogU3RyaW5nCgkJJHVzZXJfZW1haWw6IFN0cmluZwoJCSR2ZXJiYXRpbTogU3RyaW5nIQoJCSR0aW1lc3RhbXA6IFRpbWVzdGFtcCEKCSkgewoJCWFkZFNlc3Npb25GZWVkYmFjaygKCQkJc2Vzc2lvbl9zZWN1cmVfaWQ6ICRzZXNzaW9uX3NlY3VyZV9pZAoJCQl1c2VyX25hbWU6ICR1c2VyX25hbWUKCQkJdXNlcl9lbWFpbDogJHVzZXJfZW1haWwKCQkJdmVyYmF0aW06ICR2ZXJiYXRpbQoJCQl0aW1lc3RhbXA6ICR0aW1lc3RhbXAKCQkpCgl9CmAsSXI9V2AKCW11dGF0aW9uIGluaXRpYWxpemVTZXNzaW9uKAoJCSRzZXNzaW9uX3NlY3VyZV9pZDogU3RyaW5nIQoJCSRvcmdhbml6YXRpb25fdmVyYm9zZV9pZDogU3RyaW5nIQoJCSRlbmFibGVfc3RyaWN0X3ByaXZhY3k6IEJvb2xlYW4hCgkJJHByaXZhY3lfc2V0dGluZzogU3RyaW5nIQoJCSRlbmFibGVfcmVjb3JkaW5nX25ldHdvcmtfY29udGVudHM6IEJvb2xlYW4hCgkJJGNsaWVudFZlcnNpb246IFN0cmluZyEKCQkkZmlyc3Rsb2FkVmVyc2lvbjogU3RyaW5nIQoJCSRjbGllbnRDb25maWc6IFN0cmluZyEKCQkkZW52aXJvbm1lbnQ6IFN0cmluZyEKCQkkaWQ6IFN0cmluZyEKCQkkYXBwVmVyc2lvbjogU3RyaW5nCgkJJHNlcnZpY2VOYW1lOiBTdHJpbmchCgkJJGNsaWVudF9pZDogU3RyaW5nIQoJCSRuZXR3b3JrX3JlY29yZGluZ19kb21haW5zOiBbU3RyaW5nIV0KCQkkZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzogQm9vbGVhbgoJKSB7CgkJaW5pdGlhbGl6ZVNlc3Npb24oCgkJCXNlc3Npb25fc2VjdXJlX2lkOiAkc2Vzc2lvbl9zZWN1cmVfaWQKCQkJb3JnYW5pemF0aW9uX3ZlcmJvc2VfaWQ6ICRvcmdhbml6YXRpb25fdmVyYm9zZV9pZAoJCQllbmFibGVfc3RyaWN0X3ByaXZhY3k6ICRlbmFibGVfc3RyaWN0X3ByaXZhY3kKCQkJZW5hYmxlX3JlY29yZGluZ19uZXR3b3JrX2NvbnRlbnRzOiAkZW5hYmxlX3JlY29yZGluZ19uZXR3b3JrX2NvbnRlbnRzCgkJCWNsaWVudFZlcnNpb246ICRjbGllbnRWZXJzaW9uCgkJCWZpcnN0bG9hZFZlcnNpb246ICRmaXJzdGxvYWRWZXJzaW9uCgkJCWNsaWVudENvbmZpZzogJGNsaWVudENvbmZpZwoJCQllbnZpcm9ubWVudDogJGVudmlyb25tZW50CgkJCWFwcFZlcnNpb246ICRhcHBWZXJzaW9uCgkJCXNlcnZpY2VOYW1lOiAkc2VydmljZU5hbWUKCQkJZmluZ2VycHJpbnQ6ICRpZAoJCQljbGllbnRfaWQ6ICRjbGllbnRfaWQKCQkJbmV0d29ya19yZWNvcmRpbmdfZG9tYWluczogJG5ldHdvcmtfcmVjb3JkaW5nX2RvbWFpbnMKCQkJZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzogJGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmcKCQkJcHJpdmFjeV9zZXR0aW5nOiAkcHJpdmFjeV9zZXR0aW5nCgkJKSB7CgkJCXNlY3VyZV9pZAoJCQlwcm9qZWN0X2lkCgkJfQoJfQpgLE9yPVdgCglxdWVyeSBJZ25vcmUoJGlkOiBJRCEpIHsKCQlpZ25vcmUoaWQ6ICRpZCkKCX0KYCxTcj0oZSx0LG4saSk9PmUoKTtmdW5jdGlvbiB3cihlLHQ9U3Ipe3JldHVybntQdXNoUGF5bG9hZChuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChfcixuLFAoUCh7fSxpKSxyKSksIlB1c2hQYXlsb2FkIiwibXV0YXRpb24iLG4pfSxQdXNoUGF5bG9hZENvbXByZXNzZWQobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoVHIsbixQKFAoe30saSkscikpLCJQdXNoUGF5bG9hZENvbXByZXNzZWQiLCJtdXRhdGlvbiIsbil9LGlkZW50aWZ5U2Vzc2lvbihuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChicixuLFAoUCh7fSxpKSxyKSksImlkZW50aWZ5U2Vzc2lvbiIsIm11dGF0aW9uIixuKX0sYWRkU2Vzc2lvblByb3BlcnRpZXMobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoTnIsbixQKFAoe30saSkscikpLCJhZGRTZXNzaW9uUHJvcGVydGllcyIsIm11dGF0aW9uIixuKX0scHVzaE1ldHJpY3MobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoeHIsbixQKFAoe30saSkscikpLCJwdXNoTWV0cmljcyIsIm11dGF0aW9uIixuKX0sYWRkU2Vzc2lvbkZlZWRiYWNrKG4saSl7cmV0dXJuIHQocj0+ZS5yZXF1ZXN0KEFyLG4sUChQKHt9LGkpLHIpKSwiYWRkU2Vzc2lvbkZlZWRiYWNrIiwibXV0YXRpb24iLG4pfSxpbml0aWFsaXplU2Vzc2lvbihuLGkpe3JldHVybiB0KHI9PmUucmVxdWVzdChJcixuLFAoUCh7fSxpKSxyKSksImluaXRpYWxpemVTZXNzaW9uIiwibXV0YXRpb24iLG4pfSxJZ25vcmUobixpKXtyZXR1cm4gdChyPT5lLnJlcXVlc3QoT3IsbixQKFAoe30saSkscikpLCJJZ25vcmUiLCJxdWVyeSIsbil9fX1jbGFzcyBEcntjb25zdHJ1Y3Rvcih0LG4pe2x0KHRoaXMsImRlYnVnIik7bHQodGhpcywibmFtZSIpO3RoaXMuZGVidWc9dCx0aGlzLm5hbWU9bn1sb2coLi4udCl7aWYodGhpcy5kZWJ1Zyl7bGV0IG49YFske0RhdGUubm93KCl9XWA7dGhpcy5uYW1lJiYobis9YCAtICR7dGhpcy5uYW1lfWApLGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsW24sLi4udF0pfX19dmFyIHN0OyhmdW5jdGlvbihlKXtlLkJpbGxpbmdRdW90YUV4Y2VlZGVkPSJCaWxsaW5nUXVvdGFFeGNlZWRlZCJ9KShzdHx8KHN0PXt9KSk7Y29uc3QgQ3I9MTAsa3I9MWUzLFJyPTUwMCxMcj1bc3QuQmlsbGluZ1F1b3RhRXhjZWVkZWQudG9TdHJpbmcoKV0sUHI9ZT0+e3ZhciBuO3JldHVybigobj1lLnJlc3BvbnNlLmVycm9ycyk9PW51bGw/dm9pZCAwOm4uZmluZChpPT5Mci5pbmNsdWRlcyhpLm1lc3NhZ2UpKSk9PT12b2lkIDB9LEZyPWU9Pntjb25zdCB0PShuLGkscixzLG89MCk9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXtyZXR1cm4geWllbGQgbigpfWNhdGNoKGMpe2lmKGMgaW5zdGFuY2VvZiBoZSYmIVByKGMpKXRocm93IGM7aWYobzxDcilyZXR1cm4geWllbGQgbmV3IFByb21pc2UoZj0+c2V0VGltZW91dChmLGtyK1JyKk1hdGgucG93KDIsbykpKSx5aWVsZCB0KG4saSxyLHMsbysxKTt0aHJvdyBjb25zb2xlLmVycm9yKGBoaWdobGlnaHQuaW86IFske2V8fGV9XSBkYXRhIHJlcXVlc3QgZmFpbGVkIGFmdGVyICR7b30gcmV0cmllc2ApLGN9fSk7cmV0dXJuIHR9LGp0PTUscXQ9MmUzLEJyPVsibnVtYmVyIiwic3RyaW5nIiwiYm9vbGVhbiJdO3ZhciBaOyhmdW5jdGlvbihlKXtlW2UuSW5pdGlhbGl6ZT0wXT0iSW5pdGlhbGl6ZSIsZVtlLkFzeW5jRXZlbnRzPTFdPSJBc3luY0V2ZW50cyIsZVtlLklkZW50aWZ5PTJdPSJJZGVudGlmeSIsZVtlLlByb3BlcnRpZXM9M109IlByb3BlcnRpZXMiLGVbZS5NZXRyaWNzPTRdPSJNZXRyaWNzIixlW2UuRmVlZGJhY2s9NV09IkZlZWRiYWNrIixlW2UuQ3VzdG9tRXZlbnQ9Nl09IkN1c3RvbUV2ZW50IixlW2UuU3RvcD03XT0iU3RvcCJ9KShafHwoWj17fSkpO2Z1bmN0aW9uICRyKGUpe3JldHVybiBYKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCB0PXlpZWxkIG5ldyBQcm9taXNlKG49Pntjb25zdCBpPW5ldyBGaWxlUmVhZGVyO2kub25sb2FkPSgpPT5uKGkucmVzdWx0KSxpLnJlYWRBc0RhdGFVUkwobmV3IEJsb2IoW2VdKSl9KTtyZXR1cm4gdC5zbGljZSh0LmluZGV4T2YoIiwiKSsxKX0pfWNvbnN0ICRlPXNlbGY7ZnVuY3Rpb24gR3QoZSx0KXtjb25zdCBuPXt9LGk9W10scj1bXTtmb3IoY29uc3RbcyxvXW9mIE9iamVjdC5lbnRyaWVzKGUpKXtpZihvPT1udWxsKWNvbnRpbnVlO0JyLmluY2x1ZGVzKHR5cGVvZiBvKXx8aS5wdXNoKHtbc106b30pO2xldCBjO3R5cGVvZiBvPT0ic3RyaW5nIj9jPW86Yz1wZShvKSxjLmxlbmd0aD5xdCYmKHIucHVzaCh7W3NdOm99KSxjPWMuc3Vic3RyaW5nKDAscXQpKSxuW3NdPWN9cmV0dXJuIHQhPT0ic2Vzc2lvbiImJihpLmxlbmd0aD4wJiZjb25zb2xlLndhcm4oYEhpZ2hsaWdodCB3YXMgcGFzc2VkIG9uZSBvciBtb3JlICR7dH0gcHJvcGVydGllcyBub3Qgb2YgdHlwZSBzdHJpbmcsIG51bWJlciwgb3IgYm9vbGVhbi5gLGkpLHIubGVuZ3RoPjAmJmNvbnNvbGUud2FybihgSGlnaGxpZ2h0IHdhcyBwYXNzZWQgb25lIG9yIG1vcmUgJHt0fSBwcm9wZXJ0aWVzIGV4Y2VlZGluZyAyMDAwIGNoYXJhY3RlcnMsIHdoaWNoIHdpbGwgYmUgdHJ1bmNhdGVkLmAscikpLG59e2xldCBlLHQsbixpPTAscj0wLHM9ITEsbz0wLGM9bmV3IERyKCExLCJbd29ya2VyXSIpO2NvbnN0IGY9W10sZD0oKT0+byE9PTAmJmk8anQmJiEhKG4hPW51bGwmJm4ubGVuZ3RoKSx1PSh2LEUpPT57JGUucG9zdE1lc3NhZ2Uoe3Jlc3BvbnNlOnt0eXBlOlouQ3VzdG9tRXZlbnQsdGFnOnYscGF5bG9hZDpFfX0pfSx5PXY9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e2lkOkUsZXZlbnRzOmssbWVzc2FnZXM6dyxlcnJvcnM6TCxyZXNvdXJjZXNTdHJpbmc6JCx3ZWJTb2NrZXRFdmVudHNTdHJpbmc6cSxoYXNTZXNzaW9uVW5sb2FkZWQ6TSxoaWdobGlnaHRMb2dzOkl9PXYsTz1wZSh7bWVzc2FnZXM6d30pO2xldCBqPXtzZXNzaW9uX3NlY3VyZV9pZDpuLHBheWxvYWRfaWQ6RS50b1N0cmluZygpLGV2ZW50czp7ZXZlbnRzOmt9LG1lc3NhZ2VzOk8scmVzb3VyY2VzOiQsd2ViX3NvY2tldF9ldmVudHM6cSxlcnJvcnM6TCxpc19iZWFjb246ITEsaGFzX3Nlc3Npb25fdW5sb2FkZWQ6TX07SSYmKGouaGlnaGxpZ2h0X2xvZ3M9SSk7Y29uc3QgVT1mbihKU09OLnN0cmluZ2lmeShqKSksSD1jbihVKSxRPXlpZWxkICRyKEgpLGE9e3R5cGU6Wi5Bc3luY0V2ZW50cyxpZDpFLGV2ZW50c1NpemU6VS5sZW5ndGgsY29tcHJlc3NlZFNpemU6US5sZW5ndGh9O2MubG9nKGBQdXNoaW5nIHBheWxvYWQ6ICR7SlNPTi5zdHJpbmdpZnkoe3Nlc3Npb25TZWN1cmVJRDpuLGlkOkUsZmlyc3RTSUQ6TWF0aC5taW4oLi4uai5ldmVudHMuZXZlbnRzLm1hcCh4PT54PT1udWxsP3ZvaWQgMDp4Ll9zaWQpLmZpbHRlcih4PT4hIXgpKSxldmVudHNMZW5ndGg6ai5ldmVudHMuZXZlbnRzLmxlbmd0aCxtZXNzYWdlc0xlbmd0aDp3Lmxlbmd0aCxyZXNvdXJjZXNMZW5ndGg6JC5sZW5ndGgsd2ViU29ja2V0TGVuZ3RoOnEubGVuZ3RoLGVycm9yc0xlbmd0aDpMLmxlbmd0aCxidWZMZW5ndGg6VS5sZW5ndGgsY29tcHJlc3NlZExlbmd0aDpILmxlbmd0aCxjb21wcmVzc2VkQmFzZTY0TGVuZ3RoOlEubGVuZ3RofSx2b2lkIDAsMil9YCk7Y29uc3QgaD1lLlB1c2hQYXlsb2FkQ29tcHJlc3NlZCh7c2Vzc2lvbl9zZWN1cmVfaWQ6bixwYXlsb2FkX2lkOkUudG9TdHJpbmcoKSxkYXRhOlF9KTtsZXQgXz1Qcm9taXNlLnJlc29sdmUoKTtmLmxlbmd0aCYmKF89ZS5wdXNoTWV0cmljcyh7bWV0cmljczpmfSksZi5zcGxpY2UoMCkpO2xldCBBPXBlcmZvcm1hbmNlLm5vdygpO2NvbnN0IFI9c2V0SW50ZXJ2YWwoKCk9PntBJiZwZXJmb3JtYW5jZS5ub3coKS1BPiR0JiYoY29uc29sZS53YXJuKGBVcGxvYWRpbmcgcHVzaFBheWxvYWQgdG9vayB0b28gbG9uZywgZmFpbHVyZSBudW1iZXIgIyR7cn0uYCkscis9MSxjbGVhckludGVydmFsKFIpLHI+PWp0JiYoY29uc29sZS53YXJuKCJVcGxvYWRpbmcgcHVzaFBheWxvYWQgdG9vayB0b28gbG9uZywgc3RvcHBpbmcgcmVjb3JkaW5nIHRvIGF2b2lkIE9PTS4iKSwkZS5wb3N0TWVzc2FnZSh7cmVzcG9uc2U6e3R5cGU6Wi5TdG9wLHJlcXVlc3RTdGFydDpBLGFzeW5jRXZlbnRzUmVzcG9uc2U6YX19KSxiKHt0eXBlOlouUHJvcGVydGllcyxwcm9wZXJ0aWVzT2JqZWN0OntzdG9wUmVhc29uOiJQdXNoIFBheWxvYWQgVGltZW91dCJ9LHByb3BlcnR5VHlwZTp7dHlwZToidHJhY2sifX0pKSl9LDEwMCk7dHJ5e3lpZWxkIFByb21pc2UuYWxsKFtoLF9dKSxyJiZwZXJmb3JtYW5jZS5ub3coKS1BPD0kdCYmKGNvbnNvbGUud2FybihgcHVzaFBheWxvYWQgc3VjY2VlZGVkIGFmdGVyICMke3J9IGZhaWx1cmVzLCByZXNldHRpbmcgc3RvcCBzd2l0Y2guYCkscj0wKX1maW5hbGx5e0E9MCxjbGVhckludGVydmFsKFIpfSRlLnBvc3RNZXNzYWdlKHtyZXNwb25zZTphfSl9KSxnPXY9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e3VzZXJPYmplY3Q6RSx1c2VySWRlbnRpZmllcjprLHNvdXJjZTp3fT12O3c9PT0ic2VnbWVudCI/dSgiU2VnbWVudCBJZGVudGlmeSIscGUoUCh7dXNlcklkZW50aWZpZXI6a30sRSkpKTp1KCJJZGVudGlmeSIscGUoUCh7dXNlcklkZW50aWZpZXI6a30sRSkpKSx5aWVsZCBlLmlkZW50aWZ5U2Vzc2lvbih7c2Vzc2lvbl9zZWN1cmVfaWQ6bix1c2VyX2lkZW50aWZpZXI6ayx1c2VyX29iamVjdDpHdChFLCJ1c2VyIil9KTtjb25zdCBMPXc9PT0ic2VnbWVudCI/dzoiZGVmYXVsdCI7Yy5sb2coYElkZW50aWZ5ICgke2t9LCBzb3VyY2U6ICR7TH0pIHcvIG9iajogJHtwZShFKX0gQCAke3R9YCl9KSxiPXY9PlgodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0e3Byb3BlcnRpZXNPYmplY3Q6RSxwcm9wZXJ0eVR5cGU6a309djtsZXQgdzsoaz09bnVsbD92b2lkIDA6ay50eXBlKT09PSJzZXNzaW9uIj8odz0iU2Vzc2lvbiIseWllbGQgZS5hZGRTZXNzaW9uUHJvcGVydGllcyh7c2Vzc2lvbl9zZWN1cmVfaWQ6bixwcm9wZXJ0aWVzX29iamVjdDpHdChFLCJzZXNzaW9uIil9KSk6KGs9PW51bGw/dm9pZCAwOmsuc291cmNlKT09PSJzZWdtZW50Ij93PSJTZWdtZW50Ijp3PSJUcmFjayIsdyE9PSJTZXNzaW9uIiYmdSh3LHBlKEUpKSxjLmxvZyhgQWRkaW5nICR7d30gUHJvcGVydGllcyB0byBzZXNzaW9uICgke259KSB3LyBvYmo6ICR7SlNPTi5zdHJpbmdpZnkoRSl9IEAgJHt0fWApfSksbT12PT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtmLnB1c2goLi4udi5tZXRyaWNzLm1hcChFPT4oe25hbWU6RS5uYW1lLHZhbHVlOkUudmFsdWUsc2Vzc2lvbl9zZWN1cmVfaWQ6bixjYXRlZ29yeTpFLmNhdGVnb3J5LGdyb3VwOkUuZ3JvdXAsdGltZXN0YW1wOkUudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksdGFnczpFLnRhZ3N9KSkpfSksTj12PT5YKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdHt0aW1lc3RhbXA6RSx2ZXJiYXRpbTprLHVzZXJFbWFpbDp3LHVzZXJOYW1lOkx9PXY7eWllbGQgZS5hZGRTZXNzaW9uRmVlZGJhY2soe3Nlc3Npb25fc2VjdXJlX2lkOm4sdGltZXN0YW1wOkUsdmVyYmF0aW06ayx1c2VyX2VtYWlsOncsdXNlcl9uYW1lOkx9KX0pOyRlLm9ubWVzc2FnZT1mdW5jdGlvbih2KXtyZXR1cm4gWCh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYodi5kYXRhLm1lc3NhZ2UudHlwZT09PVouSW5pdGlhbGl6ZSl7dD12LmRhdGEubWVzc2FnZS5iYWNrZW5kLG49di5kYXRhLm1lc3NhZ2Uuc2Vzc2lvblNlY3VyZUlELHM9di5kYXRhLm1lc3NhZ2UuZGVidWcsbz12LmRhdGEubWVzc2FnZS5yZWNvcmRpbmdTdGFydFRpbWUsYy5kZWJ1Zz1zLGU9d3IobmV3IGNyKHQse2hlYWRlcnM6e319KSxGcihuKSk7cmV0dXJufWlmKGQoKSl0cnl7di5kYXRhLm1lc3NhZ2UudHlwZT09PVouQXN5bmNFdmVudHM/eWllbGQgeSh2LmRhdGEubWVzc2FnZSk6di5kYXRhLm1lc3NhZ2UudHlwZT09PVouSWRlbnRpZnk/eWllbGQgZyh2LmRhdGEubWVzc2FnZSk6di5kYXRhLm1lc3NhZ2UudHlwZT09PVouUHJvcGVydGllcz95aWVsZCBiKHYuZGF0YS5tZXNzYWdlKTp2LmRhdGEubWVzc2FnZS50eXBlPT09Wi5NZXRyaWNzP3lpZWxkIG0odi5kYXRhLm1lc3NhZ2UpOnYuZGF0YS5tZXNzYWdlLnR5cGU9PT1aLkZlZWRiYWNrJiYoeWllbGQgTih2LmRhdGEubWVzc2FnZSkpLGk9MH1jYXRjaChFKXtzJiZjb25zb2xlLmVycm9yKEUpLGkrPTF9fSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWhpZ2hsaWdodC1jbGllbnQtd29ya2VyLUJlTlRnNWxWLmpzLm1hcAo=",Wu="undefined"!=typeof self&&self.Blob&&new Blob([(e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(0))))(Su)],{type:"text/javascript;charset=utf-8"});function Xu(e){let t;try{if(t=Wu&&(self.URL||self.webkitURL).createObjectURL(Wu),!t)throw"";const i=new Worker(t,{name:null==e?void 0:e.name});return i.addEventListener("error",(()=>{(self.URL||self.webkitURL).revokeObjectURL(t)})),i}catch(i){return new Worker("data:text/javascript;base64,"+Su,{name:null==e?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}var Ru;!function(e){e[e.Initialize=0]="Initialize",e[e.AsyncEvents=1]="AsyncEvents",e[e.Identify=2]="Identify",e[e.Properties=3]="Properties",e[e.Metrics=4]="Metrics",e[e.Feedback=5]="Feedback",e[e.CustomEvent=6]="CustomEvent",e[e.Stop=7]="Stop"}(Ru||(Ru={}));const wu=(e,t)=>{console.warn("Highlight Warning: (".concat(e,"): "),{output:t})};var vu;!function(e){e.CLIENT_ID="highlightClientID"}(vu||(vu={}));class Cu{constructor(e,t){var i,s,n,o,r;S(this,"options"),S(this,"isRunningOnHighlight"),S(this,"organizationID"),S(this,"graphqlSDK"),S(this,"events"),S(this,"sessionData"),S(this,"ready"),S(this,"manualStopped"),S(this,"state"),S(this,"logger"),S(this,"enableSegmentIntegration"),S(this,"privacySetting"),S(this,"enableCanvasRecording"),S(this,"enablePerformanceRecording"),S(this,"samplingStrategy"),S(this,"inlineImages"),S(this,"inlineStylesheet"),S(this,"debugOptions"),S(this,"listeners"),S(this,"firstloadVersion"),S(this,"environment"),S(this,"sessionShortcut"),S(this,"appVersion"),S(this,"serviceName"),S(this,"_worker"),S(this,"_optionsInternal"),S(this,"_backendUrl"),S(this,"_recordingStartTime"),S(this,"_isOnLocalHost"),S(this,"_onToggleFeedbackFormVisibility"),S(this,"_firstLoadListeners"),S(this,"_isCrossOriginIframe"),S(this,"_eventBytesSinceSnapshot"),S(this,"_lastSnapshotTime"),S(this,"_lastVisibilityChangeTime"),S(this,"pushPayloadTimerId"),S(this,"hasSessionUnloaded"),S(this,"hasPushedData"),S(this,"reloaded"),S(this,"_hasPreviouslyInitialized"),S(this,"_recordStop"),e.sessionSecureID||(e.sessionSecureID=(0,h.G)()),this.options=e,"boolean"==typeof(null==(i=this.options)?void 0:i.debug)?this.debugOptions=this.options.debug?{clientInteractions:!0}:{}:this.debugOptions=null!=(n=null==(s=this.options)?void 0:s.debug)?n:{},this.logger=new pu(this.debugOptions.clientInteractions),e.storageMode&&(this.logger.log("initializing in ".concat(e.storageMode," session mode")),(0,h.v)(e.storageMode)),(0,h.w)(!(null!=e&&e.skipCookieSessionDataLoad)),this._worker=new Xu,this._worker.onmessage=e=>{var t,i,s;(null==(t=e.data.response)?void 0:t.type)===Ru.AsyncEvents?(this._eventBytesSinceSnapshot+=e.data.response.eventsSize,this.logger.log("Web worker sent payloadID ".concat(e.data.response.id," size ").concat(e.data.response.eventsSize," bytes, compression ratio ").concat(e.data.response.eventsSize/e.data.response.compressedSize,".\n                Total since snapshot: ").concat((this._eventBytesSinceSnapshot/1e6).toFixed(1),"MB"))):(null==(i=e.data.response)?void 0:i.type)===Ru.CustomEvent?this.addCustomEvent(e.data.response.tag,e.data.response.payload):(null==(s=e.data.response)?void 0:s.type)===Ru.Stop&&(wu("Stopping recording due to worker failure",e.data.response),this.stopRecording(!1))};let l=(0,h.f)();if(this.reloaded=!1,null!=(o=this.sessionData)&&o.sessionSecureID||null==l||!l.sessionSecureID){for(const e of Object.values(h.S))(0,h.r)(e);this.sessionData={sessionSecureID:this.options.sessionSecureID,projectID:0,payloadID:1,sessionStartTime:Date.now()}}else this.sessionData=l,this.options.sessionSecureID=l.sessionSecureID,this.reloaded=!0,this.logger.log("Tab reloaded, continuing previous session: ".concat(this.sessionData.sessionSecureID));this._hasPreviouslyInitialized=!1,this._firstLoadListeners=t||new h.F(this.options);try{window.parent.document&&(this._isCrossOriginIframe=!1)}catch(a){this._isCrossOriginIframe=null==(r=this.options.recordCrossOriginIframe)||r}this._initMembers(this.options)}static create(e){return new Cu(e)}_reset(e){return W(this,arguments,(function(e){var t=this;let{forceNew:i}=e;return function*(){let e,s;if(t.pushPayloadTimerId&&(clearTimeout(t.pushPayloadTimerId),t.pushPayloadTimerId=void 0),!i)try{e=(0,h.e)(h.S.USER_IDENTIFIER);const t=(0,h.e)(h.S.USER_OBJECT);t&&(s=JSON.parse(t))}catch(n){}for(const t of Object.values(h.S))(0,h.r)(t);t.sessionData.sessionSecureID=(0,h.G)(),t.sessionData.sessionStartTime=Date.now(),t.options.sessionSecureID=t.sessionData.sessionSecureID,t.stopRecording(),t._firstLoadListeners=new h.F(t.options),yield t.initialize(),e&&s&&t.identify(e,s)}()}))}_initMembers(e){var t,i,s,n,o,r,l,a,c,d,u;this.sessionShortcut=!1,this._recordingStartTime=0,this._isOnLocalHost="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||""===window.location.hostname,this.ready=!1,this.state="NotRecording",this.manualStopped=!1,this.enableSegmentIntegration=!!e.enableSegmentIntegration,this.privacySetting=null!=(t=e.privacySetting)?t:"default",this.enableCanvasRecording=null!=(i=e.enableCanvasRecording)&&i,this.enablePerformanceRecording=null==(s=e.enablePerformanceRecording)||s,this.inlineImages=null!=(n=e.inlineImages)?n:this._isOnLocalHost,this.inlineStylesheet=null==(o=e.inlineStylesheet)||o,this.samplingStrategy=G({canvasFactor:.5,canvasMaxSnapshotDimension:360,canvasClearWebGLBuffer:!0,dataUrlOptions:(0,h.h)()},null!=(r=e.samplingStrategy)?r:{canvas:2}),this._backendUrl=null!=(l=null==e?void 0:e.backendUrl)?l:"https://pub.highlight.io","/"===this._backendUrl[0]&&(this._backendUrl=new URL(this._backendUrl,document.baseURI).href);const p=new _("".concat(this._backendUrl),{headers:{}});this.graphqlSDK=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bc;return{PushPayload:(i,s)=>t((t=>e.request(Kc,i,G(G({},s),t))),"PushPayload","mutation",i),PushPayloadCompressed:(i,s)=>t((t=>e.request(Fc,i,G(G({},s),t))),"PushPayloadCompressed","mutation",i),identifySession:(i,s)=>t((t=>e.request(Mc,i,G(G({},s),t))),"identifySession","mutation",i),addSessionProperties:(i,s)=>t((t=>e.request(Hc,i,G(G({},s),t))),"addSessionProperties","mutation",i),pushMetrics:(i,s)=>t((t=>e.request(zc,i,G(G({},s),t))),"pushMetrics","mutation",i),addSessionFeedback:(i,s)=>t((t=>e.request(Oc,i,G(G({},s),t))),"addSessionFeedback","mutation",i),initializeSession:(i,s)=>t((t=>e.request(Pc,i,G(G({},s),t))),"initializeSession","mutation",i),Ignore:(i,s)=>t((t=>e.request(Ec,i,G(G({},s),t))),"Ignore","query",i)}}(p,gu((null==(a=this.sessionData)?void 0:a.sessionSecureID)||(null==(c=this.options)?void 0:c.sessionSecureID))),this.environment=null!=(d=e.environment)?d:"production",this.appVersion=e.appVersion,this.serviceName=null!=(u=e.serviceName)?u:"","string"==typeof e.organizationID?this.organizationID=e.organizationID:this.organizationID=e.organizationID.toString(),this.isRunningOnHighlight="1"===this.organizationID||"1jdkoe52"===this.organizationID,this.firstloadVersion=e.firstloadVersion||"unknown",this.sessionShortcut=e.sessionShortcut||!1,this._onToggleFeedbackFormVisibility=()=>{};const m=e,{firstloadVersion:b}=m,y=V(m,["firstloadVersion"]);this._optionsInternal=y,this.listeners=[],this.events=[],this.hasSessionUnloaded=!1,this.hasPushedData=!1,window.Intercom&&window.Intercom("onShow",(()=>{window.Intercom("update",{highlightSessionURL:this.getCurrentSessionURLWithTimestamp()}),this.addProperties({event:"Intercom onShow"})})),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=(new Date).getTime(),this._lastVisibilityChangeTime=(new Date).getTime()}identify(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;e&&""!==e?(this.sessionData.userIdentifier=e.toString(),this.sessionData.userObject=t,(0,h.s)(h.S.USER_IDENTIFIER,e.toString()),(0,h.s)(h.S.USER_OBJECT,JSON.stringify(t)),this._worker.postMessage({message:{type:Ru.Identify,userIdentifier:e,userObject:t,source:i}})):console.warn("Highlight's identify() call was passed an empty identifier.",{user_identifier:e,user_object:t})}pushCustomError(e,t){return this.consumeCustomError(new Error(e),void 0,t)}consumeCustomError(e,t,i){let s={};if(i)try{s=G(G({},JSON.parse(i)),s)}catch(n){}return this.consumeError(e,{message:t,payload:s})}consumeError(e,t){let{message:i,payload:s,source:n,type:o}=t;var r,l,a,c;e.cause&&(s=I(G({},s),{"exception.cause":e.cause}));let d=i?i+":"+e.message:e.message;"React.ErrorBoundary"===o&&(d="ErrorBoundary: "+d);const u=h.E.parse(e);this._firstLoadListeners.errors.push({event:d,type:null!=o?o:"custom",url:window.location.href,source:null!=n?n:"",lineNumber:null!=(r=u[0])&&r.lineNumber?null==(l=u[0])?void 0:l.lineNumber:0,columnNumber:null!=(a=u[0])&&a.columnNumber?null==(c=u[0])?void 0:c.columnNumber:0,stackTrace:u,timestamp:(new Date).toISOString(),payload:JSON.stringify(s)})}addProperties(){let e=arguments.length>1?arguments[1]:void 0;const t=G({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});Object.entries(t).forEach((e=>{let[i,s]=e;try{structuredClone(s)}catch(n){delete t[i]}})),this._worker.postMessage({message:{type:Ru.Properties,propertiesObject:t,propertyType:e}})}initialize(e){return W(this,null,(function*(){var t,i,s,n,o,r,l,a,c;if(null!=navigator&&navigator.webdriver&&!window.Cypress||null!=(t=null==navigator?void 0:navigator.userAgent)&&t.includes("Googlebot")||null!=(i=null==navigator?void 0:navigator.userAgent)&&i.includes("AdsBot"))null==(s=this._firstLoadListeners)||s.stopListening();else try{if(null!=e&&e.forceNew)return void(yield this._reset(e));this.logger.log("Initializing...",e,this.sessionData,this.options),this.sessionData=null!=(n=(0,h.f)(this.sessionData.sessionSecureID))?n:this.sessionData,null!=(o=this.sessionData)&&o.sessionStartTime?this._recordingStartTime=null==(r=this.sessionData)?void 0:r.sessionStartTime:(this._recordingStartTime=(new Date).getTime(),this.sessionData.sessionStartTime=this._recordingStartTime),(0,h.j)(""),(0,h.k)(this.sessionData);let t,i=(0,h.e)(vu.CLIENT_ID);i||(i=(0,h.G)(),(0,h.s)(vu.CLIENT_ID,i)),t=!this.options.disableSessionRecording&&void 0===this.options.disableNetworkRecording&&"boolean"!=typeof this.options.networkRecording&&((null==(l=this.options.networkRecording)?void 0:l.recordHeadersAndBody)||!1);let s=[];if("object"==typeof this.options.networkRecording&&null!=(a=this.options.networkRecording.destinationDomains)&&a.length&&(s=this.options.networkRecording.destinationDomains),this._isCrossOriginIframe)yield this._setupCrossOriginIframe();else{const e=yield this.graphqlSDK.initializeSession({organization_verbose_id:this.organizationID,enable_strict_privacy:"strict"===this.privacySetting,privacy_setting:this.privacySetting,enable_recording_network_contents:t,clientVersion:this.firstloadVersion,firstloadVersion:this.firstloadVersion,clientConfig:JSON.stringify(this._optionsInternal),environment:this.environment,id:i,appVersion:this.appVersion,serviceName:this.serviceName,session_secure_id:this.sessionData.sessionSecureID,client_id:i,network_recording_domains:s,disable_session_recording:this.options.disableSessionRecording});if(e.initializeSession.secure_id!==this.sessionData.sessionSecureID&&this.logger.log("Unexpected secure id returned by initializeSession: ".concat(e.initializeSession.secure_id,", expected ").concat(this.sessionData.sessionSecureID)),this.sessionData.sessionSecureID=e.initializeSession.secure_id,this.sessionData.projectID=parseInt((null==(c=null==e?void 0:e.initializeSession)?void 0:c.project_id)||"0"),!this.sessionData.projectID||!this.sessionData.sessionSecureID)return void console.error("Failed to initialize Highlight; an error occurred on our end.",this.sessionData)}if(this.logger.log("Loaded Highlight\nRemote: ".concat(this._backendUrl,"\nProject ID: ").concat(this.sessionData.projectID,"\nSessionSecureID: ").concat(this.sessionData.sessionSecureID)),this.options.sessionSecureID=this.sessionData.sessionSecureID,this._worker.postMessage({message:{type:Ru.Initialize,sessionSecureID:this.sessionData.sessionSecureID,backend:this._backendUrl,debug:!!this.debugOptions.clientInteractions,recordingStartTime:this._recordingStartTime}}),this.sessionData.userIdentifier&&this.identify(this.sessionData.userIdentifier,this.sessionData.userObject),this._firstLoadListeners.isListening()?this._firstLoadListeners.hasNetworkRecording||h.F.setupNetworkListener(this._firstLoadListeners,this.options):this._firstLoadListeners.startListening(),this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this._isCrossOriginIframe||(this.pushPayloadTimerId=setTimeout((()=>{this._save()}),h.l)),this.options.disableSessionRecording)return this.logger.log("Highlight is NOT RECORDING a session replay per H.init setting."),this.ready=!0,this.state="Recording",void(this.manualStopped=!1);const{getDeviceDetails:d}=(()=>{if(!("performance"in window)||!("memory"in performance))return{getDeviceDetails:void 0,getCurrentDeviceDetails:void 0};const e=window.performance;return{getDeviceDetails:()=>({deviceMemory:Vu(navigator.deviceMemory||0)}),getCurrentDeviceDetails:()=>({jsHeapSizeLimit:Iu(e.memory.jsHeapSizeLimit),totalJSHeapSize:Iu(e.memory.totalJSHeapSize),usedJSHeapSize:Iu(e.memory.usedJSHeapSize)})}})();d&&this.recordMetric([{name:h.M.DeviceMemory,value:d().deviceMemory,category:h.n.Device,group:window.location.href}]);const u=(e,t)=>{t&&this.logger.log("received isCheckout emit",{event:e}),this.events.push(e)};u.bind(this);const p=!!this._recordStop;this._recordStop&&(this._recordStop(),this._recordStop=void 0);const[m,b]=(e=>{switch(e){case"strict":case"default":return[!0,void 0];case"none":return[!1,{password:!0}]}})(this.privacySetting);this._recordStop=Gc({ignoreClass:"highlight-ignore",blockClass:"highlight-block",emit:u,recordCrossOriginIframes:this.options.recordCrossOriginIframe,privacySetting:this.privacySetting,maskAllInputs:m,maskInputOptions:b,recordCanvas:this.enableCanvasRecording,sampling:{canvas:{fps:this.samplingStrategy.canvas,fpsManual:this.samplingStrategy.canvasManualSnapshot,resizeFactor:this.samplingStrategy.canvasFactor,clearWebGLBuffer:this.samplingStrategy.canvasClearWebGLBuffer,initialSnapshotDelay:this.samplingStrategy.canvasInitialSnapshotDelay,dataURLOptions:this.samplingStrategy.dataUrlOptions,maxSnapshotDimension:this.samplingStrategy.canvasMaxSnapshotDimension}},keepIframeSrcFn:e=>!this.options.recordCrossOriginIframe,inlineImages:this.inlineImages,collectFonts:this.inlineImages,inlineStylesheet:this.inlineStylesheet,plugins:[F()],logger:"boolean"==typeof this.options.debug&&this.options.debug||"object"==typeof this.options.debug&&this.options.debug.domRecording?{debug:this.logger.log,warn:wu}:void 0}),p||this.options.recordCrossOriginIframe&&this._setupCrossOriginIframeParent(),document.referrer&&(window&&document.referrer.includes(window.location.origin)||(this.addCustomEvent("Referrer",document.referrer),this.addProperties({referrer:document.referrer},{type:"session"}))),this._setupWindowListeners(),this.ready=!0,this.state="Recording",this.manualStopped=!1}catch(d){this._isOnLocalHost&&(console.error(d),wu("initializeSession",d))}}))}_visibilityHandler(e){return W(this,null,(function*(){this.manualStopped?this.logger.log("Ignoring visibility event due to manual stop."):(new Date).getTime()-this._lastVisibilityChangeTime<h.V||(this._lastVisibilityChangeTime=(new Date).getTime(),this.logger.log("Detected window ".concat(e?"hidden":"visible",".")),e?(this.addCustomEvent("TabHidden",!0),this.options.disableBackgroundRecording&&this.stopRecording()):(this.options.disableBackgroundRecording&&(yield this.initialize()),this.addCustomEvent("TabHidden",!1)))}))}_setupCrossOriginIframe(){return W(this,null,(function*(){this.logger.log("highlight in cross-origin iframe is waiting "),yield new Promise((e=>{const t=i=>{if(i.data.highlight===mu){const s=i.data;this.logger.log("highlight got window message ",s),this.sessionData.projectID=s.projectID,this.sessionData.sessionSecureID=s.sessionSecureID,window.parent.postMessage({highlight:bu},"*"),window.removeEventListener("message",t),e()}};window.addEventListener("message",t)}))}))}_setupCrossOriginIframeParent(){this.logger.log("highlight setting up cross origin iframe parent notification"),setInterval((()=>{window.document.querySelectorAll("iframe").forEach((e=>{var t;null==(t=e.contentWindow)||t.postMessage({highlight:mu,projectID:this.sessionData.projectID,sessionSecureID:this.sessionData.sessionSecureID},"*")}))}),h.l),window.addEventListener("message",(e=>{e.data.highlight===bu&&this.logger.log("highlight got response from initialized iframe")}))}_setupWindowListeners(){var e;try{const t=this;this.enableSegmentIntegration&&this.listeners.push(id((e=>{if("track"===e.type){const i={};i["segment-event"]=e.event,t.addProperties(i,{type:"track",source:"segment"})}else if("identify"===e.type){const i=e.userId.replace(/^"(.*)"$/,"$1");t.identify(i,e.traits,"segment")}}))),this.listeners.push(jc((e=>{this.reloaded?(this.addCustomEvent("Reload",e),this.reloaded=!1,t.addProperties({reload:!0},{type:"session"})):this.addCustomEvent("Navigate",e)}))),this.listeners.push((e=>{let t;const i=()=>{clearTimeout(t),t=setTimeout((()=>{var t,i;e({height:window.innerHeight,width:window.innerWidth,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth,orientation:null!=(i=null==(t=window.screen.orientation)?void 0:t.angle)?i:0})}),500)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)})((e=>{this.addCustomEvent("Viewport",e),this.submitViewportMetrics(e)}))),this.listeners.push((e=>{const t=t=>{if(t.target){const i=Qc(t.target);e(i,t)}};return window.addEventListener("click",t),()=>window.removeEventListener("click",t)})(((e,t)=>{let i=null,s=null;if(t&&t.target){const e=t.target;i=Ac(e),s=e.textContent,s&&s.length>2e3&&(s=s.substring(0,2e3))}this.addCustomEvent("Click",{clickTarget:e,clickTextContent:s,clickSelector:i})}))),this.listeners.push((e=>{const t=t=>{if(t.target){const i=Qc(t.target);e(i)}};return window.addEventListener("focusin",t),()=>window.removeEventListener("focusin",t)})((e=>{e&&this.addCustomEvent("Focus",e)}))),this.listeners.push(hu((e=>{const{name:t,value:i}=e;this.recordMetric([{name:t,value:i,group:window.location.href,category:h.n.WebVital}])}))),this.sessionShortcut&&rd(this.sessionShortcut,(()=>{window.open(this.getCurrentSessionURLWithTimestamp(),"_blank")})),this.enablePerformanceRecording&&(this.listeners.push(((e,t)=>{let i=0,s=0;const n=()=>{const s=((new Date).getTime()-t)/1e3,n=ed.memory.jsHeapSizeLimit||0,o=ed.memory.usedJSHeapSize||0;e({jsHeapSizeLimit:n,usedJSHeapSize:o,relativeTimestamp:s,fps:i})};let o;n(),o=setInterval((()=>{n()}),5e3);let r=0,l=Date.now();const a=function(){var e=Date.now();r++,e>1e3+l&&(i=Math.round(1e3*r/(e-l)),r=0,l=e),s=requestAnimationFrame(a)};return a(),()=>{clearInterval(o),cancelAnimationFrame(s)}})((e=>{this.addCustomEvent("Performance",(0,h.t)(e)),this.recordMetric(Object.entries(e).map((e=>{let[t,i]=e;return i?{name:t,value:i,category:h.n.Performance,group:window.location.href}:void 0})).filter((e=>e)))}),this._recordingStartTime)),this.listeners.push($c((e=>{this.addCustomEvent("Jank",(0,h.t)(e)),this.recordMetric([{name:"Jank",value:e.jankAmount,category:h.n.WebVital,group:e.querySelector}])}),this._recordingStartTime))),this._hasPreviouslyInitialized||(null!=(e=window.electron)&&e.ipcRenderer?(window.electron.ipcRenderer.on("highlight.run",(e=>{let{visible:t}=e;this._visibilityHandler(!t)})),this.logger.log("Set up Electron highlight.run events.")):((e=>{let t,i;if("undefined"!=typeof document.hidden?(t="hidden",i="visibilitychange"):"undefined"!=typeof document.msHidden?(t="msHidden",i="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(t="webkitHidden",i="webkitvisibilitychange"),void 0===i)return()=>{};if(void 0===t)return()=>{};const s=t,n=()=>{const t=document[s];e(!!t)};document.addEventListener(i,n);const o=i})((e=>this._visibilityHandler(e))),this.logger.log("Set up document visibility listener.")),this._hasPreviouslyInitialized=!0);const i=()=>{this.hasSessionUnloaded=!0,this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0)};window.addEventListener("beforeunload",i),this.listeners.push((()=>window.removeEventListener("beforeunload",i)))}catch(i){this._isOnLocalHost&&(console.error(i),wu("initializeSession _setupWindowListeners",i))}const t=()=>{this.addCustomEvent("Page Unload",""),(0,h.j)(this.sessionData.sessionSecureID),(0,h.k)(this.sessionData)};if(window.addEventListener("beforeunload",t),this.listeners.push((()=>window.removeEventListener("beforeunload",t))),navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)){const e=()=>{this.addCustomEvent("Page Unload",""),(0,h.j)(this.sessionData.sessionSecureID),(0,h.k)(this.sessionData)};window.addEventListener("pagehide",e),this.listeners.push((()=>window.removeEventListener("beforeunload",e)))}}submitViewportMetrics(e){let{height:t,width:i,availHeight:s,availWidth:n}=e;this.recordMetric([{name:h.M.ViewportHeight,value:t,category:h.n.Device,group:window.location.href},{name:h.M.ViewportWidth,value:i,category:h.n.Device,group:window.location.href},{name:h.M.ScreenHeight,value:s,category:h.n.Device,group:window.location.href},{name:h.M.ScreenWidth,value:n,category:h.n.Device,group:window.location.href},{name:h.M.ViewportArea,value:t*i,category:h.n.Device,group:window.location.href}])}recordMetric(e){this._worker.postMessage({message:{type:Ru.Metrics,metrics:e.map((e=>I(G({},e),{tags:e.tags||[],group:e.group||window.location.href,category:e.category||h.n.Frontend,timestamp:new Date})))}})}stopRecording(e){this.manualStopped=!!e,this.manualStopped&&this.addCustomEvent("Stop","H.stop() was called which stops Highlight from recording."),this.state="NotRecording",e&&this._recordStop&&(this._recordStop(),this._recordStop=void 0),this.listeners.forEach((e=>e())),this.listeners=[]}getCurrentSessionTimestamp(){return this._recordingStartTime}getCurrentSessionURLWithTimestamp(){const e=(new Date).getTime(),{projectID:t,sessionSecureID:i}=this.sessionData,s=(e-this._recordingStartTime)/1e3;return"https://".concat(h.H,"/").concat(t,"/sessions/").concat(i,"?ts=").concat(s)}getCurrentSessionURL(){const e=this.sessionData.projectID,t=this.sessionData.sessionSecureID;return e&&t?"https://".concat(h.H,"/").concat(e,"/sessions/").concat(t):null}snapshot(e){return W(this,null,(function*(){yield Gc.snapshotCanvas(e)}))}addSessionFeedback(e){let{timestamp:t,verbatim:i,user_email:s,user_name:n}=e;var o;this._worker.postMessage({message:{type:Ru.Feedback,verbatim:i,timestamp:t,userName:n||this.sessionData.userIdentifier,userEmail:s||(null==(o=this.sessionData.userObject)?void 0:o.name)}})}_save(){return W(this,null,(function*(){var e;try{let t;"Recording"===this.state&&this.listeners&&this.sessionData.sessionStartTime&&Date.now()-this.sessionData.sessionStartTime>h.o&&(this.logger.log("Resetting session",{start:this.sessionData.sessionStartTime}),yield this._reset({})),"local"===(null==(e=this.options)?void 0:e.sendMode)&&(t=e=>W(this,null,(function*(){let t=new Blob([JSON.stringify({query:x(Kc),variables:e})],{type:"application/json"});return yield window.fetch("".concat(this._backendUrl),{method:"POST",body:t}),0}))),yield this._sendPayload({sendFn:t}),this.hasPushedData=!0,this.sessionData.lastPushTime=Date.now(),(0,h.k)(this.sessionData)}catch(t){this._isOnLocalHost&&(console.error(t),wu("_save",t))}"Recording"===this.state&&(this.pushPayloadTimerId&&(clearTimeout(this.pushPayloadTimerId),this.pushPayloadTimerId=void 0),this.pushPayloadTimerId=setTimeout((()=>{this._save()}),h.q))}))}addCustomEvent(e,t){if("NotRecording"===this.state){let i;const s=()=>{clearInterval(i),"Recording"===this.state&&this.events.length>0?Vc(e,t):i=setTimeout(s,500)};i=setTimeout(s,500)}else"Recording"===this.state&&(this.events.length>0||this.hasPushedData)&&Vc(e,t)}_sendPayload(e){return W(this,arguments,(function(e){var t=this;let{sendFn:i}=e;return function*(){const e=h.F.getRecordedNetworkResources(t._firstLoadListeners,t._recordingStartTime),s=h.F.getRecordedWebSocketEvents(t._firstLoadListeners),n=[...t.events],o=[...t._firstLoadListeners.messages],r=[...t._firstLoadListeners.errors],{bytes:l,time:a}=t.enableCanvasRecording?h.u.canvas:h.u.normal;t._eventBytesSinceSnapshot>=l&&(new Date).getTime()-t._lastSnapshotTime>=a&&t.takeFullSnapshot(),t.logger.log("Sending: ".concat(n.length," events, ").concat(o.length," messages, ").concat(e.length," network resources, ").concat(r.length," errors \nTo: ").concat(t._backendUrl,"\nOrg: ").concat(t.organizationID,"\nSessionSecureID: ").concat(t.sessionData.sessionSecureID));const c=(0,h.e)(Zu)||"";i?yield i({session_secure_id:t.sessionData.sessionSecureID,payload_id:t.sessionData.payloadID.toString(),events:{events:n},messages:(0,h.t)({messages:o}),resources:JSON.stringify({resources:e}),web_socket_events:JSON.stringify({webSocketEvents:s}),errors:r,is_beacon:!1,has_session_unloaded:t.hasSessionUnloaded}):t._worker.postMessage({message:{type:Ru.AsyncEvents,id:t.sessionData.payloadID++,events:n,messages:o,errors:r,resourcesString:JSON.stringify({resources:e}),webSocketEventsString:JSON.stringify({webSocketEvents:s}),hasSessionUnloaded:t.hasSessionUnloaded,highlightLogs:c}}),(0,h.k)(t.sessionData),h.F.clearRecordedNetworkResources(t._firstLoadListeners),t.events=t.events.slice(n.length),t._firstLoadListeners.messages=t._firstLoadListeners.messages.slice(o.length),t._firstLoadListeners.errors=t._firstLoadListeners.errors.slice(r.length),Gu(c)}()}))}takeFullSnapshot(){this._recordStop?(this.logger.log("taking full snapshot",{bytesSinceSnapshot:this._eventBytesSinceSnapshot,lastSnapshotTime:this._lastSnapshotTime}),Gc.takeFullSnapshot(),this._eventBytesSinceSnapshot=0,this._lastSnapshotTime=(new Date).getTime()):this.logger.log("skipping full snapshot as rrweb is not running")}}}}]);
//# sourceMappingURL=791.72babce0.chunk.js.map